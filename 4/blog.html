<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <title>Why should I have written ZeroMQ in C, not C++ (part I) - 250bpm</title>
    
    	<script type="text/javascript" src="http://www.wikidot.com/default__flow/login__CustomDomainScript?site_id=148706"></script>

    
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--javascript/init.combined.js"></script>
    <script  type="text/javascript">
        var URL_HOST = 'www.wikidot.com';
        var URL_DOMAIN = 'wikidot.com';
        var USE_SSL =  true ;
        var URL_STATIC = 'http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9';
        // global request information
        
        var WIKIREQUEST = {};
        WIKIREQUEST.info = {};
        
        WIKIREQUEST.info.domain = "250bpm.com";
        WIKIREQUEST.info.siteId = 148706;
        WIKIREQUEST.info.siteUnixName = "250bpm";
        WIKIREQUEST.info.categoryId = 2550760;
        WIKIREQUEST.info.themeId = 18520;
        WIKIREQUEST.info.requestPageName = "blog:4";
        OZONE.request.timestamp = 1594263444;
        OZONE.request.date = new Date();
        WIKIREQUEST.info.lang = 'en';
                WIKIREQUEST.info.pageUnixName = "blog:4";
        WIKIREQUEST.info.pageId = 13308662;
                        WIKIREQUEST.info.lang = "en";
        OZONE.lang = "en";
        var isUAMobile = !!/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    </script>
    
    


    
        <script  type="text/javascript">
    
        require.config({
            baseUrl: URL_STATIC + '/common--javascript',
            paths: {
                'jquery.ui': 'jquery-ui.min',
                'jquery.form': 'jquery.form'
            }
        });
    
    </script>
    
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
            
    
    
    
    
    <meta http-equiv="content-language" content="en"/>
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--javascript/WIKIDOT.combined.js"></script>
        
    
    <style type="text/css" id="internal-style">
        
        /* modules */
        
                
        /* theme */
                    @import url(http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--theme/base/css/style.css);
                    @import url(http://250bpm.wdfiles.com/local--theme/250bpm/style.css);
            </style>
    
        
        
        
    <link rel="shortcut icon" href="/local--favicon/favicon.gif"/>
    <link rel="icon" type="image/gif" href="/local--favicon/favicon.gif"/>
    
            <link rel="apple-touch-icon" href="/common--images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="/common--images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="/common--images/apple-touch-icon-114x114.png" />
        
        
            <link rel="alternate" type="application/wiki" title="Edit this page" href="javascript:WIKIDOT.page.listeners.editClick()"/>
    
        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18234656-1']);
        _gaq.push(['_setDomainName', 'none']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);

        _gaq.push(['old._setAccount', 'UA-68540-5']);
        _gaq.push(['old._setDomainName', 'none']);
        _gaq.push(['old._setAllowLinker', true]);
        _gaq.push(['old._trackPageview']);

                _gaq.push(['userTracker._setAccount', 'UA-3207370-9']);
        _gaq.push(['userTracker._trackPageview']);
            </script>
    
    <script type="text/javascript">
        window.google_analytics_uacct = 'UA-18234656-1';
        window.google_analytics_domain_name = 'none';
    </script>
    
        <link rel="manifest" href="/onesignal/manifest.json" />
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" acync=""></script>
    <script>
        var OneSignal = window.OneSignal || [];
        OneSignal.push(function() {
          OneSignal.init({
            appId: null,
          });
        });
    </script>
        
<link rel="alternate" type="application/rss+xml" title="Comments for the page &quot;Why should I have written ZeroMQ in C, not C++ (part I)&quot;" href="/feed/page/comments-13308662.xml"/><script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumCommentsModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumViewThreadModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumViewThreadPostsModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/sub/ForumNewPostFormModule.js"></script>
</head>
<body id="html-body">
<div id="skrollr-body">
<a name="page-top"></a>





<div id="container-wrap-wrap">
    <div id="container-wrap">
        <div id="container">
            <div id="header">
              <h1><a href="/"><span>250bpm</span></a></h1>
                
                
                <!-- google_ad_section_start(weight=ignore) -->
                
                <div id="search-top-box" class="form-search">
    <form id="search-top-box-form" action="dummy" class="input-append">
        <input id="search-top-box-input" class="text empty search-query" type="text" size="15" name="query" value="Search this site" onfocus="if(YAHOO.util.Dom.hasClass(this, 'empty')){YAHOO.util.Dom.removeClass(this,'empty'); this.value='';}"/><input class="button btn" type="submit" name="search" value="Search"/>
    </form>
</div>
                
                
                    <div id="top-bar">
                        

<ul>
<li><a href="/">Home</a></li>
<li><a href="https://github.com/sustrik/cartesian">Cartesian</a></li>
<li><a href="http://libdill.org">Libdill</a></li>
<li><a href="http://nanomsg.org">Nanomsg</a></li>
<li><a href="https://github.com/sustrik/tiles">Tiles</a></li>
<li><a href="http://zero.mq">ZeroMQ</a></li>
<li><a href="/contact">Contact</a></li>
</ul>

                    </div>
                
                <div id="login-status"><a href="javascript:;" onclick="WIKIDOT.page.listeners.createAccount(event)" class="login-status-create-account btn">Create account</a> <span>or</span> <a href="javascript:;" onclick="WIKIDOT.page.listeners.loginClick(event)" class="login-status-sign-in btn btn-primary">Sign in</a> </div>
                <div id="header-extra-div-1"><span></span></div><div id="header-extra-div-2"><span></span></div><div id="header-extra-div-3"><span></span></div>
            </div>
            
            <div id="content-wrap">
                
                    <div id="side-bar">
                        


                        


                        


                    </div>
                
                
                <!-- google_ad_section_end -->
                
                <div id="main-content">
                    <div id="action-area-top"></div>
                    
                    
                        <div id="page-title">
                            Why should I have written ZeroMQ in C, not C++ (part I)
                        </div>
                    

                    

                    



                    <div id="page-content">
                        

<div style="width:50em"><div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Previous:</strong> <a href="/blog:3">Silicon Valley, Hollywood and Iceland as the New Superpower</a></p>
</div>
    
    
    
    </div><div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Next:</strong> <a href="/blog:5">Distributed Computing: The Survey Pattern</a></p>
</div>
    
    
    
    </div>
<p>Just to be clear from the very beginning: This is not going to be a Torvalds-ish rant against C++ from the point of view of die-hard C programmer.</p>
<p>I've been using C++ whole my professional career and it's still my language of choice when doing most projects.</p>
<p>Naturally, when I started ZeroMQ project back in 2007, I've opted for C++. The main reasons were:</p>
<ol>
<li>Library of data structures and algorithms (STL) is part of the language. With C I would have to either depend on a 3rd party library or had to write basic algorithms of my own in 1970's manner.</li>
<li>C++ enforces some basic consistency in the coding style. For example, having the implicit 'this' parameter doesn't allow to pass pointer to the object being worked on using several disparate mechanisms as it often happens to be the case with C projects. Same applies to explicit marking of member variables as private and many other features of the language.</li>
<li>This point is actually a subset of the previous one, but it's worth of explicit mention: Implementing virtual functions in C is pretty complex and tends to be slightly different for each class which makes understanding and managing the code a pain.</li>
<li>And finally: Everybody loves destructors being invoked automatically at the end of the block.</li>
</ol>
<p>Now, almost 5 years later, I would like to publicly admit that using C++ was a poor choice and explain why I believe it is so.</p>
<p>First, it's important to take into account that ZeroMQ was intended to be a piece of infrastructure with continuous uptime. It should never fail and never exhibit undefined behaviour. Thus, the error handling was of utmost importance. It had to be very explicit and unforgiving.</p>
<p>C++ exceptions just didn't fill the bill. They are great for guaranteeing that program doesn't fail &#8212; just wrap the main function in try/catch block and you can handle all the errors in a single place.</p>
<p>However, what's great for avoiding straightforward failures becomes a nightmare when your goal is to guarantee that no undefined behaviour happens. The decoupling between raising of the exception and handling it, that makes avoiding failures so easy in C++, makes it virtually impossible to guarantee that the program never runs info undefined behaviour.</p>
<p>With C, the raising of the error and handling it are tightly couped and reside at the same place in the source code. This makes it easy to understand what happens if error happens:</p>
<div class="code">
<pre>
<code>int rc = fx ();
if (rc != 0)
    handle_error ();</code>
</pre></div>
<p>With C++ you just throw the error. What happens then is not at all obvious:</p>
<div class="code">
<pre>
<code>int rc = fx ();
if (rc != 0)
    throw std::exception ();</code>
</pre></div>
<p>The problem with that is that you have no idea of who and where is going to handle the exception. As long as the handling code is in the same function the error handling often remains more of less sane although not very readable:</p>
<div class="code">
<pre>
<code>try {
    ...
    int rc = fx ();
    if (rc != 0)
        throw std::exception (&quot;Error!&quot;);
    ...
catch (std::exception &amp;e) {
    handle_exception ();
}</code>
</pre></div>
<p>However, consider what happens when there are two different errors thrown in the same function:</p>
<div class="code">
<pre>
<code>class exception1 {};
class exception2 {};

try {
    ...
    if (condition1)
        throw my_exception1 ();
    ...
    if (condition2)
        throw my_exception2 ();
    ...
}
catch (my_exception1 &amp;e) {
    handle_exception1 ();
}
catch (my_exception2 &amp;e) {
    handle_exception2 ();
}</code>
</pre></div>
<p>Compare that to its C equivalent:</p>
<div class="code">
<pre>
<code>...
if (condition1)
   handle_exception1 ();
...
if (condition2)
   handle_exception2 ();
...</code>
</pre></div>
<p>It's far more readable and &#8212; as a bonus &#8212; compiler is likely to produce more efficient code.</p>
<p>However, it doesn't end there. Consider the case when the exception is not handled in the function that raises it. In such case the handling of the error can happen anywhere, depending on where the function is called from.</p>
<p>While the possibility to handle the exceptions differently in different contexts may seem appealing at the first sight, it quickly turns into a nightmare.</p>
<p>As you fix individual bugs you'll find out that you are replicating almost the same error handling code in many places. Adding a new function call to the code introduces that possibility that different types of exceptions will bubble up to the calling function where there are not yet properly handled. Which means new bugs.</p>
<p>If you don't give up on the &quot;no undefined behaviour&quot; principle, you'll have to introduce new exception types all the time to distinguish between different failure modes. However, adding a new exception type means that it can bubble up to different places. Pieces of code have to be added to all those places, otherwise you end up with undefined behaviour.</p>
<p>At this point you may be screaming: That's what exception specifications are for!</p>
<p>Well, the problem is that exception specifications are just a tool to handle the problem of exponential growth of the exception handling code in a more systematic manner, but it doesn't solve the problem itself. It can even be said it makes it worse as now you have to write code for the new exception types, new exception handling code *and* new exception specifications.</p>
<p>Taking the problems described above into account I've decided to use C++ minus exceptions. That's exactly how ZeroMQ and Crossroads I/O looks like today.</p>
<p>Unfortunately, the problems don't end up here&#8230;</p>
<p>Consider what happens when initialisation of an object can fail. Constructors have no return values, so failure can be reported only by throwing an exception. However, I've decided not to use exceptions. So we have to go for something like this:</p>
<div class="code">
<pre>
<code>class foo
{
public:
    foo ();
    int init ();
    ...
};</code>
</pre></div>
<p>When you create an instance of the class, constructor is called (which cannot fail) and then you explicitly call init function (which can fail).</p>
<p>This is more complex that what you would do with C:</p>
<div class="code">
<pre>
<code>struct foo
{
    ...
};

int foo_init (struct foo *self);</code>
</pre></div>
<p>However, the really bad thing about the C++ version of the code is what happens when developers put some actual code into the constructor instead of systematically keeping the constructors empty.</p>
<p>If that's the case a special new object state comes into being. It's the 'semi-initialised' state when object has been constructed but init function haven't been called yet. The object (and specifically the destructor) should be modified in such a way as to decently handle the new state. Which in the end means adding new condition to every method.</p>
<p>Now you say: But that's just a consequence of your artificial restriction of not using exceptions! If exception is thrown in a constructor, C++ runtime cleans the object as appropriate and there is no 'semi-initalised' state whatsoever!</p>
<p>Fair enough. However, it's beside the point. If you start using exceptions you have to handle all the exception-related complexity as described in the beginning. And that is not a reasonable option for an infrastructure component with the need to be very robust in the face of failures.</p>
<p>Moreover, even if initialisation wasn't a problem, termination definitely is. You can't really throw exceptions in the destructor. Not because of some self-imposed artificial restrictions but because if the destructor is invoked in the process or unwinding the stack and it happens to throw an exception, it crashes the entire process.</p>
<p>Thus, if termination can fail, you need two separate functions to handle it:</p>
<div class="code">
<pre>
<code>class foo
{
public:
    ...
    int term ();
    ~foo ();
};</code>
</pre></div>
<p>Now we are back to the problem we've had with the initialisation: There's a new 'semi-terminated' state that we have to handle somehow, add new conditions to individual member functions etc.</p>
<div class="code">
<pre>
<code>class foo
{
public:
    foo () : state (semi_initialised)
    {
         ...
    }

    int init ()
    {
        if (state != semi_initialised)
            handle_state_error ();
        ...
        state = intitialised;
    }

    int term ()
    {
         if (state != initialised)
             handle_state_error ();
         ...
         state = semi_terminated;
    }

    ~foo ()
    {
         if (state != semi_terminated)
             handle_state_error ();
         ...
    }

    int bar ()
    {
         if (state != initialised)
             handle_state_error ();
         ...
    }
};</code>
</pre></div>
<p>Compare the above to the C implementation. There are only two states. Not initialised object/memory where all the bets are off and the structure can contain random data. And there is initialised state, where the object is fully functional. Thus, there's no need to incorporate a state machine into the object:</p>
<div class="code">
<pre>
<code>struct foo
{
    ...
};

int foo_init ()
{
    ...
}

int foo_term ()
{
    ...
}

int foo_bar ()
{
    ...
}</code>
</pre></div>
<p>Now consider what happens when you add inheritance to the mix. C++ allows to initialise base classes as a part of derived class' constructor. Throwing an exception will destruct the parts of the object that were already successfully initialised:</p>
<div class="code">
<pre>
<code>class foo : public bar
{
public:
    foo () : bar () {}
    ...
};</code>
</pre></div>
<p>However, once you introduce separate init functions, the number of states starts to grow. In addition to uninitialised, semi-initialised, initialised and semi-terminated states you encounter combinations of the states. As an example you can imagine a fully initialised base class with semi-initialised derived class.</p>
<p>With objects like these it's almost impossible to guarantee predictable behaviour. There's a lot of different combinations of semi-initialised and semi-terminated parts of the object and given that failures that cause them are often very rare the most of the related code probably goes into the production untested.</p>
<p>To summarise the above, I believe that requirement for fully-defined behaviour breaks the object-oriented programming model. The reasoning is not specific to C++. It applies to any object-oriented language with constructors and destructors.</p>
<p>Consequently is seems that object-oriented languages are better suited for the environments where the need for rapid development beats the requirement for no undefined behaviour.</p>
<p>There's no silver bullet here. The systems programming will have to live on with C.</p>
<p>By the way, I've started experimenting with translating ZeroMQ into C lately. The code looks great!</p>
<p>EDIT: The endeavour evolved into a new project called <em>nanomsg</em> in the meantime. Check it <a href="http://nanomsg.org">here</a>.</p>
<p>Read <a href="/blog:8">part II of the article</a>.</p>
<p><strong>Martin Sústrik, May 10th, 2012</strong></p>
<div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Previous:</strong> <a href="/blog:3">Silicon Valley, Hollywood and Iceland as the New Superpower</a></p>
</div>
    
    
    
    </div><div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Next:</strong> <a href="/blog:5">Distributed Computing: The Survey Pattern</a></p>
</div>
    
    
    
    </div>
<div style="height:2em"></div>
<div class="comments-box">
		
	<div class="options" id="comments-options-hidden" style="display: none">
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumCommentsModule.listeners.showComments(event)">Show Comments</a> 
	</div>
		
	<div id="thread-container" class="thread-container" style="margin-top: 1em">
					


<script type="text/javascript">
	WIKIDOT.forumThreadId = 467476;
</script>


	<div class="options" id="comments-options-shown">
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumCommentsModule.listeners.hideComments(event)" class="btn btn-default btn-small btn-sm">Hide All Comments</a> 
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.unfoldAll(event)" class="btn btn-default btn-small btn-sm">Unfold All</a> 
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.foldAll(event)" class="btn btn-default btn-small btn-sm">Fold All</a>
	</div>

<div id="thread-container-posts" style="display: none">
    

<div class="pager"><span class="pager-no">page 1 of 8</span><span class="current">1</span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(2)">2</a></span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(3)">3</a></span><span class="dots">...</span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(7)">7</a></span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(8)">8</a></span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(2)">next &raquo;</a></span></div>

	
					
      
    <div class="post-container" id="fpc-1444394">
                      
		<div class="post" id="post-1444394">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444394)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444394">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=87f1e6069cd48977bf7470375e28233e&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Steve Johnston (guest)</span> <span class="odate time_1336660187 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 14:29</span>
														</div>
			</div>
			<div class="content" id="post-content-1444394">
									

<p>Martin, in your new C implementation, how are you addressing point #1? Did you find a nice library or are you rolling your own data structures and utility classes?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444394)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444394)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444394" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444394)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444394)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=87f1e6069cd48977bf7470375e28233e&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Steve Johnston (guest)</span>, <span class="odate time_1336660187 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 14:29</span>
		</div>
	</div>
 
                
                	


        
                      
    <div class="post-container" id="fpc-1444579">
                      
		<div class="post" id="post-1444579">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444579)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444579">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336670995 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:29</span>
														</div>
			</div>
			<div class="content" id="post-content-1444579">
									

<p>I've just started to play with it, so there was no need for sophisticated algorithms so far. In any case, in original ZeroMQ codebase lot of STL functionality was explicitly re-implemented to get better performance. What remains are pieces out of the critical path &#8212; I'll still have to decide how to handle those. Any suggestions are welcome.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444579)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444579)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444579" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444579)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444579)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336670995 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:29</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1444886">
                      
		<div class="post" id="post-1444886">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444886)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444886">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/steven-noonan" onclick="WIKIDOT.page.listeners.userInfo(1360591); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=1360591&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="Steven Noonan" style="background-image:url(http://www.wikidot.com/userkarma.php?u=1360591)"/></a><a href="http://www.wikidot.com/user:info/steven-noonan" onclick="WIKIDOT.page.listeners.userInfo(1360591); return false;" >Steven Noonan</a></span> <span class="odate time_1336689736 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 22:42</span>
														</div>
			</div>
			<div class="content" id="post-content-1444886">
									

<p>I have a similar history with C++. Learned it as my 2nd major programming language and after several years of using it, I got tired of the same kinds of issues you bring up.</p>
<p>For std::map, I'd recommend GNU libavl. I'd link it but your blog commenting system doesn't trust me to not be a link spammer. The main site for libavl links to the tarball for v2.0.2a, which isn't actually the most recent release. Check the ftp_gnu_org* libavl file index, which has v2.0.3.</p>
<p>For std::list/std::vector/std::set, implementing them should be fairly easy in C. And for std::sort, there's always qsort(). What STL features do you find yourself needing most?</p>
<p>* I hate blog comment systems.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1444886)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444886" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444886)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444886)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/steven-noonan" onclick="WIKIDOT.page.listeners.userInfo(1360591); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=1360591&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="Steven Noonan" style="background-image:url(http://www.wikidot.com/userkarma.php?u=1360591)"/></a><a href="http://www.wikidot.com/user:info/steven-noonan" onclick="WIKIDOT.page.listeners.userInfo(1360591); return false;" >Steven Noonan</a></span>, <span class="odate time_1336689736 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 22:42</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445051">
                      
		<div class="post" id="post-1445051">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445051)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445051">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=04ee3ca11f1ae11c63faa7995dbf1ed7&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>dcreager (guest)</span> <span class="odate time_1336702953 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 02:22</span>
														</div>
			</div>
			<div class="content" id="post-content-1445051">
									

<p>We have a handful of C projects, and so we factored out our data structure and utility classes into a standalone library. I've tried to make it so that it's easily embeddable into other codebases, so you wouldn't have to link to the library at runtime. All of the configuration choices are handled by the C preprocessor, so it should (in theory) be easy to incorporate into whatever build scripts your using. BSD licensed.</p>
<p>It also has some error handling code that's loosely based on standard POSIX int error codes and glib's GError API.</p>
<p>Fake URL (since I can't link in the comment) is github redjack libcork. Documentation is linked to from there.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445051)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445051" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445051)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445051)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=04ee3ca11f1ae11c63faa7995dbf1ed7&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>dcreager (guest)</span>, <span class="odate time_1336702953 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 02:22</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445171">
                      
		<div class="post" id="post-1445171">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445171)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445171">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336712884 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 05:08</span>
														</div>
			</div>
			<div class="content" id="post-content-1445171">
									

<p>Hi Steven, I hate the commenting systems as well. This one doesn't allow me to reply to your post for example :| Anyway, I'll check out the libarary you mention.</p>
<p>Hi Douglas, thanks for the link. I'll check it out!</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445171)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445171" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445171)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445171)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336712884 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 05:08</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445252">
                      
		<div class="post" id="post-1445252">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445252)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445252">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=45d22d38a0bb02622e9871c8571f6f86&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Leroy (guest)</span> <span class="odate time_1336721394 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 07:29</span>
														</div>
			</div>
			<div class="content" id="post-content-1445252">
									

<p>For list and tree algorithms you can take a look at the BSD macro's for queues and trees as included in libbsd (a project on freedesktop). They are used throughout BSD projects, so also lots of code to examine their use.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445252)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445252" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445252)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445252)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=45d22d38a0bb02622e9871c8571f6f86&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Leroy (guest)</span>, <span class="odate time_1336721394 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 07:29</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445316">
                      
		<div class="post" id="post-1445316">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445316)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445316">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336729467 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 09:44</span>
														</div>
			</div>
			<div class="content" id="post-content-1445316">
									

<p>Thanks!</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445316)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445316" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445316)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445316)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336729467 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 09:44</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1542289">
                      
		<div class="post" id="post-1542289">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1542289)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1542289">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=6aea6e2f57f2a7b1cd6870375fbdc42f&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>NoSenseEtAl (guest)</span> <span class="odate time_1345428902 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">20 Aug 2012 02:15</span>
														</div>
			</div>
			<div class="content" id="post-content-1542289">
									

<p>&quot;For std::list/std::vector/std::set, implementing them should be fairly easy in C&quot;<br />
Not really, std::set is much more similar to std::map in complexity when it comes to implementation.<br />
&quot;And for std::sort, there's always qsort()&quot;<br />
qsort is infamous for being actually slower than std::sort.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1542289)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1542289" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1542289)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1542289)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=6aea6e2f57f2a7b1cd6870375fbdc42f&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>NoSenseEtAl (guest)</span>, <span class="odate time_1345428902 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">20 Aug 2012 02:15</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1552084">
                      
		<div class="post" id="post-1552084">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1552084)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1552084">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=6d631334b4be9438d100039ec15fb9b5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Lolton (guest)</span> <span class="odate time_1346362701 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">30 Aug 2012 21:38</span>
														</div>
			</div>
			<div class="content" id="post-content-1552084">
									

<p>What about Apple Core Fundation?</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1552084)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1552084" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1552084)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1552084)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=6d631334b4be9438d100039ec15fb9b5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Lolton (guest)</span>, <span class="odate time_1346362701 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">30 Aug 2012 21:38</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-4084684">
                      
		<div class="post" id="post-4084684">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,4084684)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-4084684">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=1f8b5076c1d3b20bd9fed304ab3522e2&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Guache (guest)</span> <span class="odate time_1544665180 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">13 Dec 2018 01:39</span>
														</div>
			</div>
			<div class="content" id="post-content-4084684">
									

<p>Martin, would you considering releasing the implementations as a separate utility library ?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,4084684)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,4084684)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-4084684" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,4084684)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,4084684)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=1f8b5076c1d3b20bd9fed304ab3522e2&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Guache (guest)</span>, <span class="odate time_1544665180 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">13 Dec 2018 01:39</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
                      
    <div class="post-container" id="fpc-2300071">
                      
		<div class="post" id="post-2300071">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2300071)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2300071">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=37e724bc0cb4e3a2aa8dae14a2b2b600&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>time_t (guest)</span> <span class="odate time_1432212407 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">21 May 2015 12:46</span>
														</div>
			</div>
			<div class="content" id="post-content-2300071">
									

<p>If you think c++ is bad choice for ZeroMQ, why don't you rewrite it using c?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2300071)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2300071)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2300071" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2300071)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2300071)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=37e724bc0cb4e3a2aa8dae14a2b2b600&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>time_t (guest)</span>, <span class="odate time_1432212407 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">21 May 2015 12:46</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-2300075">
                      
		<div class="post" id="post-2300075">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2300075)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2300075">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ccbe7da9a44a8737ca2eda4462c42fe1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martin Sustrik (guest)</span> <span class="odate time_1432213158 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">21 May 2015 12:59</span>
														</div>
			</div>
			<div class="content" id="post-content-2300075">
									

<p>I did: nanomsg.org</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,2300075)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2300075" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2300075)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2300075)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ccbe7da9a44a8737ca2eda4462c42fe1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martin Sustrik (guest)</span>, <span class="odate time_1432213158 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">21 May 2015 12:59</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-2360311">
                      
		<div class="post" id="post-2360311">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2360311)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2360311">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=6566e7b4757033f74d3bd059857c402f&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Robert Lindstädt (guest)</span> <span class="odate time_1439943370 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Aug 2015 00:16</span>
														</div>
			</div>
			<div class="content" id="post-content-2360311">
									

<p>Reading this comment on a three year-old post and seeing you reply to it within 13min is kind of funny.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2360311)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2360311)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2360311" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2360311)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2360311)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=6566e7b4757033f74d3bd059857c402f&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Robert Lindstädt (guest)</span>, <span class="odate time_1439943370 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Aug 2015 00:16</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
                      
    <div class="post-container" id="fpc-4085312">
                      
		<div class="post" id="post-4085312">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,4085312)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-4085312">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=dfe88469b75efc87cbcbbbc2a975850a&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Andrew Pennebaker (guest)</span> <span class="odate time_1544718581 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">13 Dec 2018 16:29</span>
														</div>
			</div>
			<div class="content" id="post-content-4085312">
									

<p>I agree that half-initialized objects are bad. I think in Java world, coders tend to accomplish this more safely using the builder pattern, which is why we get all these boilerplate FactoryFactoryFactory classes. Do C++ programmers sometimes use builder patterns? Can an entire class be marked as private/internal?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,4085312)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,4085312)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-4085312" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,4085312)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,4085312)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=dfe88469b75efc87cbcbbbc2a975850a&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Andrew Pennebaker (guest)</span>, <span class="odate time_1544718581 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">13 Dec 2018 16:29</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-4093734">
                      
		<div class="post" id="post-4093734">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,4093734)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-4093734">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=b38c557319856e94fceb3710eec378a9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Dmitry Tsarevich (guest)</span> <span class="odate time_1545313608 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">20 Dec 2018 13:46</span>
														</div>
			</div>
			<div class="content" id="post-content-4093734">
									

<p>In our project (small game) we constantly use builder pattern to fight half-initialized objects. Also you can use less? boilerplate static constructor pattern:</p>
<p>class FooError { code / description, etc };</p>
<p>template&lt;typename T&gt;<br />
using FooResult = std::tuple&lt;T, FooError&gt;;</p>
<p>class Foo {<br />
public:<br />
static FooResult&lt;Foo*&gt; Create(params) {<br />
auto *foo = new (std::nothrow) Foo(params);<br />
return {std::unique_ptr&lt;Foo&gt;(<br />
foo == nullptr || foo-&gt;LastError().IsFailed() ? nullptr : foo),<br />
foo-&gt;LastError()};<br />
}</p>
<p>private:<br />
Foo(params) const noexcept;</p>
<p>FooError LastError() const noexcept {<br />
// Gets error code which was set via constructor.<br />
}<br />
&#8230;</p>
<p>Unfortunately, problems with error handling in destructor are still here.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,4093734)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-4093734" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,4093734)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,4093734)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=b38c557319856e94fceb3710eec378a9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Dmitry Tsarevich (guest)</span>, <span class="odate time_1545313608 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">20 Dec 2018 13:46</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-4093738">
                      
		<div class="post" id="post-4093738">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,4093738)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-4093738">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=b38c557319856e94fceb3710eec378a9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Dmitry Tsarevich (guest)</span> <span class="odate time_1545313971 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">20 Dec 2018 13:52</span>
														</div>
			</div>
			<div class="content" id="post-content-4093738">
									

<ul>
<li>in case new failed, return shared 'no memory' FooError like this:</li>
</ul>
<p>static inline constexpr FooError NoMemory(ENOMEM, &quot;Can't allocate memory for Foo instance&quot;);</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,4093738)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-4093738" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,4093738)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,4093738)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=b38c557319856e94fceb3710eec378a9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Dmitry Tsarevich (guest)</span>, <span class="odate time_1545313971 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">20 Dec 2018 13:52</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-4093747">
                      
		<div class="post" id="post-4093747">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,4093747)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-4093747">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=b38c557319856e94fceb3710eec378a9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Dmitry Tsarevich (guest)</span> <span class="odate time_1545314489 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">20 Dec 2018 14:01</span>
														</div>
			</div>
			<div class="content" id="post-content-4093747">
									

<p>And do not forget to free Foo's memory in case of failure, too.<br />
Do not write comments when falling asleep like me.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,4093747)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,4093747)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-4093747" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,4093747)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,4093747)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=b38c557319856e94fceb3710eec378a9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Dmitry Tsarevich (guest)</span>, <span class="odate time_1545314489 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">20 Dec 2018 14:01</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1444402">
                      
		<div class="post" id="post-1444402">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444402)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444402">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=7f4b6edc3ded8ce8413a2c54e480feb5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>majido (guest)</span> <span class="odate time_1336660736 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 14:38</span>
														</div>
			</div>
			<div class="content" id="post-content-1444402">
									

<p>Interesting read. I am no expert but Go's error handling seems to address some of your issues with exceptions pretty well. Go is no C regarding portability and performance yet but it sure seems to be heading in the right direction in terms of language features.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444402)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444402)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444402" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444402)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444402)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=7f4b6edc3ded8ce8413a2c54e480feb5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>majido (guest)</span>, <span class="odate time_1336660736 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 14:38</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1444669">
                      
		<div class="post" id="post-1444669">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444669)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444669">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=27ad01505959d98c63f72bc1997e3719&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>jt_ (guest)</span> <span class="odate time_1336674421 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 18:27</span>
														</div>
			</div>
			<div class="content" id="post-content-1444669">
									

<p>hey, yeah, i totally signed up to comment just to say you'd love Go. make sure to check out Go's defer keyword, in addition to how it handles errors (no exceptions, but multiple return values, etc).</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444669)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444669)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444669" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444669)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444669)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=27ad01505959d98c63f72bc1997e3719&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>jt_ (guest)</span>, <span class="odate time_1336674421 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 18:27</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1445702">
                      
		<div class="post" id="post-1445702">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445702)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445702">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336764930 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 19:35</span>
														</div>
			</div>
			<div class="content" id="post-content-1445702">
									

<p>I'll give it a look. However it's not a viable option as the long-term goal with Crossroads is to move the functionality to the kernel space.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1445702)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1445702)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445702" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445702)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445702)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336764930 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 19:35</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
                      
    <div class="post-container" id="fpc-1445659">
                      
		<div class="post" id="post-1445659">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445659)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445659">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=bc98a003e95f48a603f0ed112df56fc5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Glenn Brown (guest)</span> <span class="odate time_1336762898 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 19:01</span>
														</div>
			</div>
			<div class="content" id="post-content-1445659">
									

<p>+1</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1445659)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1445659)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445659" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445659)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445659)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=bc98a003e95f48a603f0ed112df56fc5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Glenn Brown (guest)</span>, <span class="odate time_1336762898 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 19:01</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1553920">
                      
		<div class="post" id="post-1553920">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1553920)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1553920">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=61e78572f508988c4a1713fc4db495b9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Adrian Ratnapala (guest)</span> <span class="odate time_1346533241 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">01 Sep 2012 21:00</span>
														</div>
			</div>
			<div class="content" id="post-content-1553920">
									

<p>I'm also Go-fan too (though I wouldn't recommend it for 0mq).</p>
<p>In fact Go's attitude to error handling is close-to-perfect:</p>
<ul>
<li>Errors are reported by return value. This is the C way, but with a better standard library.</li>
<li>Functions can return multiple values, so no passing-by-reference merely because you want an output.</li>
<li>Exceptions do exist (and have particularly nice &quot;catch&quot; semantics) but are not the standard thing.</li>
</ul>
<p>The last point means you use exceptions when you detect actual bugs (rather like assert() in C), or inside a single module, where you know exactly what exceptions can occur and you catch them before they bubble out.</p>
<p>You can actually do all of this in C++, but the nice thing is that Go doesn't need constructors or destructors - except in the same sense that C has them.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1553920)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1553920)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1553920" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1553920)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1553920)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=61e78572f508988c4a1713fc4db495b9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Adrian Ratnapala (guest)</span>, <span class="odate time_1346533241 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">01 Sep 2012 21:00</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-2053652">
                      
		<div class="post" id="post-2053652">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2053652)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2053652">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=3e3b102d788713a2505a12190fbccf8c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Tim (guest)</span> <span class="odate time_1403030667 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Jun 2014 18:44</span>
														</div>
			</div>
			<div class="content" id="post-content-2053652">
									

<p>Late to the party, as always, but since I can still add my .02, I will. And I don't insist on these points, I believe that if you fall in love with a language and it meets your needs, go forth and multiply. But to Martin's objections I would raise these points:</p>
<p>C++ Exceptions: Nothing is stopping you from using return codes in your app/system. You can infact turn them completely off with a command line option with some compilers, and simply not use them in the rest.</p>
<p>Object Inititalizers: Use them where they make sense, and just use structs instead of objects for the rest of the cases and where the compiler-supplied constructors are not useful. The STL is pretty damn useful, I don't see the point of doing without it for the points you raised here. They are valid, but C++ is a buffet table, use what you want, ignore the stuff you don't.</p>
<p>And to Adrian above: &quot;&#8230;This is the C way, but with a better standard library.&quot; Fine, but you don't explain how Go's &quot;standard library&quot; is better than C's. And by standard library, do you infact mean C's standard runtime library? Yes, I can agree with you that some of C's &quot;standard&quot; runtime libs are lacking, but you're not limited to using them. I do embedded programming and using GNU libc is usually not optimal in most cases, I often use eglibc and if I think C++ is a better fit for a problem I'll use uSTL.</p>
<p>Go is a good language, a real contender as an all-around replacement for C in general for a compiled solution. But in the specific case of embedded programming, most of the companies I deal with will probably not even look at it for a long time, if ever. Aside from the support issues its still slower than C.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,2053652)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2053652" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2053652)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2053652)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=3e3b102d788713a2505a12190fbccf8c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Tim (guest)</span>, <span class="odate time_1403030667 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Jun 2014 18:44</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-2198031">
                      
		<div class="post" id="post-2198031">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2198031)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2198031">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=3f16060702de92e98b383e57083c8b6d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>JoeF (guest)</span> <span class="odate time_1420592235 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">07 Jan 2015 00:57</span>
														</div>
			</div>
			<div class="content" id="post-content-2198031">
									

<p>I know this is a very late comment but for what it's worth:</p>
<p>Another alternative to is rust, being developed by Mozilla. It's focus is on being very fast and very safe. The first stable version is due to be released within the next few months and from the little bit I've played around with it, it looks promising as an alternative to C that can be used to build system programs that need to be robust.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,2198031)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2198031" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2198031)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2198031)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=3f16060702de92e98b383e57083c8b6d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>JoeF (guest)</span>, <span class="odate time_1420592235 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">07 Jan 2015 00:57</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-4085091">
                      
		<div class="post" id="post-4085091">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,4085091)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-4085091">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=4a1d8987c1b99eca8294876d00c7f06a&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>s0laster (guest)</span> <span class="odate time_1544698898 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">13 Dec 2018 11:01</span>
														</div>
			</div>
			<div class="content" id="post-content-4085091">
									

<p>You can still return a structure in C if you want more detailed errors. For instance when parsing a file, it is useful to have a line attached to the error message :</p>
<p>struct foo { char *error; int line; };</p>
<p>Granted, the syntax is not as pretty as go but it is not that bad. I use this pattern in my code here and there and it works well while still having a readable code.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,4085091)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,4085091)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-4085091" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,4085091)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,4085091)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=4a1d8987c1b99eca8294876d00c7f06a&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>s0laster (guest)</span>, <span class="odate time_1544698898 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">13 Dec 2018 11:01</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1444408">
                      
		<div class="post" id="post-1444408">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444408)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444408">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=28a19f8e5d9cfeac870d16f83e9b1257&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Ilja Golshtein (guest)</span> <span class="odate time_1336661029 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 14:43</span>
														</div>
			</div>
			<div class="content" id="post-content-1444408">
									

<p>Hello Martin,</p>
<p>I think some issues with exceptions could be addressed by smart hierarchy of exception's classes.<br />
And, of course, '&#8230;' does not give room for undefined behavior.</p>
<p>What I am agree with you about.<br />
C++ is complex, exceptions are roots of many problems.<br />
Exception specifications are good for nothing.</p>
<p>What I am not agree with you about.<br />
Your article is written in 2012, not in 2002. C++ issues are discovered and solutions are worked out.<br />
Fast things like templates and inlining, power C++ libraries like Boost do not allow to come back to plain C.</p>
<p>Forget.</p>
<p>Move to C++11, not to plain C.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444408)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444408)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444408" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444408)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444408)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=28a19f8e5d9cfeac870d16f83e9b1257&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Ilja Golshtein (guest)</span>, <span class="odate time_1336661029 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 14:43</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1444583">
                      
		<div class="post" id="post-1444583">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444583)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444583">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336671101 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:31</span>
														</div>
			</div>
			<div class="content" id="post-content-1444583">
									

<p>Hi Ilya! Nice to hear from you again. I must admit I haven't rea C++11 spec in detail but AFAIK there are no significant changes to the error handling.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444583)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444583)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444583" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444583)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444583)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336671101 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:31</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1445326">
                      
		<div class="post" id="post-1445326">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445326)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445326">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=65982bf1f97f9d4182fb69112246db01&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Userul lui Pește (guest)</span> <span class="odate time_1336731202 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 10:13</span>
														</div>
			</div>
			<div class="content" id="post-content-1445326">
									

<p>Handle errors however you want, C-like if necessary. Everything should be for one's benefit, not for respecting the C or C++ book. What is shocking me is that you treat C and C++ as distinct, when those aren't. Having C++ means having choices, that much should have been obvious.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445326)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445326" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445326)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445326)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=65982bf1f97f9d4182fb69112246db01&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Userul lui Pește (guest)</span>, <span class="odate time_1336731202 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 10:13</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445327">
                      
		<div class="post" id="post-1445327">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445327)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445327">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336731320 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 10:15</span>
														</div>
			</div>
			<div class="content" id="post-content-1445327">
									

<p>The article advocates deliberately restricting the choices to get simpler and more manageable codebase.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445327)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445327" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445327)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445327)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336731320 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 10:15</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1446837">
                      
		<div class="post" id="post-1446837">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1446837)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1446837">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=8aa14991ebc3b2d1749ae42dfa239ec7&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Paulo (guest)</span> <span class="odate time_1336857332 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 May 2012 21:15</span>
														</div>
			</div>
			<div class="content" id="post-content-1446837">
									

<p>Thats what java did.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1446837)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1446837" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1446837)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1446837)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=8aa14991ebc3b2d1749ae42dfa239ec7&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Paulo (guest)</span>, <span class="odate time_1336857332 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 May 2012 21:15</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-2053656">
                      
		<div class="post" id="post-2053656">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2053656)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2053656">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=3e3b102d788713a2505a12190fbccf8c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Tim (guest)</span> <span class="odate time_1403031097 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Jun 2014 18:51</span>
														</div>
			</div>
			<div class="content" id="post-content-2053656">
									

<p>Interesting, Java is arugably the most diluted language ever. Not that Microsoft had anything to do with that, but still&#8230;</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2053656)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2053656)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2053656" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2053656)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2053656)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=3e3b102d788713a2505a12190fbccf8c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Tim (guest)</span>, <span class="odate time_1403031097 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Jun 2014 18:51</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
                      
    <div class="post-container" id="fpc-1475068">
                      
		<div class="post" id="post-1475068">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1475068)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1475068">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=065cb921262b6988ee3441ce1d2be9fe&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Craig (guest)</span> <span class="odate time_1339193970 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">08 Jun 2012 22:19</span>
														</div>
			</div>
			<div class="content" id="post-content-1475068">
									

<p>Like language advocacy there, douche! C++ is cancer, the judge has already passed sentence. Anyone still sane has vowed never again to use it..</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1475068)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1475068)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1475068" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1475068)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1475068)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=065cb921262b6988ee3441ce1d2be9fe&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Craig (guest)</span>, <span class="odate time_1339193970 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">08 Jun 2012 22:19</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-2218436">
                      
		<div class="post" id="post-2218436">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2218436)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2218436">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=d1533fa04e39730c87a7b160d1d60862&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Rich (guest)</span> <span class="odate time_1422426824 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">28 Jan 2015 06:33</span>
														</div>
			</div>
			<div class="content" id="post-content-2218436">
									

<p>I have to agree with others C++ is still a better bet, and to touch on Ilja's remark:</p>
<p>Move to C++14, not to plain C. C++ i s an extension of C -&gt; You can use any part of C in C++ -&gt; including C syntax. In fact, most beginner C++ courses don't even teach you any C++ at all - it's all C syntax run under a C++ compiler. So in essence it doesn't even make sense to say C would have been better than C++&#8230;.</p>
<p>The true trick to any lower level programming language is architecture. How you design your application will make it or break it -&gt; regardless of the actual language used.</p>
<p>I'm disappointed seeing all the comments about replacement languages for C; why aren't people working on replacing POSIX APIs with C++ methods over C methods? Why isn't anyone working on replacing C altogether with C++ rather than just letting it be an extension? You know&#8230;making a true C++ runtime in Assembly instead of requiring a C runtime over Assembly? Bet ya that'd be much faster than Go and we wouldn't have to learn any new languages or APIs (well, for the most part - syntax would certainly change a bit for some system methods).</p>
<p>Donate me 100k and I'll do it myself - just give me a few years&#8230;</p>
<p>The father of C++ isn't dead yet, its only getting better and better and better and better and better.</p>
<p>You just need to take the time to work it out. It takes YEARS to LEARN programming, not days -&gt; if you are looking for a single day answer switch to .NET or some other auto-generated non-sense and let the quality speak for itself (but I'm sure you know this already ^^).</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2218436)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2218436)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2218436" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2218436)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2218436)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=d1533fa04e39730c87a7b160d1d60862&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Rich (guest)</span>, <span class="odate time_1422426824 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">28 Jan 2015 06:33</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-2218616">
                      
		<div class="post" id="post-2218616">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2218616)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2218616">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ccbe7da9a44a8737ca2eda4462c42fe1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martin Sustrik (guest)</span> <span class="odate time_1422443949 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">28 Jan 2015 11:19</span>
														</div>
			</div>
			<div class="content" id="post-content-2218616">
									

<p>The article is talking about idomatic C++ vs. idomatic C.</p>
<p>If it was talking about C vs. C++ it would make no sense. C is (more or less) a subclass of C++.</p>
<p>As for C++11, C++14 etc., by growing the featureset it's making the problem even more grave. Idiomatic C++ today is definetely a bigger mess than it used to be in 1995. Soon enough it will be as messy as Java :(</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,2218616)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2218616" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2218616)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2218616)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ccbe7da9a44a8737ca2eda4462c42fe1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martin Sustrik (guest)</span>, <span class="odate time_1422443949 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">28 Jan 2015 11:19</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-2769596">
                      
		<div class="post" id="post-2769596">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2769596)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2769596">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=6b55e3428ea86b9ae7b7d0147e5711fd&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Ravindranath Akila (guest)</span> <span class="odate time_1489763925 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Mar 2017 15:18</span>
														</div>
			</div>
			<div class="content" id="post-content-2769596">
									

<p>I like your reasoning about exception handling and crippled initializations. May I ask though, why do you say Java is messy?</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,2769596)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2769596" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2769596)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2769596)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=6b55e3428ea86b9ae7b7d0147e5711fd&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Ravindranath Akila (guest)</span>, <span class="odate time_1489763925 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Mar 2017 15:18</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-2971529">
                      
		<div class="post" id="post-2971529">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2971529)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2971529">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=39070f4d752dc965b716275da4e66b50&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Leonardo (guest)</span> <span class="odate time_1498731079 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">29 Jun 2017 10:11</span>
														</div>
			</div>
			<div class="content" id="post-content-2971529">
									

<p>The article is talking about idiomatic C++ vs idiomatic C. As far C++11 and C++14 etc, by growing the featureset there are new better way to do things in C++ than there were before. This means that growing the featureset will change what is considered idiomatic in C++</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2971529)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2971529)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2971529" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2971529)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2971529)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=39070f4d752dc965b716275da4e66b50&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Leonardo (guest)</span>, <span class="odate time_1498731079 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">29 Jun 2017 10:11</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1444411">
                      
		<div class="post" id="post-1444411">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444411)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444411">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=f1e78ca7b5241ab1291c1720bf01c6fa&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Anon (guest)</span> <span class="odate time_1336661248 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 14:47</span>
														</div>
			</div>
			<div class="content" id="post-content-1444411">
									

<p>I don't really buy your reasoning. To begin with, exceptions don't cause undefined behaviour by themselves. That only happens if you invoke undefined behaviour in your destructors, which is a very bad thing to do.</p>
<p>If you mean that they cause behaviour that is difficult to reason about, that's a very different thing, but also not really worse than the C version. You can, after all, catch all the exceptions in a block with a single statement.</p>
<p>Failing destructors is also curious. What are you doing in a destructor that could possibly fail? If you can't delete your object, then what course of action is there to take other than to crash? If your destructor is doing things like sending messages over pipes or whatever that might fail, handle that failure inside the destructor itself. This is also not solved or even mitigated by C; if anything, it's worse in C because it forces you to expose the error handling in your deinitialization.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444411)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444411)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444411" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444411)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444411)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=f1e78ca7b5241ab1291c1720bf01c6fa&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Anon (guest)</span>, <span class="odate time_1336661248 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 14:47</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1446138">
                      
		<div class="post" id="post-1446138">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1446138)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1446138">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=c8071a98a9b76b297036cfc7eb149a7d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>dude (guest)</span> <span class="odate time_1336790665 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 May 2012 02:44</span>
														</div>
			</div>
			<div class="content" id="post-content-1446138">
									

<p>On a general note if you have to have a choice between a total crash and burn, OR to just ignore that failure and cause a memory leak or handle leak or unreleased resources&#8230;. then yeah&#8230;. I would rather keep going than crash, its a choice of two evils, one can still get you home or keep you alive.</p>
<p>Pretend your program is a lifeform, a total crash, like a epileptic fit is the worst choice.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1446138)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1446138)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1446138" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1446138)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1446138)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=c8071a98a9b76b297036cfc7eb149a7d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>dude (guest)</span>, <span class="odate time_1336790665 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 May 2012 02:44</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1446271">
                      
		<div class="post" id="post-1446271">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1446271)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1446271">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336799559 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 May 2012 05:12</span>
														</div>
			</div>
			<div class="content" id="post-content-1446271">
									

<p>The problem is that when something unexpected happens you don't know whether it will cause memory leak or format your hard disk. That's the very nature of &quot;unexpected&quot;.</p>
<p>Thus, you have to clean up the mess and try again.</p>
<p>However, both the programmer and the stack unwind algorithm are notoriously bad at cleaning up after unexpected failure.</p>
<p>The OS cleanup, on the other hand, while not perfect, tends to clean up nicely when process is aborted and restarted.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1446271)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1446271" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1446271)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1446271)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336799559 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 May 2012 05:12</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1553923">
                      
		<div class="post" id="post-1553923">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1553923)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1553923">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=61e78572f508988c4a1713fc4db495b9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Adrian Ratnapala (guest)</span> <span class="odate time_1346533551 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">01 Sep 2012 21:05</span>
														</div>
			</div>
			<div class="content" id="post-content-1553923">
									

<p>The OS does just fine as long as you don't create files. I seem to remember some fun with 0mq, unix domain sockets, and remove(). And that didn't even involve error cases.</p>
<p>Grr.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1553923)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1553923" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1553923)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1553923)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=61e78572f508988c4a1713fc4db495b9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Adrian Ratnapala (guest)</span>, <span class="odate time_1346533551 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">01 Sep 2012 21:05</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1554150">
                      
		<div class="post" id="post-1554150">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1554150)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1554150">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1346573286 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">02 Sep 2012 08:08</span>
														</div>
			</div>
			<div class="content" id="post-content-1554150">
									

<p>Yep. There are shortcommings. The design of unix domain sockets is broken. There's no way to close the socket and unlink the associated file in a single atomic step. All kinds of race conditions, hang-ups etc. arise.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1554150)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1554150" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1554150)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1554150)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1346573286 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">02 Sep 2012 08:08</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1566578">
                      
		<div class="post" id="post-1566578">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1566578)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1566578">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=2ba7ab12213953c6eb744c6bdd555c96&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>captainobvious (guest)</span> <span class="odate time_1347869912 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Sep 2012 08:18</span>
														</div>
			</div>
			<div class="content" id="post-content-1566578">
									

<p>If you are using Linux, use sockets in the anonymous namespace and you won't have these problems.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1566578)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1566578" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1566578)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1566578)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=2ba7ab12213953c6eb744c6bdd555c96&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>captainobvious (guest)</span>, <span class="odate time_1347869912 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Sep 2012 08:18</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1566595">
                      
		<div class="post" id="post-1566595">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1566595)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1566595">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1347871406 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Sep 2012 08:43</span>
														</div>
			</div>
			<div class="content" id="post-content-1566595">
									

<p>Unfortunately, ZeroMQ is a multi-platform app, so you have to go with what POSIX offers.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1566595)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1566595)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1566595" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1566595)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1566595)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1347871406 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Sep 2012 08:43</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1444424">
                      
		<div class="post" id="post-1444424">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444424)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444424">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=f9401202ab73e624cc82800b0fff1489&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Konrad (guest)</span> <span class="odate time_1336662458 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:07</span>
														</div>
			</div>
			<div class="content" id="post-content-1444424">
									

<p>I don’t think the problem is really C++ – or even exceptions – here. It’s the <em>wrong use of exceptions</em>. Eric Lippert has a nice post about the correct and erroneous use of exceptions (which I cannot link to, but which can be found by googling for “vexing exceptions”). But even his analysis contains a flaw (i.e. C++ stream classes show how to circumvent those “vexing” exceptions).</p>
<p>Fundamentally, you show that handling proximal failure isn’t best solved using reflections. This is true, and all very well. Exceptions <em>still</em> might make sense to put error-handling on a different layer.</p>
<p>Regarding constructors, this might still be a good place to use exceptions, or a pattern as employed by the C++ file streams (i.e. have the object indicate whether it’s in a valid state) or (my favourite) use a facultatively initialised object (<tt>maybe&lt;foo&gt;</tt>, or a smart pointer).</p>
<p>You argue that C makes initialisation easier but that’s not true, even if you end up using the <tt>init</tt> function (ugh!) – just encapsulate constructor call + <tt>init</tt> into a free function which returns either a valid pointer to an object or a null pointer (which should of course be a smart pointer). In fact, how would your C code using <tt>foo_init</tt> indicate failure?</p>
<p>Which brings us to destructors. Those are indeed a sore spot when it comes to failure handling. But once again, this problem exists in C, too –&nbsp;it’s just hidden by the lack of exceptions.</p>
<p>Of course the ZeroMQ project is enormous and complex but with all due respect I still think your analysis of the difficulties is wrong, not fundamentally caused by the use of exceptions <em>nor</em> by C++’ use of classes, and I doubt that using C offers a better solution.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444424)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444424)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444424" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444424)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444424)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=f9401202ab73e624cc82800b0fff1489&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Konrad (guest)</span>, <span class="odate time_1336662458 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:07</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1444427">
                      
		<div class="post" id="post-1444427">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444427)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444427">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=3445f56229632874a44596385ed6d40c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>DeadMG (guest)</span> <span class="odate time_1336662648 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:10</span>
														</div>
			</div>
			<div class="content" id="post-content-1444427">
									

<p>It appears to me that you do not understand exceptions. Not that I'm going to be nasty about this, but that's my fundamental opinion.</p>
<p>&quot;The problem with that is that you have no idea of who and where is going to handle the exception.&quot;</p>
<p>That's the *point*. The *point* of exceptions is that you can choose the appropriate point to handle the error. The simple fact is that it's almost never in return codes that they are *not* propagated. Consider a file opening function. If the file does not exist, what are you gonna do? You can't handle the error there. Only the caller knows if it's OK for that file to not exist. User settings? Default them. Critical resource? Program failure. So you have to propagate it. In fact, it was probably already propagated to that function from an OS function. This happens all the time with return codes and exceptions are no different, except the compiler propagates it for you.</p>
<p>The key about RAII is that it should not matter to you where the exception is caught. If you throw an exception, it's not your problem where it's caught. It's the caller's problem to handle that. Just clean up and forget about it. And if you're super-worried about new exception types, then you can use catch(&#8230;).</p>
<p>Having exceptions be well-defined is easy. It's easier than the DRY-violation-o-licious return codes.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444427)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444427)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444427" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444427)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444427)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=3445f56229632874a44596385ed6d40c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>DeadMG (guest)</span>, <span class="odate time_1336662648 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:10</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1444440">
                      
		<div class="post" id="post-1444440">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444440)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444440">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=28a19f8e5d9cfeac870d16f83e9b1257&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Ilja Golshtein (guest)</span> <span class="odate time_1336663311 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:21</span>
														</div>
			</div>
			<div class="content" id="post-content-1444440">
									

<p>DeadMG, I believe you exaggerate Martin's ignorance ;)</p>
<p>Martin, I am sorry to ask, but didn't you write the text on April 1 ?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444440)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444440)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444440" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444440)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444440)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=28a19f8e5d9cfeac870d16f83e9b1257&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Ilja Golshtein (guest)</span>, <span class="odate time_1336663311 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:21</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1444734">
                      
		<div class="post" id="post-1444734">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444734)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444734">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336679279 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 19:47</span>
														</div>
			</div>
			<div class="content" id="post-content-1444734">
									

<p>Nope. We've implemented RFC3514 in linux kernel this year's April the 1st :)</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444734)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444734)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444734" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444734)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444734)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336679279 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 19:47</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
                      
    <div class="post-container" id="fpc-1444524">
                      
		<div class="post" id="post-1444524">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444524)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444524">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=23460caeb3bfc2e3f6ed19879cb9cea2&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Michael (guest)</span> <span class="odate time_1336667649 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 16:34</span>
														</div>
			</div>
			<div class="content" id="post-content-1444524">
									

<p>I started writing up a similar response. The article suggests that catching exceptions within the function that threw them is the norm. Occasionally it is done, but the real benefits of exceptions is that a relatively simple syntax lets the stack get efficiently unwound to the place in the code where a problem can be handled. Deciding where in your call hierarchy to handle an error condition is a challenge in any language, but it's easier and cleaner to implement in a language that supports exceptions.</p>
<p>Regarding destructors: The caller of a function that throws an exception doesn't care if secondary resource-release failures occur in the context of an exception. Masking (and logging) exceptions within destructors is a valid approach. If you encounter an error upon releasing resources, you certainly have bigger problems that will soon rear their ugly heads. If you really want a code path that specifically handles exceptional behavior on resource release, you can add an explicit exception-throwing method for releasing resources. This tends to complicate things by adding state (isClosed), and is rarely of much benefit.</p>
<p>Hmm, maybe I'll make a fork of 0MQ using exceptions! :-)</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444524)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444524)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444524" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444524)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444524)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=23460caeb3bfc2e3f6ed19879cb9cea2&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Michael (guest)</span>, <span class="odate time_1336667649 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 16:34</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1444600">
                      
		<div class="post" id="post-1444600">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444600)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444600">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336671744 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:42</span>
														</div>
			</div>
			<div class="content" id="post-content-1444600">
									

<p>That would be a nice experiment!</p>
<p>However, I think most of the posters above have misunderstood what I was saying.</p>
<p>The argument was that decoupling raising of the error from it's handling creates enormous amount of undefined or semi-defined &#8212; and in pactice mostly untested &#8212; states.</p>
<p>A simple change to the program like adding a single method invocation can change to global picture of error flows, which error can occur where etc.</p>
<p>In a long run such system in unmanageable because any change changes the behaviour of almost any other part of the system and thus requires full round of testing.</p>
<p>Exceptions are of course great when you don't care too much about what happens if error occurs. You handle most common cases and handle all the remaining cases with a generic handler, say opening a dialog box with the error description.</p>

							</div>

								
							<div class="changes">
					Last edited on <span class="odate time_1336671790 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:43</span>
					by <span class="printuser"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>
					<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.showHistory(event,1444600)"><i class="icon-plus"></i> Show more</a>
				</div>
				<div class="revisions" style="display: none"></div>
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1444600)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444600" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444600)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444600)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336671744 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:42</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1444685">
                      
		<div class="post" id="post-1444685">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444685)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444685">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=23460caeb3bfc2e3f6ed19879cb9cea2&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Michael (guest)</span> <span class="odate time_1336675415 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 18:43</span>
														</div>
			</div>
			<div class="content" id="post-content-1444685">
									

<p>I suspect that if you spent some time on a well-written project in Java or C# (these can be hard to find!), you might find that your concerns are overstated. In my experience, properly implemented exceptions actually tend to localize problems rather than globalize them, reduce error-handling complexity, and reduce the appearance of indeterminate states.</p>
<p>And of course, &quot;a full round of testing&quot; should be a normal part of development, not something considered unmanageable!</p>
<p>Given the quality of 0MQ, I'm sure you can do a clean and robust rewrite in C with no problem. It does actually seem like a good language for 0MQ, but IMO that's mostly due to being more portable than C++ (for embedded dev, etc).</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1444685)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444685" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444685)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444685)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=23460caeb3bfc2e3f6ed19879cb9cea2&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Michael (guest)</span>, <span class="odate time_1336675415 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 18:43</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1444740">
                      
		<div class="post" id="post-1444740">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444740)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444740">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336679904 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 19:58</span>
														</div>
			</div>
			<div class="content" id="post-content-1444740">
									

<p>Wow. How does Java/C# use exceptions to localise the error handling?</p>
<p>As for full round of desting, I believe we have a different view of what robustness mean. For me &quot;full round of testing&quot; means checking that the delayed TCP acks on OpenVMS on VAX platform still work as expected. And that when this specific way of network switch failure happens, the program can ultimately recover. That this particular timing of the incoming network events (at microsecond precision) doesn't introduce a hang-up. Etc.</p>
<p>If you consider that to be normal part of development you must be surely working for IBM :)</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1444740)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444740" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444740)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444740)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336679904 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 19:58</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1444807">
                      
		<div class="post" id="post-1444807">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444807)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444807">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=4e6ddf9c4707eff48fbafc89f8655ea0&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>David (guest)</span> <span class="odate time_1336684474 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 21:14</span>
														</div>
			</div>
			<div class="content" id="post-content-1444807">
									

<p>I don't know what you mean by how they handle localized errors, but you can surround any piece of code with try/catch and handle it there or have the method throw an exception that should be handled somewhere up the stack.</p>
<p>In the example you shown us you'd have something like this in hava</p>
<div class="code">
<pre>
<code>private fx() throws exeption{}

try{
     fx ();
} catch(exception e) { //handling code}</code>
</pre></div>
<p>Why do you consider this not localized enough?</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1444807)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444807" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444807)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444807)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=4e6ddf9c4707eff48fbafc89f8655ea0&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>David (guest)</span>, <span class="odate time_1336684474 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 21:14</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1444815">
                      
		<div class="post" id="post-1444815">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444815)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444815">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336684961 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 21:22</span>
														</div>
			</div>
			<div class="content" id="post-content-1444815">
									

<p>Yes, that's nice. However, it's the same thing as the C-style error handling:</p>
<div class="code">
<pre>
<code>int rc = fx ()
if (rc != 0)
    // handling code</code>
</pre></div>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1444815)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444815" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444815)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444815)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336684961 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 21:22</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1444851">
                      
		<div class="post" id="post-1444851">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444851)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444851">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=23460caeb3bfc2e3f6ed19879cb9cea2&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Michael (guest)</span> <span class="odate time_1336686926 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 21:55</span>
														</div>
			</div>
			<div class="content" id="post-content-1444851">
									

<p>Sorry I was unclear. Java and C# were mentioned because those are languages where exception handling is pervasive. The standard libraries and even the runtime can raise exceptions, so code is always developed with exceptions in mind. Returning error codes isn't something anyone does much of in these languages. And yet, even in large projects written in these languages, your concerns do not manifest themselves in any way that I have seen.</p>
<p>If you have a lot of experience with exceptions in Java/Python/Ruby/etc and disagree, that's fine. If not, I merely suggest that there is something to be learned from how exception handling plays out in projects written in these languages.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1444851)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444851" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444851)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444851)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=23460caeb3bfc2e3f6ed19879cb9cea2&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Michael (guest)</span>, <span class="odate time_1336686926 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 21:55</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445184">
                      
		<div class="post" id="post-1445184">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445184)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445184">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336713900 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 05:25</span>
														</div>
			</div>
			<div class="content" id="post-content-1445184">
									

<p>I guess there's no much system-level programming going on in Java or C#. So the problem is never hit. And as I already said in the blogpost, exceptions are great for rapid development which is exactly what Java a C# are used for.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445184)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445184" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445184)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445184)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336713900 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 05:25</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445346">
                      
		<div class="post" id="post-1445346">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445346)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445346">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=7c471d00727b931c9cbb4c704248af4d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Christophe (guest)</span> <span class="odate time_1336734988 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 11:16</span>
														</div>
			</div>
			<div class="content" id="post-content-1445346">
									

<p>If what you're saying is that C++ (and any other highlevel language) is no good if you want to have extremely tightly specified behavior in every possible edge case, you are probably right. But do we really want to do that, except in some extreme cases ?</p>
<p>I'm sure assembly is an even better option. After all, you can even deal with stack corruption, stack overflow and weird register state, which you will not correctly accomplish in C.</p>
<p>The problem you are creating here is that anybody who does not know the last location of the last bit in your code will not code decent responses to error conditions. In fact they may ignore them and proceed to use the partially initialized structures you've created. At that point you can tell them &quot;hey I didn't let you do that, see I told you what happened by setting the return code for foo_init to X&quot;. But the end result of this will be a segfault, because nobody checks the C function's return values, that's a boatload of uninteresting work ! In practice, serious damage will be done the program bails out with inexperienced programmers (and let's be fair : it happens to experienced ones often enough as well). And by inexperienced I mean practically every programmer who's not a seasoned kernel coder (and even they make error handling mistakes resulting in crashes).</p>
<p>Just so you know, I once designed a post about the correct way of opening a tcp connection to a remote host, correctly handling all possible error cases in C. It was 150+ lines of code. It took over 10 attempts and each time a code review brought a few things I hadn't thought of to light. And frankly, it still only handled ipv4 and ipv6 (and a hostname lookup can actually return more than just those 2), and still did not correctly initialize the connection in the SCTP case, and I'm sure there's a few old unixes that have even more options.</p>
<p>150 lines of code. For writing &quot;hello, world !&quot; to a tcp port.</p>
<p>150.</p>
<p>The reason for the massive length is that one has to repeat large sections of the program based on what the different cases are. And there's the case that DNS returned an IPv6 address but the host does not actually have IPv6 connectivity (and doesn't even handle the case that the host is on an IPv6 island, like most hosts are today, which can probably add another 15 lines of code easy)</p>
<p>And frankly, there's several stupidities that are still not handled. Like running out of stack space (does 0mq handle that correctly in all cases ? I'd be extremely impressed if it does)</p>
<p>In python it's 5 lines of code. In Java about 15.</p>
<p>Now first, you're right. That python code can fail with almost a dozen possible exceptions. Making it handle the 6to4 degradation gracefully, the only error case that can be meaningfully recovered from, makes it 10 lines of code. Properly abstracted, it's maybe 15 lines of code.</p>
<p>That code has lots of failure cases that I don't really care about, which essentially all need the sysadmin to fix things.</p>
<p>The problem is not just that the C stuff is 150 lines of code, but the fact that that is so extremely limiting. If merely sending a few bytes correctly is such a huge effort, imagine if I was copying a file to a tcp connection. Dozens of new failure scenarios (and all are uniformly poorly documented). Suppose I was writing a simple fuse filesystem.</p>
<p>The problem is that the error state space explodes, just like you say. But that happens in C just as it happens in every other language. If we ever want to get to actually implementing meaningful logic on top, we will need some way to do it that doesn't involve the programmer figuring out all possible error cases.</p>
<p>And it absolutely true that this will mean we lose some control over what happens if weird errors do occur. It essentially guarantees that the programmer will not have thought about, say, the IPv6-&gt;IPv4 degradation hinted above.</p>
<p>But given the fact that that programmer was probably implementing, say, a web store &#8230; is that really such a bad thing ?</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445346)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445346" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445346)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445346)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=7c471d00727b931c9cbb4c704248af4d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Christophe (guest)</span>, <span class="odate time_1336734988 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 11:16</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445353">
                      
		<div class="post" id="post-1445353">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445353)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445353">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336735852 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 11:30</span>
														</div>
			</div>
			<div class="content" id="post-content-1445353">
									

<p>150 lines of code to correctly handle TCP connection? Doesn't seem likely. You must have missed a lot of corner cases. 500-1000 would be a more reasonable number.</p>
<p>As for the stack overflow, Crossroads have limited stack depth, ie. you should never run out of stack space unless your OS allocated unreasonably short stack by default.</p>
<p>As for the error state space exploding, it doesn't happen if you handle any error immediately when it occurs rather than passing the error up the stack. That way you convert 'exceptional' state into regular well-defined codepath. If you pass it on, on the other hand, you have no control of who handles it and how. Also, if you write a handler you have no idea of what exactly caused the error. In such environment your error handling code is just a guesswork at best.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445353)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445353" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445353)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445353)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336735852 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 11:30</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445512">
                      
		<div class="post" id="post-1445512">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445512)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445512">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=23460caeb3bfc2e3f6ed19879cb9cea2&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Michael (guest)</span> <span class="odate time_1336752596 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 16:09</span>
														</div>
			</div>
			<div class="content" id="post-content-1445512">
									

<p>You can't always handle an error immediately. If I am implementing a complex API, and a function deep inside the API fails in such a way that indicates that makes it so that the top-level API call has failed, the error must be propagated up the stack somehow. In C, it propagates up with stuff like &quot;if deepFunction() == -1 return -1;&quot; (or goto fail or whatever), all the way up to the top. The stack must unwind somehow, and the error must propagate up.</p>
<p>&quot;If you write a handler you have no idea of what exactly caused the error.&quot;</p>
<p>Wow, this is simply incorrect. Not only can you specify an exception with any degree of granularity and with whatever information you want when you throw it, but most languages and some C++ exception libraries even automatically attach a stack trace to an exception when thrown, so you can easily analyze both the exact line where the failure occurred and the code path that led to it. As I recommended before, get some experience with a quality codebase that uses exceptions and you'll quickly find that the problems you worry about do not actually occur.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445512)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445512" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445512)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445512)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=23460caeb3bfc2e3f6ed19879cb9cea2&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Michael (guest)</span>, <span class="odate time_1336752596 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 16:09</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445526">
                      
		<div class="post" id="post-1445526">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445526)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445526">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336753417 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 16:23</span>
														</div>
			</div>
			<div class="content" id="post-content-1445526">
									

<p>You need to know what the exception is at *development time* so that you can write correct handler. The stack trace received at runtime doesn't help in any way.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445526)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445526" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445526)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445526)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336753417 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 16:23</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1446092">
                      
		<div class="post" id="post-1446092">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1446092)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1446092">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=7c471d00727b931c9cbb4c704248af4d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Christophe (guest)</span> <span class="odate time_1336787674 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 May 2012 01:54</span>
														</div>
			</div>
			<div class="content" id="post-content-1446092">
									

<p>That's a good answer for errors than can be handled locally, but that's hardly ever true. And there's nothing in exceptions that prevents you from locally handling errors.</p>
<p>Irritating in C++ is that you always have a mix of exceptions and C-style error checking because, well you don't have a choice, do you ?</p>
<p>But most errors cannot be handled in the code. Suppose a DNS lookup fails. What are you going to do to handle the error locally ? You're going to pass on a failure up the stack, that's what you're going to do. You argue in favor of doing it with return values, but those are easy to ignore, and they can take on surprising values.</p>
<p>You can easily create a well-defined codepath by catching any exception in the calling function and re-throwing a new one with a getCause method. And the only function that needs to be able to handle partially initialised state is the destructor and even then only if you have external resources to worry about. Or you can redesign your classes to contain resource management class instances that manage one external resource and close it correctly on destruction. That way, you can nearly always rewrite pretty much any destructor to become empty at the cost of having a few trivial classes (much like in Java).</p>
<p>With an exception you're sure that either it's handled, or the program dies. Both outcomes are preferable to proceeding with crippled backends. Return values are too easy to ignore, and therefore they usually are simply ignored.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1446092)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1446092" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1446092)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1446092)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=7c471d00727b931c9cbb4c704248af4d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Christophe (guest)</span>, <span class="odate time_1336787674 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 May 2012 01:54</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1448561">
                      
		<div class="post" id="post-1448561">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1448561)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1448561">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=e4c9652e58d33f02977db1ef0979e6d1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>chila (guest)</span> <span class="odate time_1337018167 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">14 May 2012 17:56</span>
														</div>
			</div>
			<div class="content" id="post-content-1448561">
									

<p>What martin prefers is a more &quot;functional&quot; approach to error handling, where an error is actually another kind of outcome of some particular function. There's no reason not to be able to handle the error locally, and propagating an error is always a _convenience_ practice that DOES have it's many pitfalls. It's easier to create predictable error paths if the caller always handle the error at call-site. With exceptions and propagation, you'll need to be able to always know all the exceptions a particular function throws to spot unhandled ones, requiring static analysis (which not always gives correct results) and you'll still have the problem of not knowing which function did throw the exception (which is in many cases needed) if exceptions are not handled at call site. The big problem with the functional approach is that it IS against rapid and in many cases the code is a lot harder to read. Exceptions makes the code clearer and easier to write at the expense of creating many hidden error paths, and for some projects that's unacceptable. One approach to the problem could be to use C++ without exceptions.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1448561)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1448561" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1448561)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1448561)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=e4c9652e58d33f02977db1ef0979e6d1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>chila (guest)</span>, <span class="odate time_1337018167 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">14 May 2012 17:56</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1449173">
                      
		<div class="post" id="post-1449173">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1449173)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1449173">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1337058053 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">15 May 2012 05:00</span>
														</div>
			</div>
			<div class="content" id="post-content-1449173">
									

<p>Yes. If you want to do rapid development use exceptions. If you want to do systems programming, forget about it.</p>
<p>Btw, the discussion does have a philosophical aspect. It is about concept of &quot;unknown&quot; (a.k.a. &quot;unexpected&quot;).</p>
<p>My argument was that with systems programming you should avoid &quot;unknown&quot; as much as possible. By handling error as soon as they happen you basically say while it is error it is not &quot;unknown&quot; or &quot;unexpected&quot; state. It's just a different, perfectly valid and well-understood codepath.</p>
<p>With exceptions you take the error, you acknowledge it's &quot;unknown&quot; nature by converting it into generic exception, you break away from the standard codepath and pass the responsibility for dealing with the unknown to someone else. This is great when you are OK with 80% or 90% solutions. Errors are sparse and handling them correctly in 90% or cases can mean the problem will be never hit, especially if the program is not used very widely.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1449173)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1449173" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1449173)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1449173)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1337058053 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">15 May 2012 05:00</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-2218447">
                      
		<div class="post" id="post-2218447">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2218447)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2218447">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=d1533fa04e39730c87a7b160d1d60862&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Rich (guest)</span> <span class="odate time_1422428012 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">28 Jan 2015 06:53</span>
														</div>
			</div>
			<div class="content" id="post-content-2218447">
									

<p>This point you make IS valid:</p>
<p>&quot;This is great when you are OK with 80% or 90% solutions. Errors are sparse and handling them correctly in 90% or cases can mean the problem will be never hit, especially if the program is not used very widely.&quot;</p>
<p>However, even a hello world application doesn't have a &lt;10% (we're sayingthat only 10% or less of the logic in the application doesn't handle every single error that can happen absolutely perfectly&#8230;) fault ratio; not even the UNIX kernel has a &lt;10% fault ratio&#8230;.there's always a way to break stuff, why fix it until it needs to be fixed? At which point you know the issue, and how to handle it&#8230;. I can hack Windows and activate it any day of the week -&gt; switching to another language isn't going to stop that.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2218447)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2218447)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2218447" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2218447)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2218447)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=d1533fa04e39730c87a7b160d1d60862&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Rich (guest)</span>, <span class="odate time_1422428012 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">28 Jan 2015 06:53</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1444432">
                      
		<div class="post" id="post-1444432">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444432)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444432">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=d77a0e72e35ecec4753d383654089120&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>aaron (guest)</span> <span class="odate time_1336662872 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:14</span>
														</div>
			</div>
			<div class="content" id="post-content-1444432">
									

<p>Interesting article, couldn't you could just make constructors and destructors private then give your classes static create and destroy functions?</p>
<p>class Foo {<br />
public:<br />
static int create(Foo** foo) { *foo = new Foo(); return 0; }<br />
static int destroy(Foo* foo) { delete foo; return 0; }<br />
private:<br />
Foo() {}<br />
virtual ~Foo() {}<br />
};</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444432)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444432)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444432" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444432)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444432)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=d77a0e72e35ecec4753d383654089120&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>aaron (guest)</span>, <span class="odate time_1336662872 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:14</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1444608">
                      
		<div class="post" id="post-1444608">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444608)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444608">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336672069 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:47</span>
														</div>
			</div>
			<div class="content" id="post-content-1444608">
									

<p>Sure. You can. But you still have to care about the semi-initialised state inside the class, especially if the termination function performs non-trivial operations on the class. If it calls any other classes you are back to the original problem: the object is in semi-defined state while processing is going on. Once you add callback into the mix you'll be completely lost.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444608)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444608)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444608" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444608)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444608)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336672069 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:47</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1444723">
                      
		<div class="post" id="post-1444723">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444723)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444723">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=728316afb3d8b6c8583fe6ac648930d9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Joao (guest)</span> <span class="odate time_1336678356 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 19:32</span>
														</div>
			</div>
			<div class="content" id="post-content-1444723">
									

<p>I share these concerns, but how does C improve on that over C++? Those issues are just moved to foo_init() and foo_term().</p>
<p>create() can fail and not return a new object, if it couldn't be constructed with a well-defined state. In that case, every live instance is guaranteed to be valid, and the destructor can also assume that.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1444723)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444723" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444723)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444723)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=728316afb3d8b6c8583fe6ac648930d9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Joao (guest)</span>, <span class="odate time_1336678356 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 19:32</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1444736">
                      
		<div class="post" id="post-1444736">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444736)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444736">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336679457 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 19:50</span>
														</div>
			</div>
			<div class="content" id="post-content-1444736">
									

<p>It doesn't improve anything. It's just explicit and authoritative about not using the problematic constructs.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444736)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444736)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444736" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444736)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444736)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336679457 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 19:50</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1444446">
                      
		<div class="post" id="post-1444446">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444446)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444446">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=f9e15ea219f18a6793adb0e3a5443f64&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Chuck Fry (guest)</span> <span class="odate time_1336663628 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:27</span>
														</div>
			</div>
			<div class="content" id="post-content-1444446">
									

<p>The big problem with C++'s exception handling is that it always unwinds the stack to the try-catch frame before doing anything with the exception. A lot of context is lost as a result.</p>
<p>As far back as the late '80s, languages like Common Lisp allowed conditions (CL's name for exceptions) to be handled in the context where they occurred, at the top of the stack. I'm disappointed that this model hasn't been implemented in a C-like language.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444446)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444446)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444446" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444446)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444446)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=f9e15ea219f18a6793adb0e3a5443f64&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Chuck Fry (guest)</span>, <span class="odate time_1336663628 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:27</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1444483">
                      
		<div class="post" id="post-1444483">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444483)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444483">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=773f90d7d7a3bfea376ba86dd16d27e0&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Ardent Reader (guest)</span> <span class="odate time_1336665797 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 16:03</span>
														</div>
			</div>
			<div class="content" id="post-content-1444483">
									

<p>Seems to me like the conclusion is, &quot;I can't save people from themselves or enforce easily enough good design paradigms. So, I'm going to do something perhaps a little more convoluted initially just so people don't break RAII or use exceptions incorrectly. I must save them from themselves or save me from constant clean up trouble.&quot;</p>
<p>All of these problems can be surpassed if everyone was on-board with a mix of exceptions/classic error handling/proper RAII/consistent design, and you'd still get some of the, arguable, programming benefits of C++. Now, I have immense respect for ZeroMQ. So, I don't disagree with the choice, and I unfortunately know the perils of large projects and the existence of inconsistency. So, I don't begrudge you for the choice, and I respect that it seems you know these things can be overcome; it's just not easy to enforce or keep things consistent. Many times I've saved myself from myself by just writing it in C so that I don't get so grand on design that I lose focus - because for what I do on a daily basis, whatever produces the fastest code is almost always what I have to ultimately go with.</p>
<p>I write more C than C++ for the same reasons, but it's sort of sad it comes to this at times&#8230;</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444483)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444483)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444483" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444483)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444483)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=773f90d7d7a3bfea376ba86dd16d27e0&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Ardent Reader (guest)</span>, <span class="odate time_1336665797 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 16:03</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1444619">
                      
		<div class="post" id="post-1444619">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444619)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444619">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336672364 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:52</span>
														</div>
			</div>
			<div class="content" id="post-content-1444619">
									

<p>I would say the conclusion is &quot;there's no good design paradigm for exhaustively handling errors once exceptions get involved&quot;.</p>
<p>You cannot avoid exponential growth of number of failure modes, unless, of course, you enclose every function invocation into it's own try/catch block.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1444619)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444619" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444619)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444619)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336672364 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:52</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1444690">
                      
		<div class="post" id="post-1444690">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444690)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444690">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=4c9a2e612661483c007e58c3febe7d41&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Hui Zhou (guest)</span> <span class="odate time_1336675668 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 18:47</span>
														</div>
			</div>
			<div class="content" id="post-content-1444690">
									

<p>Or, you could try consciously limit the distance between where exception is thrown and where it is being caught. For example, if function foo() throws exceptions, we can enforce every call of foo to be in a try/catch block and handles every exception foo() throws. That is, we could by policy, disallow exceptions propagate from under foo() &#8212; foo() has to handle all the exceptions foo calls upon, and if it has to, turn into foo()'s own exception. I think that is the only way to avoid exponential growth of exceptions.</p>
<p>A similar effect goes with objects. We should limit layers of objects. Only those parts of code that has very clean and limited interface should be wrapped in a class. Or we are subscribed to endless code bureaucracy.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1444690)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444690" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444690)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444690)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=4c9a2e612661483c007e58c3febe7d41&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Hui Zhou (guest)</span>, <span class="odate time_1336675668 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 18:47</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1444745">
                      
		<div class="post" id="post-1444745">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444745)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444745">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336680144 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 20:02</span>
														</div>
			</div>
			<div class="content" id="post-content-1444745">
									

<p>Wrt exceptions: Yes. But that's exactly what you would do in C by checking the error codes. And C syntax is much nicer IMO:</p>
<div class="code">
<pre>
<code>int rc = fx ();
if (rc != 0)
    do_something ();</code>
</pre></div>
<p>vs.</p>
<div class="code">
<pre>
<code>try {
    fx ();
}
catch (...) {
    do_something ();
}</code>
</pre></div>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444745)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444745)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444745" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444745)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444745)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336680144 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 20:02</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
                      
    <div class="post-container" id="fpc-1444550">
                      
		<div class="post" id="post-1444550">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444550)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444550">
																		Conditions
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/cbsmith" onclick="WIKIDOT.page.listeners.userInfo(1360430); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=1360430&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="cbsmith" style="background-image:url(http://www.wikidot.com/userkarma.php?u=1360430)"/></a><a href="http://www.wikidot.com/user:info/cbsmith" onclick="WIKIDOT.page.listeners.userInfo(1360430); return false;" >cbsmith</a></span> <span class="odate time_1336669215 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:00</span>
														</div>
			</div>
			<div class="content" id="post-content-1444550">
									

<p>You can certainly build something like conditions, but the problem is you end up with zero encapsulation. Exception objects should act as an encapsulated closure around the original error, capturing all relevant state that ought to be exposed to any bits of code that might catch it. The end result is far cleaner code.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444550)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444550)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444550" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444550)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444550)">Conditions</a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/cbsmith" onclick="WIKIDOT.page.listeners.userInfo(1360430); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=1360430&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="cbsmith" style="background-image:url(http://www.wikidot.com/userkarma.php?u=1360430)"/></a><a href="http://www.wikidot.com/user:info/cbsmith" onclick="WIKIDOT.page.listeners.userInfo(1360430); return false;" >cbsmith</a></span>, <span class="odate time_1336669215 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 17:00</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1444468">
                      
		<div class="post" id="post-1444468">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444468)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444468">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=e0f49f7c7824f4b8f2fbf329e121dc1d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Eskil Olsen (guest)</span> <span class="odate time_1336665213 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:53</span>
														</div>
			</div>
			<div class="content" id="post-content-1444468">
									

<p>I'm a bit skeptical about these conclusions, except the one about exception specifications being bogus. It sounds like you have constructors and destructors that do too much and therefore can fail in undesirable ways. From what I've seen of the zeromq code (nice project btw) your ctors tend to be pretty lean, except things like ctx. So I'm not sure what problems you've had there.</p>
<p>Reg. calling code that throws exceptions. I'd guess maybe they raise exceptions for unexceptional things? Archtypical examples like exceptions for eof versus handling that in a reading loop are the typical patterns of exceptions that get increasingly impossible to deal with. Exceptions should truly be for the things that are unexpected and unhandlable at the place it happened. Normal &quot;expected&quot; problems should be dealt with using C style return codes.</p>
<p>As an example, I'd rather have a socket/thread/message class raise a std::bad_alloc error, rather than assert and stop. I can catch a bad_alloc higher up, log that we're low on system resources. Of course, the logging has to be written so that it can log things without memory allocations, and that's also rough and timeconsuming to get right.</p>
<p>Your comment that, &quot;Adding a new function call to the code introduces that possibility that different types of exceptions will bubble up to the calling function where there are not yet properly handled. Which means new bugs.&quot; particularly irks me. C style handling makes it easy to forget to check a return value causing bugs that are rare and non-trivial to reproduce/debug. With an unhandled exception, you can at least get a stacktrace and can see where it was missed.</p>
<p>I've done systems programming for many years in C++, with and without exceptions. Without, it degrades to C style checks and such like you describe, and with, well, you have to be careful and there's a lot of rope to hang yourself in. But at the end of the day, I've found it was easier and simpler, as long as you don't use Java style exceptions for every little conceivable &quot;error&quot;. Less is more when it comes to exceptions&#8212;keep them for the exceptional cases.</p>
<p>But, if you want to try going back to the C path, I wish you the best of luck with that project, don't forget to free your memory and close your fds :-D</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444468)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444468)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444468" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444468)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444468)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=e0f49f7c7824f4b8f2fbf329e121dc1d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Eskil Olsen (guest)</span>, <span class="odate time_1336665213 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:53</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1444630">
                      
		<div class="post" id="post-1444630">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444630)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444630">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336672926 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 18:02</span>
														</div>
			</div>
			<div class="content" id="post-content-1444630">
									

<p>Well, I personally find explicitly handling the error codes quite easy (4 year old could do that). All it requires is a bit of discipline.</p>
<p>However, understanding how your local patch changes global error handling is close to impossible, especially when the patch doesn't deal with the exception handling directly, just happens to be on the path of the stack unwind.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444630)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444630)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444630" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444630)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444630)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336672926 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 18:02</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1445365">
                      
		<div class="post" id="post-1445365">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445365)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445365">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=e0f49f7c7824f4b8f2fbf329e121dc1d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Eskil Olsen (guest)</span> <span class="odate time_1336737543 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 11:59</span>
														</div>
			</div>
			<div class="content" id="post-content-1445365">
									

<p>If you trust the entire development team, and somehow trust the API users and their ability to write callbacks. Return codes are fine, but only for things that are more or less optional to check. Non-optional and exceptional things, exceptions.</p>
<p>I can't quite see many places in zeromq where exceptions would improve life, except for the not using no-throw new. That's one where I'd rather get a std::bad_alloc than risk a missing assert.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445365)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445365" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445365)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445365)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=e0f49f7c7824f4b8f2fbf329e121dc1d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Eskil Olsen (guest)</span>, <span class="odate time_1336737543 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 11:59</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445366">
                      
		<div class="post" id="post-1445366">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445366)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445366">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336737668 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 12:01</span>
														</div>
			</div>
			<div class="content" id="post-content-1445366">
									

<p>There's no much you can do with bad_alloc other than terminating the process anyway.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1445366)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1445366)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445366" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445366)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445366)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336737668 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 12:01</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1444471">
                      
		<div class="post" id="post-1444471">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444471)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444471">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=a422c25ce92c5b5877eab423be45cdf6&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Peter (guest)</span> <span class="odate time_1336665256 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:54</span>
														</div>
			</div>
			<div class="content" id="post-content-1444471">
									

<p>Looks like there's a little typo in the second code example.</p>
<div class="code">
<pre>
<code>int rc = fx ();
if (fx != 0)
    throw std::exception ();</code>
</pre></div>
<p>I think you meant to test the value of rc in the conditional.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444471)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444471)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444471" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444471)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444471)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=a422c25ce92c5b5877eab423be45cdf6&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Peter (guest)</span>, <span class="odate time_1336665256 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 15:54</span>
		</div>
	</div>
 
                
                	


        
                      
    <div class="post-container" id="fpc-1444492">
                      
		<div class="post" id="post-1444492">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444492)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444492">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=5fcfd13088c8cb49447b1f072e0cd0c9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>dizzy (guest)</span> <span class="odate time_1336666116 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 16:08</span>
														</div>
			</div>
			<div class="content" id="post-content-1444492">
									

<p>uh, C++ has huge advantages. What you really want is C + two or three C++ features. or 100, really. But not exception handling, not RTTI, not STL, not all the Java-esque shit. You have to understand that the people who designed it are basically morons and the people who implemented stl are retarded morons, but underneath it all there is still C with vastly improved namespacing and data hiding.</p>
<p>I use these flags at home:<br />
-Wall -Werror -Wunused -Wundef -Wsign-compare -Wshadow -Wold-style-cast -Woverloaded-virtual -Wsign-promo -Wsynth -fno-exceptions -fno-rtti -fcheck-new -g -ggdb -O -D_GNU_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -pthread</p>
<p>sometimes g++ (or gcc) needs &quot;-g -O&quot; to actually make all the checks work.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444492)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444492)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444492" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444492)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444492)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=5fcfd13088c8cb49447b1f072e0cd0c9&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>dizzy (guest)</span>, <span class="odate time_1336666116 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 16:08</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1444644">
                      
		<div class="post" id="post-1444644">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444644)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444644">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336673426 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 18:10</span>
														</div>
			</div>
			<div class="content" id="post-content-1444644">
									

<p>C with templates would be nice. I never understood why nobody have though of doing that.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1444644)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444644" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444644)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444644)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336673426 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 18:10</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445135">
                      
		<div class="post" id="post-1445135">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445135)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445135">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=afc994b465a4d7f834f5e1c5486483a0&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Chris (guest)</span> <span class="odate time_1336708836 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 04:00</span>
														</div>
			</div>
			<div class="content" id="post-content-1445135">
									

<p>At least, one reason is that C doesn't support name mangling, and templates *imply* that, since they produce functions with the same name that differ only in their input parameters.<br />
Example: do(T) can be instantiated to be do(This_t) and do(That_t).</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445135)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445135" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445135)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445135)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=afc994b465a4d7f834f5e1c5486483a0&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Chris (guest)</span>, <span class="odate time_1336708836 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 04:00</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1445176">
                      
		<div class="post" id="post-1445176">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1445176)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1445176">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336713246 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 05:14</span>
														</div>
			</div>
			<div class="content" id="post-content-1445176">
									

<p>Fair enough, unless templates are always evaluated as inlines.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1445176)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1445176" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1445176)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1445176)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336713246 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 May 2012 05:14</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1552089">
                      
		<div class="post" id="post-1552089">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1552089)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1552089">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=641fcaca69e5dce296abc400f9832682&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Luke (guest)</span> <span class="odate time_1346362937 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">30 Aug 2012 21:42</span>
														</div>
			</div>
			<div class="content" id="post-content-1552089">
									

<blockquote>
<p>C with templates would be nice. I never understood why nobody have though of doing that.</p>
</blockquote>
<p>Hmm, I'm currently deciding whether to use C or C++ for my project, and talk like that makes me look at the whole article with a renewed sense of scepticism. It seems you're not happy with exceptions, but you don't understand the whole slew of problems that comes with C.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1552089)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1552089" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1552089)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1552089)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=641fcaca69e5dce296abc400f9832682&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Luke (guest)</span>, <span class="odate time_1346362937 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">30 Aug 2012 21:42</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1833515">
                      
		<div class="post" id="post-1833515">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1833515)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1833515">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ae3a04297cd128c268323fcf9e8e4104&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Artur Ortega (guest)</span> <span class="odate time_1376600560 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">15 Aug 2013 21:02</span>
														</div>
			</div>
			<div class="content" id="post-content-1833515">
									

<p>When reading through the described problem it feels like, you are looking for &quot;inversion of control&quot;, e.g. <a href="http://code.google.com/p/iocc/wiki/GettingStarted">http://code.google.com/p/iocc/wiki/GettingStarted</a></p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1833515)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1833515" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1833515)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1833515)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ae3a04297cd128c268323fcf9e8e4104&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Artur Ortega (guest)</span>, <span class="odate time_1376600560 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">15 Aug 2013 21:02</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1833528">
                      
		<div class="post" id="post-1833528">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1833528)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1833528">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1376601515 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">15 Aug 2013 21:18</span>
														</div>
			</div>
			<div class="content" id="post-content-1833528">
									

<p>To be frank, I believe that the whole concept of inversion of control is one of the more horrible ideas to be found in computer science. Just to give an example why it's problematic: My domain-specific code can happily use two libraries. However, would you ever dare to embed your domain-specific code into two frameworks in parallel?</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1833528)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1833528" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1833528)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1833528)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1376601515 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">15 Aug 2013 21:18</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1833924">
                      
		<div class="post" id="post-1833924">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1833924)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1833924">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=541b9ae21eec552dd021083e286ff3eb&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Walt Howard (guest)</span> <span class="odate time_1376653235 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">16 Aug 2013 11:40</span>
														</div>
			</div>
			<div class="content" id="post-content-1833924">
									

<p>Sigh.</p>
<p>Exceptions are just big returns. And the catch block is the call point.</p>
<p>You should have ONE exception class in your project, subclassed from std::exception. In that class you have members that hold the OS error code, an application specific error code, and a string that describes the error and possibly the file and line where the exception was thrown.</p>
<p>At the catch point you can decide how to handle the problem. In 95% of these things all you need to do is keep running, possibly logging a warning or error.</p>
<p>If you are down on exception syntax create a macro</p>
<p>#define IFTHROW(CODE) try { CODE } catch</p>
<p>That will act just like an old fashioned &quot;if (err no)&quot;</p>
<p>If you think C++ causes undefined behavior, just wait until you use C.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1833924)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1833924" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1833924)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1833924)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=541b9ae21eec552dd021083e286ff3eb&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Walt Howard (guest)</span>, <span class="odate time_1376653235 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">16 Aug 2013 11:40</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1835794">
                      
		<div class="post" id="post-1835794">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1835794)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1835794">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ccbe7da9a44a8737ca2eda4462c42fe1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martin Sustrik (guest)</span> <span class="odate time_1376901500 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Aug 2013 08:38</span>
														</div>
			</div>
			<div class="content" id="post-content-1835794">
									

<p>This is actually unlike about C++. All the time I am getting to the situation where I have to write extra code (the macro in this case) just to get rid of C++ features. I rather use a language that lacks the features in question in the first place.</p>
<p>As for C, I've already re-written ZeroMQ in C (see nanomsg project) and the code is simpler, more readable, behaviour is fully defined etc.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1835794)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1835794)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1835794" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1835794)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1835794)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ccbe7da9a44a8737ca2eda4462c42fe1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martin Sustrik (guest)</span>, <span class="odate time_1376901500 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Aug 2013 08:38</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
                      
    <div class="post-container" id="fpc-1444632">
                      
		<div class="post" id="post-1444632">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1444632)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1444632">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1336673018 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 18:03</span>
														</div>
			</div>
			<div class="content" id="post-content-1444632">
									

<p>Fixed. Thanks!</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1444632)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1444632)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1444632" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1444632)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1444632)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594259746" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1336673018 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 May 2012 18:03</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-2353420">
                      
		<div class="post" id="post-2353420">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2353420)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2353420">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=d98dc2612294bf812e044328bc59fac6&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Giacomo Drago (guest)</span> <span class="odate time_1438958211 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">07 Aug 2015 14:36</span>
														</div>
			</div>
			<div class="content" id="post-content-2353420">
									

<p>Exceptions and undefined behaviour have nothing to do with each other. Nothing. I don't comment all the remaining fluff about constructors having non-empty bodies, half-initialised objects, and such. You don't seem to know anything about the &quot;Rule of Zero&quot;, your reasoning about separate init functions makes absolutely no sense, I am afraid.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,2353420)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2353420" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2353420)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2353420)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=d98dc2612294bf812e044328bc59fac6&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Giacomo Drago (guest)</span>, <span class="odate time_1438958211 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">07 Aug 2015 14:36</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-2353423">
                      
		<div class="post" id="post-2353423">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2353423)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2353423">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ccbe7da9a44a8737ca2eda4462c42fe1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martin Sustrik (guest)</span> <span class="odate time_1438958765 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">07 Aug 2015 14:46</span>
														</div>
			</div>
			<div class="content" id="post-content-2353423">
									

<p>The very fact that you have to rely on such rules is a failure of language.</p>
<p>I once heard it being put like this: &quot;Design pattern is a sign of problem in the language.&quot;</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2353423)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2353423)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2353423" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2353423)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2353423)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ccbe7da9a44a8737ca2eda4462c42fe1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martin Sustrik (guest)</span>, <span class="odate time_1438958765 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">07 Aug 2015 14:46</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 


<div class="pager"><span class="pager-no">page 1 of 8</span><span class="current">1</span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(2)">2</a></span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(3)">3</a></span><span class="dots">...</span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(7)">7</a></span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(8)">8</a></span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(2)">next &raquo;</a></span></div>
</div>

        <a href="javascript:;" id="new-post-button" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.newPost(event,null)"
      style="display:  block ; margin-bottom:1em"
    >Add a New Comment</a>

 

<div style="display:none" id="post-options-template">
	<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.showPermalink(event,'%POST_ID%')" class="btn btn-default btn-small btn-sm">Permanent Link</a>
			<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.editPost(event,'%POST_ID%')" class="btn btn-default btn-small btn-sm">Edit</a>
			<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.deletePost(event,'%POST_ID%')" class="btn btn-danger btn-small btn-sm">Delete</a>
</div>
	
			</div>
	
	
	
</div></div>

                    </div>

                    


                    



                    

                    <div id="page-info-break"></div>
                    
                        <div id="page-options-container">
                            
                        </div>
                    
                    <div id="action-area" style="display: none;"></div>
                </div>
            </div>
            
            
            
            <div id="footer" style="display: block; visibility: visible;">
                <div class="options" style="display: block; visibility: visible;">
    <a href="http://www.wikidot.com/doc" id="wikidot-help-button">Help</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:terms-of-service" id="wikidot-tos-button">Terms of Service</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:privacy-policy" id="wikidot-privacy-button">Privacy</a>
    &nbsp;|
    <a href="javascript:;" id="bug-report-button" onclick="WIKIDOT.page.listeners.pageBugReport(event)">Report a bug</a>
    &nbsp;|
    <a href="javascript:;" id="abuse-report-button" onclick="WIKIDOT.page.listeners.flagPageObjectionable(event)">Flag as objectionable</a>
</div>
Powered by <a href="http://www.wikidot.com">Wikidot.com</a> 
            </div>
            
                <div id="license-area" class="license-area">
                    Unless otherwise stated, the content of this page is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 License</a>
                </div>
            
            
            



            <div id="extrac-div-1"><span></span></div><div id="extrac-div-2"><span></span></div><div id="extrac-div-3"><span></span></div>
            
            
            
            
                
            
        </div>
        
    </div>
<!-- These extra divs/spans may be used as catch-alls to add extra imagery. -->
<div id="extra-div-1"><span></span></div><div id="extra-div-2"><span></span></div><div id="extra-div-3"><span></span></div>
<div id="extra-div-4"><span></span></div><div id="extra-div-5"><span></span></div><div id="extra-div-6"><span></span></div>
</div>




</div>
<div id="dummy-ondomready-block" style="display: none;" ></div>
    <!-- Google Analytics load -->
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <!-- Quantcast -->
    <script type="text/javascript">
    _qoptions={
        qacct:"p-edL3gsnUjJzw-"
    };
    (function() {
        var qc = document.createElement('script'); qc.type = 'text/javascript'; qc.async = true;
        qc.src = ('https:' == document.location.protocol ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(qc, s);
    })();
    </script>
    <noscript>
        <img src="http://pixel.quantserve.com/pixel/p-edL3gsnUjJzw-.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
    </noscript>




<div id="page-options-bottom-tips" style="display: none;">
    <div id="edit-button-hovertip">
        Click here to edit contents of this page.    </div>
</div>
<div id="page-options-bottom-2-tips"  style="display: none;">
    <div id="edit-sections-button-hovertip">
        Click here to toggle editing of individual sections of the page (if possible).         Watch headings for an &quot;edit&quot; link when available.    </div>
    <div id="edit-append-button-hovertip">
        Append content without editing the whole page source.    </div>
    <div id="history-button-hovertip">
        Check out how this page has evolved in the past.    </div>
    <div id="discuss-button-hovertip">
        If you want to discuss contents of this page - this is the easiest way to do it.    </div>
    <div id="files-button-hovertip">
        View and manage file attachments for this page.    </div>
    <div id="site-tools-button-hovertip">
        A few useful tools to manage this Site.    </div>
    <div id="backlinks-button-hovertip">
        See pages that link to and include this page.    </div>
    <div id="rename-move-button-hovertip">
        Change the name (also URL address, possibly the category) of the page.    </div>
    <div id="view-source-button-hovertip">
        View wiki source for this page without editing.    </div>
    <div id="parent-page-button-hovertip">  
        View/set parent page (used for creating breadcrumbs and structured layout).    </div>
            <div id="abuse-report-button-hovertip">
            Notify administrators if there is objectionable content in this page.        </div>
        <div id="bug-report-button-hovertip">
            Something does not work as expected? Find out what you can do.        </div>
        <div id="wikidot-help-button-hovertip">
            General Wikidot.com documentation and help section.        </div>
        <div id="wikidot-tos-button-hovertip">
            Wikidot.com Terms of Service - what you can, what you should not etc.        </div>
        <div id="wikidot-privacy-button-hovertip">
            Wikidot.com Privacy Policy.          
        </div>
    </div>
</body>
</html>