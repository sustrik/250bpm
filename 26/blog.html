<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <title>nanomsg: Towards Full-Blown Configuration Management - 250bpm</title>
    
    	<script type="text/javascript" src="http://www.wikidot.com/default__flow/login__CustomDomainScript?site_id=148706"></script>

    
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--javascript/init.combined.js"></script>
    <script  type="text/javascript">
        var URL_HOST = 'www.wikidot.com';
        var URL_DOMAIN = 'wikidot.com';
        var USE_SSL =  true ;
        var URL_STATIC = 'http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9';
        // global request information
        
        var WIKIREQUEST = {};
        WIKIREQUEST.info = {};
        
        WIKIREQUEST.info.domain = "250bpm.com";
        WIKIREQUEST.info.siteId = 148706;
        WIKIREQUEST.info.siteUnixName = "250bpm";
        WIKIREQUEST.info.categoryId = 2550760;
        WIKIREQUEST.info.themeId = 18520;
        WIKIREQUEST.info.requestPageName = "blog:26";
        OZONE.request.timestamp = 1594263516;
        OZONE.request.date = new Date();
        WIKIREQUEST.info.lang = 'en';
                WIKIREQUEST.info.pageUnixName = "blog:26";
        WIKIREQUEST.info.pageId = 19747710;
                        WIKIREQUEST.info.lang = "en";
        OZONE.lang = "en";
        var isUAMobile = !!/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    </script>
    
    


    
        <script  type="text/javascript">
    
        require.config({
            baseUrl: URL_STATIC + '/common--javascript',
            paths: {
                'jquery.ui': 'jquery-ui.min',
                'jquery.form': 'jquery.form'
            }
        });
    
    </script>
    
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
            
    
    
    
    
    <meta http-equiv="content-language" content="en"/>
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--javascript/WIKIDOT.combined.js"></script>
        
    
    <style type="text/css" id="internal-style">
        
        /* modules */
        
                
        /* theme */
                    @import url(http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--theme/base/css/style.css);
                    @import url(http://250bpm.wdfiles.com/local--theme/250bpm/style.css);
            </style>
    
        
        
        
    <link rel="shortcut icon" href="/local--favicon/favicon.gif"/>
    <link rel="icon" type="image/gif" href="/local--favicon/favicon.gif"/>
    
            <link rel="apple-touch-icon" href="/common--images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="/common--images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="/common--images/apple-touch-icon-114x114.png" />
        
        
            <link rel="alternate" type="application/wiki" title="Edit this page" href="javascript:WIKIDOT.page.listeners.editClick()"/>
    
        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18234656-1']);
        _gaq.push(['_setDomainName', 'none']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);

        _gaq.push(['old._setAccount', 'UA-68540-5']);
        _gaq.push(['old._setDomainName', 'none']);
        _gaq.push(['old._setAllowLinker', true]);
        _gaq.push(['old._trackPageview']);

                _gaq.push(['userTracker._setAccount', 'UA-3207370-9']);
        _gaq.push(['userTracker._trackPageview']);
            </script>
    
    <script type="text/javascript">
        window.google_analytics_uacct = 'UA-18234656-1';
        window.google_analytics_domain_name = 'none';
    </script>
    
        <link rel="manifest" href="/onesignal/manifest.json" />
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" acync=""></script>
    <script>
        var OneSignal = window.OneSignal || [];
        OneSignal.push(function() {
          OneSignal.init({
            appId: null,
          });
        });
    </script>
        
<link rel="alternate" type="application/rss+xml" title="Comments for the page &quot;nanomsg: Towards Full-Blown Configuration Management&quot;" href="/feed/page/comments-19747710.xml"/><script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumCommentsModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumViewThreadModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumViewThreadPostsModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/sub/ForumNewPostFormModule.js"></script>
</head>
<body id="html-body">
<div id="skrollr-body">
<a name="page-top"></a>





<div id="container-wrap-wrap">
    <div id="container-wrap">
        <div id="container">
            <div id="header">
              <h1><a href="/"><span>250bpm</span></a></h1>
                
                
                <!-- google_ad_section_start(weight=ignore) -->
                
                <div id="search-top-box" class="form-search">
    <form id="search-top-box-form" action="dummy" class="input-append">
        <input id="search-top-box-input" class="text empty search-query" type="text" size="15" name="query" value="Search this site" onfocus="if(YAHOO.util.Dom.hasClass(this, 'empty')){YAHOO.util.Dom.removeClass(this,'empty'); this.value='';}"/><input class="button btn" type="submit" name="search" value="Search"/>
    </form>
</div>
                
                
                    <div id="top-bar">
                        

<ul>
<li><a href="/">Home</a></li>
<li><a href="https://github.com/sustrik/cartesian">Cartesian</a></li>
<li><a href="http://libdill.org">Libdill</a></li>
<li><a href="http://nanomsg.org">Nanomsg</a></li>
<li><a href="https://github.com/sustrik/tiles">Tiles</a></li>
<li><a href="http://zero.mq">ZeroMQ</a></li>
<li><a href="/contact">Contact</a></li>
</ul>

                    </div>
                
                <div id="login-status"><a href="javascript:;" onclick="WIKIDOT.page.listeners.createAccount(event)" class="login-status-create-account btn">Create account</a> <span>or</span> <a href="javascript:;" onclick="WIKIDOT.page.listeners.loginClick(event)" class="login-status-sign-in btn btn-primary">Sign in</a> </div>
                <div id="header-extra-div-1"><span></span></div><div id="header-extra-div-2"><span></span></div><div id="header-extra-div-3"><span></span></div>
            </div>
            
            <div id="content-wrap">
                
                    <div id="side-bar">
                        


                        


                        


                    </div>
                
                
                <!-- google_ad_section_end -->
                
                <div id="main-content">
                    <div id="action-area-top"></div>
                    
                    
                        <div id="page-title">
                            nanomsg: Towards Full-Blown Configuration Management
                        </div>
                    

                    

                    



                    <div id="page-content">
                        

<div style="width:50em"><div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Previous:</strong> <a href="/blog:25">Event-driven architecture, state machines et al.</a></p>
</div>
    
    
    
    </div><div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Next:</strong> <a href="/blog:27">Backdoors in Encryption Standards and How To Fight Them</a></p>
</div>
    
    
    
    </div>
<p>There have been no administrative functionality in ZeroMQ, nor there is one in nanomsg. Adding such functionality is currently being discussed on nanomsg mailing list and I feel that it may prove confusing for those not directly involved in the discussion. This blog post thus tries to introduce the basic idea and the use cases without digging too deep into the implementation details.</p>
<p>When you are connecting two components via nanomsg, you typically do it something like this:</p>
<div class="code">
<pre>
<code>nn_connect (s, &quot;tcp://192.168.0.111:5555&quot;);</code>
</pre></div>
<p>The problem with that is that the IP address is hardcoded into the executable. When you get to the point of deploying the application from the development environment to the production environment, the IP addresses are going to change. Even if hostnames were used instead of IP addresses, they are going to change when the application is deployed to a different environment. Thus, to be able to do the transition without having to re-compile the executable, you can, for example, pass the connection string as a command line argument:</p>
<div class="code">
<pre>
<code>$ ./mycomponent tcp://192.168.0.111:5555</code>
</pre></div>
<p>And the implementation would look like this:</p>
<div class="code">
<pre>
<code>nn_connect (s, agv [1]);</code>
</pre></div>
<p>The above works OK, however, when there is large number of sockets in the application, the command line approach becomes rather annoying. In such cases people often prefer to use configuration files:</p>
<div class="code">
<pre>
<code>$ cat mycomponent.config
socketA tcp://192.168.0.111:5555
socketB tcp://192.168.0.111:5556
socketC tcp://192.168.0.23:978</code>
</pre></div>
<p>And the corresponding implementation in the component would look something like this:</p>
<div class="code">
<pre>
<code>nn_connect (s, get_config_option (&quot;myconponent.config&quot;, &quot;socketA&quot;));</code>
</pre></div>
<p>To understand the full extent of the configuration problem you have to take following facts into account:</p>
<ol>
<li>The socket can be either connected (nn_connect) or bound (nn_bind).</li>
<li>There may be multiple connects and binds on a single socket.</li>
<li>There are certain socket options that should be set be administrator rather than by programmer.</li>
</ol>
<p>When you build all this flexibility into the configuration file syntax, you'll end up with something like this:</p>
<div class="code">
<pre>
<code>$ cat mycomponent.config
socketA sndprio 4
        connect tcp://192.168.0.111:5555
        sndprio 8
        tcp_nodelay 1
        connect  tcp://192.168.0.111:5556
socketB tcp_nodelay 1
        bind tcp://eth0:978</code>
</pre></div>
<p>If even the configuration files are not flexible enough for you, you may want to have all the configuration data stored in some kind of database and let the socket query the database to retrieve the connects, the binds and the socket options. The upside of this approach is that you don't have to distribute the configuration files to all nodes in the system. The downside is that you have to install and maintain the database in the first place.</p>
<p>If you decide to keep the configuration information in a database, even more sophisticated functionality becomes possible. Say, you have 1000 identical blade servers in your datacenter, all of them meant to run the same component. With naive implementation of the configuration database you would have to create 1000 identical records. If you added new server to the cluser you would have to add a new record. Given that all those records are the same, wouldn't it be nicer if you had just one record instead? In such case you wouldn't even have to mess with the database when new server is added to the cluster.</p>
<p>If you decide to implement such functionality, you need some kind of wildcard matching, or even more complex query algorithms built into the configuration service.</p>
<p>At this point, I believe, the enterprise-focused readers can already imagine the future GUI tools that would help you configure the messaging topologies by drawing actual graphs etc.</p>
<p>Now, given that 100% of the applications have this configuration management stuff written by hand, it makes sense to implement it once and let everyone use it.</p>
<p>Furthermore, hand-written configuration management is likely to be limited in some ways and don't allow for the full flexibility discussed above. For example, passing connection string is passed as an command-line argument:</p>
<div class="code">
<pre>
<code>nn_bind (s, agv [1]);</code>
</pre></div>
<p>may seem to be the minimal viable solution. However, it holds only to the point where the admin wants to connect the socket instead of binding it. Call to nn_bind is hard-coded into the executable and the admin has to modify and re-compile the component &#8212; if that is at all possible (consider binary packages!)</p>
<p>To summarise the points above: Current discussion on nanomsg mailing list is about adding a functionality to nanomsg that is required by 100% of the applications and which is very easy to get wrong, if written by hand. Thus, I don't believe it classifies as &quot;unnecessary complexity&quot; or &quot;feature creep&quot;.</p>
<p>Finally, let me list some finer questions raised in the discussion:</p>
<ol>
<li>Should the configuration system be pluggable? In other words, should we allow plugins for MySQL, Redis, DNS, etc. to store the configuration data?</li>
<li>What are the pros and cons of different storage solutions? For example, using DNS to store configuration data feels like a nice solution, because DNS is already installed and running everywhere. You don't have to install and maintain it as you would have to do with MySQL server. It has also nice caching behaviour and even allows for globally accessible configuration records &#8212; such as delivering address of a service to the remote clients. The downside, on the other hand, is that write access to DNS is often restricted to network administrators which are not necessarily the same people as those deploying the application.</li>
<li>How should a socket identify itself to the configuration database? In other words, what is the key for configuration records. Socket name? IP address? Hostname? Combination of all the above?</li>
<li>What should be in the body of the configuration records? Should socket options be there? If so, which of them? Etc.</li>
</ol>
<p>EDIT:</p>
<p>I think I haven't made it clear what's the ultimate goal of the whole endeavour. Let me explain it in form of an use case.</p>
<p>Imagine that we are going to create a distributed application that processes meteorological data. To do so we need a pub/sub topology to distribute the raw meteorological data to individual components.</p>
<p>First, the admin creates the topology by adding a record to DNS, say a TXT record called &quot;meteo-data&quot; with the value of &quot;pub connect tcp:<em>server001:5555; sub connect tcp:</em>server001:5556;&quot;. Then he starts a pub/sub device at server001.</p>
<p>Second, programmers of individual components connect to the topology by its name rather that to particular IP address or hostname:</p>
<div class="code">
<pre>
<code>s = nn_socket (AF_SP_CONFIG, NN_PUB);
nn_connect (s, &quot;meteo-data&quot;);</code>
</pre></div>
<p>And that's it. As can be seen there are no configuration files, no need to distribute anything or install any additional software etc.</p>
<p><strong>Martin Sústrik, September 10th, 2013</strong></p>
<div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Previous:</strong> <a href="/blog:25">Event-driven architecture, state machines et al.</a></p>
</div>
    
    
    
    </div><div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Next:</strong> <a href="/blog:27">Backdoors in Encryption Standards and How To Fight Them</a></p>
</div>
    
    
    
    </div>
<div style="height:2em"></div>
<div class="comments-box">
		
	<div class="options" id="comments-options-hidden" style="display: none">
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumCommentsModule.listeners.showComments(event)">Show Comments</a> 
	</div>
		
	<div id="thread-container" class="thread-container" style="margin-top: 1em">
					


<script type="text/javascript">
	WIKIDOT.forumThreadId = 693344;
</script>


	<div class="options" id="comments-options-shown">
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumCommentsModule.listeners.hideComments(event)" class="btn btn-default btn-small btn-sm">Hide All Comments</a> 
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.unfoldAll(event)" class="btn btn-default btn-small btn-sm">Unfold All</a> 
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.foldAll(event)" class="btn btn-default btn-small btn-sm">Fold All</a>
	</div>

<div id="thread-container-posts" style="display: none">
    



	
					
      
    <div class="post-container" id="fpc-1849147">
                      
		<div class="post" id="post-1849147">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1849147)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1849147">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=926ef52b844300c653da8feffc653a9c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Jiri Sedlacek (guest)</span> <span class="odate time_1378799315 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 Sep 2013 07:48</span>
														</div>
			</div>
			<div class="content" id="post-content-1849147">
									

<p>It is true that 100% of applications need configuration. That being said I am not so sure that every 3rd party component (nn) should have it's own config file. If you look at it from a broader context then you will see that an &quot;application&quot; already has a config file (my case). Introducing nano into the mix would be more difficult if it involved tearing some parts of it out.</p>
<p>If you decide to use the config file approach then I suggest you use coyaml from tailhook. Best I've seen.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1849147)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1849147)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1849147" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1849147)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1849147)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=926ef52b844300c653da8feffc653a9c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Jiri Sedlacek (guest)</span>, <span class="odate time_1378799315 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 Sep 2013 07:48</span>
		</div>
	</div>
 
                
                	


        
                      
    <div class="post-container" id="fpc-1849185">
                      
		<div class="post" id="post-1849185">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1849185)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1849185">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1378805877 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 Sep 2013 09:37</span>
														</div>
			</div>
			<div class="content" id="post-content-1849185">
									

<p>That's a pretty relevant argument. In short, if there's already an application config file, why not store the topology info in that file as well?</p>
<p>My thinking about it is that the topology and the application are conceptually different entities. For example, you can have a pub/sub topology for distributing weather forecasts that can be used by many different applications. Someone sets the topology first, makes sure that the data flow through etc. Then the applications can be written to consume the data from the topology.</p>
<p>In other words, topology is a full-blown stand-alone entity. It exists even if no application is connected to it, same way as network infrastructure exists even though no data is passed through at the moment.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1849185)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1849185)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1849185" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1849185)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1849185)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1378805877 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 Sep 2013 09:37</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1849173">
                      
		<div class="post" id="post-1849173">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1849173)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1849173">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=e9ed0907ebed6ba7ac45c3243261b86d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Graeme Mathieson (guest)</span> <span class="odate time_1378804913 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 Sep 2013 09:21</span>
														</div>
			</div>
			<div class="content" id="post-content-1849173">
									

<p>Personally, I wouldn't worry too much about pluggable systems to store configuration data. The &quot;public&quot; interface for configuration information can be a configuration file. It works for almost every other system service I work with. I can then use something external (puppet, chef, a bunch of home grown shell scripts talking to MySQL, whatever) to generate that configuration file. Doing it this way neatly decoupling the actual config from the way it's stored and distributed, and means you don't have to care about supporting a whole bunch of extra dependencies.</p>
<p>That said, I think there's a certain elegance to storing the connection information as SRV records in DNS. :) Then you just need to configure applications to look for a well known service name to get the connection details. On the other hand, that's not really flexible enough to distribute anything more than host/port information, so you still need admin configuration files&#8230;</p>
<p>On the third hand, nanomsg is fundamentally a library, and it's not the &quot;role&quot; of the library to configure itself. That's the responsibility of the host application it's integrated with. I personally dislike the notion that log4j has its own separate configuration file in every Java app I deploy, for example (while the log4j config format is consistent across apps, the actual configuration data is very app specific, so there's no real benefit to it being in a separate configuration file!). Perhaps the goal of nanomsg is to make the API amenable to easy configuration (though I'm not sure exactly what that means!)?</p>
<p>Anyway, this is random drive-by commenting from an outsider, who doesn't understand the broader conversation, so feel free to take it with a pinch of salt. ;-)</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1849173)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1849173)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1849173" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1849173)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1849173)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=e9ed0907ebed6ba7ac45c3243261b86d&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Graeme Mathieson (guest)</span>, <span class="odate time_1378804913 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 Sep 2013 09:21</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1849188">
                      
		<div class="post" id="post-1849188">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1849188)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1849188">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1378806566 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 Sep 2013 09:49</span>
														</div>
			</div>
			<div class="content" id="post-content-1849188">
									

<p>nanomsg is meant to be a part of networking stack. Right now it's in user-space library, but the long-term prospect is to make it part of the kernel.</p>
<p>As an analogy, let's think of TCP/IP stack. Once it was not integral part of the operating system, rather a stand-alone library.</p>
<p>Back then it could be argued that it's not the task of the library to configure itself. Rather, every application should supply all IP configuration options itself.</p>
<p>Fortunately, that's not what happened. Today, IP is configured on the machine-wide basis and applications can simply use it without having to deal with the configuration of the stack.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1849188)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1849188)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1849188" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1849188)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1849188)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1378806566 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 Sep 2013 09:49</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1849738">
                      
		<div class="post" id="post-1849738">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1849738)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1849738">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=e56dda2c1675cc8701b5d31aa58183b5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>sasbury (guest)</span> <span class="odate time_1378874758 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2013 04:45</span>
														</div>
			</div>
			<div class="content" id="post-content-1849738">
									

<p>As someone that worked at TIBCO i think it is worth folks looking at FTL in this context. FTL provides a central configuration management solution. This has some very useful applications. However, I also think FTL suffers by not offering a way for customers to configure the library locally.</p>
<p>FTL uses a JSON configuration format. Which I think is a reasonable way to go with nanomsg. The library could provide a simple API for getting that JSON from somewhere else (mongodb, a rest api, a web server, &#8230;) as a URL, providing the JSON as a string, or building library elements manually.</p>
<p>If you want to go a step further, FTL provides dynamic updates, where changes made at the central server are pushed out to the clients.</p>
<p>Anyway, I think FTL offers a nice model for this option and is worth looking at.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1849738)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1849738)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1849738" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1849738)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1849738)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=e56dda2c1675cc8701b5d31aa58183b5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>sasbury (guest)</span>, <span class="odate time_1378874758 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2013 04:45</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1849771">
                      
		<div class="post" id="post-1849771">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1849771)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1849771">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1378880952 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2013 06:29</span>
														</div>
			</div>
			<div class="content" id="post-content-1849771">
									

<p>As for the URLs mapping to config into, yes, that's what being discussed currently. Paul Colomiets made a nice prototype for that and was able to set up a rather complex topology with it:</p>
<p><a href="https://docs.google.com/file/d/0Byd_FTQksoKLY3lyZnlQalFtRnc/edit">https://docs.google.com/file/d/0Byd_FTQksoKLY3lyZnlQalFtRnc/edit</a></p>
<p>As for the dynamic updates, that's basically the DNS solution. You update the DNS records and they get automatically propagated everywhere.</p>
<p>As for the local configuration of the library, that's why &quot;pluggable&quot; configaration service was discussed. The idea was that you can plug in a component that reads the config info from a config file, one that reads it from DNS or yet another that reads if from MySQL.</p>
<p>That being said, there are some questions to answer about local config files. Specifically, as Jiri Sedlacek notes above, if the configuration file is local, why not make it part of the application's config file. That defintely makes sense, but kills the idea of having a single generic mechanism for retrieving config into (the format of app's config file can be different for each app).</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1849771)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1849771)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1849771" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1849771)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1849771)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1378880952 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2013 06:29</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1850161">
                      
		<div class="post" id="post-1850161">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1850161)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1850161">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=425335501fb9737d82892e11669b05b7&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>ovmjm (guest)</span> <span class="odate time_1378935673 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2013 21:41</span>
														</div>
			</div>
			<div class="content" id="post-content-1850161">
									

<p>I'm far from being an expert in configuration management, but i'm quite sure that there are many ways of solving the problem, all better than the others given a particular context (technology, legacy, security, philosophy, corporate guidelines, personnal habits, etc).</p>
<p>I tend to believe that the fewer roles a component has the better it is. Then ability to compose several pieces together at will is Freedom.</p>
<p>I still haven't got time to dive deep into the source of nanomsg, but what appealed to me from the outside was its name, that it is written in c, has minimal api and a modular protocol system.</p>
<p>It would be nice to have another beautiful piece of software dedicated to solve the specific problem of configuring network topologies but I think it should be fully decorelated from nanomsg.</p>
<p>Thanks again for your blog and your work on nanomsg.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1850161)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1850161)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1850161" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1850161)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1850161)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=425335501fb9737d82892e11669b05b7&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>ovmjm (guest)</span>, <span class="odate time_1378935673 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2013 21:41</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1850425">
                      
		<div class="post" id="post-1850425">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1850425)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1850425">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1378965977 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 06:06</span>
														</div>
			</div>
			<div class="content" id="post-content-1850425">
									

<p>I would love to have the two fully separated myself.</p>
<p>The problem with that is that that way you would get 2 sets of APIs:</p>
<p>nn_socket vs. nn_config_socket, nn_connect vs. nn_config_connect etc.</p>
<p>That in turn means that every language binding would have to split into 2 projects, one providing access to the library, other one providing access to the config service.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1850425)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1850425)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1850425" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1850425)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1850425)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1378965977 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 06:06</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1850437">
                      
		<div class="post" id="post-1850437">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1850437)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1850437">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=89af688f59e8992a960d61e1431d5757&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Alan (guest)</span> <span class="odate time_1378969772 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 07:09</span>
														</div>
			</div>
			<div class="content" id="post-content-1850437">
									

<p>I think I tend to agree with the view that nanomsg should be first and foremost a networking library so I'd be hesitant to start blending into it config management. On paper it perhaps looks like a good idea, but my feeling is that it most likely won't fit most people's requirements fully and would suffer dreaded feature creep as a result.</p>
<p>I also disagree with your assertion that admins demand the power to dictate whether sockets are bound or connected. Of course, things like connect addresses, ports, etc should be under the control of admins but it sounds like you'd like to delegate topology decisions and architectural design to a group of people who would perhaps consider it the system developers responsibility to build a sane, fault resistant and scalable system.</p>
<p>This is certainly my experience when building backend systems at scale. I would rather submit a newly developed system that has been architecturally designed against a topology model that's been peer reviewed, than to simply hand over a collection of components and say &quot;we'll, it's up to you now&#8230;&quot;.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1850437)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1850437)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1850437" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1850437)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1850437)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=89af688f59e8992a960d61e1431d5757&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Alan (guest)</span>, <span class="odate time_1378969772 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 07:09</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1850439">
                      
		<div class="post" id="post-1850439">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1850439)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1850439">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1378970223 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 07:17</span>
														</div>
			</div>
			<div class="content" id="post-content-1850439">
									

<p>Well, how would you do that if you don't know how the network in the production environment looks like?</p>
<p>As for bound/connected it's seen often in the wild. Say, in dev env you bind a service a let clients connect to it. In prod env you start a device and let the service connect to it.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1850439)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1850439)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1850439" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1850439)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1850439)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1378970223 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 07:17</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1850450">
                      
		<div class="post" id="post-1850450">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1850450)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1850450">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=89af688f59e8992a960d61e1431d5757&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Alan (guest)</span> <span class="odate time_1378973261 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 08:07</span>
														</div>
			</div>
			<div class="content" id="post-content-1850450">
									

<p>If you have no idea how the network looks in the production environment, then you're already heavily compromised as a system designer.</p>
<p>It sounds like you have a totally different view on this, presumably based on feedback you've received that people really want to write generic components that can be glued together in various configurations by a team of people who don't necessarily have intimate knowledge of how these components work.</p>
<p>Anyway, my point was that I hope nanomsg continues to offer a simple interface for connecting and binding sockets while perhaps supporting an additional interface to support a richer feature set for socket configuration. It sounds like this is your plan so that makes me happy :-)</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1850450)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1850450" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1850450)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1850450)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=89af688f59e8992a960d61e1431d5757&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Alan (guest)</span>, <span class="odate time_1378973261 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 08:07</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1850472">
                      
		<div class="post" id="post-1850472">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1850472)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1850472">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1378976855 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 09:07</span>
														</div>
			</div>
			<div class="content" id="post-content-1850472">
									

<p>My understanding is that you almost never know how the production network will look like. It may be the case with your personal hobby projects, but elsewhere there are only 2 options:</p>
<p>1. The software is generic. It will be sold to multiple customers and deployed in their environments. Programmer has no idea what will those networks look like.</p>
<p>2. The software is single-purpose and will be deployed at a single site the programmer is familiar with. Even in such case, time has to be taken into account. Typical lifespan of an enterprise product is ~10 years. During that time the underlying network is going to change significantly. Companies grow and merge, new technologies are introduced etc. In short, when writing the software, the programmer has no idea what network it will be running on in the future.</p>
<p>Anyway, as for separation of core functionality and configuration functionality, I am much in favor of that, however, I don't know how to do that without hurting user experience much (see one of my comments above).</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1850472)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1850472" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1850472)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1850472)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1378976855 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 09:07</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1850531">
                      
		<div class="post" id="post-1850531">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1850531)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1850531">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=89af688f59e8992a960d61e1431d5757&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Alan (guest)</span> <span class="odate time_1378990100 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 12:48</span>
														</div>
			</div>
			<div class="content" id="post-content-1850531">
									

<p>We don't have hobby projects at Spotify :-)</p>
<p>1. The software is generic. It will be sold to multiple customers&#8230;<br />
Agreed.</p>
<p>2. The software is single-purpose and will be deployed at a single site&#8230;<br />
I'm not sure I agree with your ~10 years assertion, but I get the point you're trying to make. It just makes me a little nervous that someone can potentially reorganise a system topology without a full understanding of how it works. And without any changes to the code. I just don't think this fits with reality.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1850531)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1850531" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1850531)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1850531)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=89af688f59e8992a960d61e1431d5757&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Alan (guest)</span>, <span class="odate time_1378990100 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 12:48</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1850548">
                      
		<div class="post" id="post-1850548">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1850548)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1850548">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1378992076 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 13:21</span>
														</div>
			</div>
			<div class="content" id="post-content-1850548">
									

<p>Ah, it's you :) I haven't realised.</p>
<p>As a historical analogy, consider that once it must have been inconceivable that you could simply speak to any other box by specifying only its address: &quot;You know, this new IP thing makes me feel uneasy. Just imagine that the admins are supposed to re-arrange the network without understanding how the applications work. And with no changes to the code. It seems like Vint and Bob are completely off the track.&quot;</p>
<p>Thus, let's treat it as a challenge. At the moment we have no way to build network-layout-unaware applications. Wouldn't it be nice to have that one day?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1850548)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1850548)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1850548" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1850548)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1850548)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1378992076 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2013 13:21</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1852950">
                      
		<div class="post" id="post-1852950">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1852950)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1852950">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=7a600079c29d668390fecd756c7fd555&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Eduardo Morras (guest)</span> <span class="odate time_1379340050 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">16 Sep 2013 14:00</span>
														</div>
			</div>
			<div class="content" id="post-content-1852950">
									

<p>You can use DHCP for this. Check this old (2004) presentation, where Yannick Cadin explains how to use a DHCP server to send configuration to several applications, not only dns config, ip, ntp and other minimal config.</p>
<p>HTH</p>
<p><a href="http://2004.eurobsdcon.org/uploads/media/EBSD04_slides_41.pdf">http://2004.eurobsdcon.org/uploads/media/EBSD04_slides_41.pdf</a></p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1852950)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1852950)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1852950" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1852950)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1852950)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=7a600079c29d668390fecd756c7fd555&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Eduardo Morras (guest)</span>, <span class="odate time_1379340050 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">16 Sep 2013 14:00</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1854814">
                      
		<div class="post" id="post-1854814">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1854814)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1854814">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1379577897 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Sep 2013 08:04</span>
														</div>
			</div>
			<div class="content" id="post-content-1854814">
									

<p>That's interesting. I haven't even though of DHCP as an option.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1854814)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1854814)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1854814" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1854814)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1854814)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263516" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1379577897 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Sep 2013 08:04</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1853180">
                      
		<div class="post" id="post-1853180">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1853180)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1853180">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=7a600079c29d668390fecd756c7fd555&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Eduardo Morras (guest)</span> <span class="odate time_1379365502 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">16 Sep 2013 21:05</span>
														</div>
			</div>
			<div class="content" id="post-content-1853180">
									

<p>You can look how sqlite pragmas work. You can configure sqlite at compile time as usual and /or sending pragmas, this manner you can modify threading support, buffer memory, wal mode and a long list of different settings, some of them at running time.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1853180)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1853180)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1853180" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1853180)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1853180)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=7a600079c29d668390fecd756c7fd555&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Eduardo Morras (guest)</span>, <span class="odate time_1379365502 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">16 Sep 2013 21:05</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1896290">
                      
		<div class="post" id="post-1896290">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1896290)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1896290">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=63f375175a5a3b1591fc57686e37a653&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Bardur Arantsson (guest)</span> <span class="odate time_1384863891 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Nov 2013 12:24</span>
														</div>
			</div>
			<div class="content" id="post-content-1896290">
									

<p>What about testing?</p>
<p>There are (at least) two annoyances in (integration) testing with current networking stacks:</p>
<ul>
<li>If you want to run tests in parallel you need to somehow pick an unused port. This is the case even if you're testing different applications (if you're running tests on a CI server, for example) which just happen to use overlapping sets of ports. This is actually a huge annoyance in practice even though it's actually not a theoretically difficult problem by any stretch.</li>
<li>If you have any even remotely complicated setup you may be forced into setting up your CI build slaves with complicated networking setups.</li>
</ul>
<p>Given that nanomsg really &quot;just&quot; provides a virtual network on top of IP, it seems to me that omitting a &quot;user provides all configuration&quot; (via files or whatever) option would be a mistake when it comes to testing support. Such configuration would actually also have to be per-context (in ZMQ terminology) to enable parallel testing without spawning multiple instances of the application &#8212; usually spawning separate instances of the application would not be a problem, but it is a <em>big</em> problem if you're running with a managed runtime (JVM or .Net equivalent, for example) because of the startup time.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1896290)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1896290)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1896290" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1896290)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1896290)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=63f375175a5a3b1591fc57686e37a653&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Bardur Arantsson (guest)</span>, <span class="odate time_1384863891 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Nov 2013 12:24</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1896309">
                      
		<div class="post" id="post-1896309">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1896309)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1896309">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ccbe7da9a44a8737ca2eda4462c42fe1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martin Sustrik (guest)</span> <span class="odate time_1384865603 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Nov 2013 12:53</span>
														</div>
			</div>
			<div class="content" id="post-content-1896309">
									

<p>As for the issue with TCP ports, look here: <a href="http://250bpm.com/blog:18">http://250bpm.com/blog:18</a> At the end, there's a proposed solution for multiplexing over a single TCP port. I've already done some of the implementation work, actually.</p>
<p>As for the other point, I don't really follow. May you elaborate?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1896309)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1896309)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1896309" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1896309)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1896309)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ccbe7da9a44a8737ca2eda4462c42fe1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martin Sustrik (guest)</span>, <span class="odate time_1384865603 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Nov 2013 12:53</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1896376">
                      
		<div class="post" id="post-1896376">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1896376)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1896376">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=63f375175a5a3b1591fc57686e37a653&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Bardur Arantsson (guest)</span> <span class="odate time_1384872874 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Nov 2013 14:54</span>
														</div>
			</div>
			<div class="content" id="post-content-1896376">
									

<p>Re: port multiplexing. That's excellent, though the &quot;port&quot; bit is really just a detail &#8212; my point is really that if there's <strong>some</strong> exclusive resource which cannot easily be configured for test setups then that becomes a problem for parallel testing.</p>
<p>I suppose the worst case here really is parallel testing of the <strong>same</strong> application &#8212; let's say we want to run tests for all branches of an application (on push).</p>
<p>The second point basically just goes to the possibility of isolating test configuration from &quot;real&quot; configuration &#8212; I think partially related to your point 3 (identification), but a bit broader, I think. Let's assume that I want to run tests for two (or more) applications (in parallel or otherwise) or multiple instances of the same application. Is there some way to have:</p>
<ul>
<li>a different setup for each application such that they won't conflict regardless of whatever setup they require (ports, endpoints, etc.)?</li>
<li>can they run in parallel?</li>
<li>can I modify the application's networking topology (configuration) without having to reconfigure the (physical) build slaves or messing around with a separate configuration &quot;database&quot; (DNS, DHCP, &#8230;)? Ideally, I'd like to be able to bundle the configuration with the code to avoid external dependencies. External dependencies in tests make for very fragile tests in my experience. Building/testing multiple branches of the same application in parallel is also a use case here.</li>
<li>can I use identical build slaves to run all my tests? (Matters for <strong>performance</strong> of building/multiple branches of the same application on every checkin.)</li>
<li>can I avoid nanomsg-specific (manual) setup on my development machine?</li>
</ul>
<p>AFAICT a simple configuration file (not globally installed) lets one support all of these scenarios, but any kind of &quot;global&quot; configuration (DNS, DHCP, etc.) could place severe limits on what can be done in these cases.</p>
<p>(There's a lot of overlap between these issues and the issues with integration testing against &quot;real&quot; databases.)</p>
<p>Maybe I've just missed something, though. I just wanted to bring your attention to these issues before it's too late :)</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1896376)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1896376)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1896376" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1896376)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1896376)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=63f375175a5a3b1591fc57686e37a653&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Bardur Arantsson (guest)</span>, <span class="odate time_1384872874 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Nov 2013 14:54</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1957383">
                      
		<div class="post" id="post-1957383">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1957383)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1957383">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=794e5323f2399daaa0f279d74a1cdc21&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>David Beckwith (guest)</span> <span class="odate time_1391605450 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">05 Feb 2014 13:04</span>
														</div>
			</div>
			<div class="content" id="post-content-1957383">
									

<p>Interesting discussion.</p>
<p>In an ideal world, where system administrators are either</p>
<p>A. all doping on happy pills and are highly cooperative or<br />
B. they do not exist</p>
<p>The DNS solution is the best solution i think. Random thought: make a small DNS server available to the app.</p>
<p>Random thought #2</p>
<p>Assuming that either topology could fit into memory, the topology entity should be a data structure (in C) with a CRUD API. Config files or other ways to manage the toplogy would be built on top of the CRUD API. Internally, listener functions will bi-directionally sync the topology data structure with the actual topology of the network. The data structure could also publish changes to an INPROC, IPC, or TCP connection so that you could build real-time visualizations of the topology.</p>
<p>If the fits-in-memory assumption is too strong for your taste, then I vote for DNS or mini-DNS .</p>
<p>Either way, it seems like a separate project from nanomsg.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1957383)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1957383)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1957383" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1957383)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1957383)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=794e5323f2399daaa0f279d74a1cdc21&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>David Beckwith (guest)</span>, <span class="odate time_1391605450 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">05 Feb 2014 13:04</span>
		</div>
	</div>
 
                
                	


        
            </div>
 



</div>

        <a href="javascript:;" id="new-post-button" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.newPost(event,null)"
      style="display:  none ; margin-bottom:1em"
    >Add a New Comment</a>


    <div id="new-post-form-container">
        <div id="new-post-preview-div" style="display: none">
            <h1>Post preview:</h1>
            <div class="post-container"></div>
            <div></div>
            <a href="javascript:;" onclick="WIKIDOT.modules.ForumNewPostFormModule.listeners.closePreview(event)" class="btn btn-danger">Close preview</a>
        </div>

        <div id="new-post-div" class="well">
            <form id="new-post-form" onkeypress="return OZONE.utils.disableEnterKey(event)">
                <input type="hidden" name="threadId" value="693344"/>
                <input type="hidden" name="parentId" value=""/>
                                    <table class="guest-commenting">
                        <tr>
                            <td><input class="text form-control" name="guestName" type="text" maxlength="30" value="" title="Name"/></td>
                            <td>or <a href="#action:login">Sign in as Wikidot user</a></td>
                        </tr>
                        <tr>
                            <td><input class="text form-control" name="guestEmail" type="text" maxlength="50" value="" title="E-mail address"/></td>
                            <td>(will not be published)</td>
                        </tr>
                    </table>
                                <div><textarea id="np-text" name="source" rows="10" cols="50" class="form-control"></textarea></div>
                <div class="change-textarea-size">
                    <a href="javascript:;" onclick="WIKIDOT.utils.changeTextareaRowNo('np-text',-5)">-</a>
                    <a href="javascript:;" onclick="WIKIDOT.utils.changeTextareaRowNo('np-text',5)">+</a>
                </div>
                <div class="edit-help-34">
                    Help: <a href="http://www.wikidot.com/doc:quick-reference" target="_blank">wiki text quick reference</a>                </div>
                                
                <div id="edit-post-captcha"></div>
                
                <div class="buttons alignleft">
                    <input class="btn btn-danger btn-small btn-sm" type="button" value="Cancel" id="np-cancel" onclick="WIKIDOT.modules.ForumNewPostFormModule.listeners.cancel(event)"/>
                    <input class="btn btn-default btn-small btn-sm" type="button" value="Preview" id="np-preview" onclick="WIKIDOT.modules.ForumNewPostFormModule.listeners.preview(event)"/>
                    <input class="btn btn-primary btn-small btn-sm" type="button" value="Post it" id="np-post" onclick="WIKIDOT.modules.ForumNewPostFormModule.listeners.save(event)"/>
                </div>
                    
            </form>
        </div>	

    </div> 
            <script type="text/javascript">
            
            $j(function() {
                WIKIDOT.Editor.init("np-text", "np-editor-panel");
            });
            
        </script>
    
 

<div style="display:none" id="post-options-template">
	<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.showPermalink(event,'%POST_ID%')" class="btn btn-default btn-small btn-sm">Permanent Link</a>
			<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.editPost(event,'%POST_ID%')" class="btn btn-default btn-small btn-sm">Edit</a>
			<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.deletePost(event,'%POST_ID%')" class="btn btn-danger btn-small btn-sm">Delete</a>
</div>
	
			</div>
	
	
	
</div></div>

                    </div>

                    


                    



                    

                    <div id="page-info-break"></div>
                    
                        <div id="page-options-container">
                            
                        </div>
                    
                    <div id="action-area" style="display: none;"></div>
                </div>
            </div>
            
            
            
            <div id="footer" style="display: block; visibility: visible;">
                <div class="options" style="display: block; visibility: visible;">
    <a href="http://www.wikidot.com/doc" id="wikidot-help-button">Help</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:terms-of-service" id="wikidot-tos-button">Terms of Service</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:privacy-policy" id="wikidot-privacy-button">Privacy</a>
    &nbsp;|
    <a href="javascript:;" id="bug-report-button" onclick="WIKIDOT.page.listeners.pageBugReport(event)">Report a bug</a>
    &nbsp;|
    <a href="javascript:;" id="abuse-report-button" onclick="WIKIDOT.page.listeners.flagPageObjectionable(event)">Flag as objectionable</a>
</div>
Powered by <a href="http://www.wikidot.com">Wikidot.com</a> 
            </div>
            
                <div id="license-area" class="license-area">
                    Unless otherwise stated, the content of this page is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 License</a>
                </div>
            
            
            



            <div id="extrac-div-1"><span></span></div><div id="extrac-div-2"><span></span></div><div id="extrac-div-3"><span></span></div>
            
            
            
            
                
            
        </div>
        
    </div>
<!-- These extra divs/spans may be used as catch-alls to add extra imagery. -->
<div id="extra-div-1"><span></span></div><div id="extra-div-2"><span></span></div><div id="extra-div-3"><span></span></div>
<div id="extra-div-4"><span></span></div><div id="extra-div-5"><span></span></div><div id="extra-div-6"><span></span></div>
</div>




</div>
<div id="dummy-ondomready-block" style="display: none;" ></div>
    <!-- Google Analytics load -->
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <!-- Quantcast -->
    <script type="text/javascript">
    _qoptions={
        qacct:"p-edL3gsnUjJzw-"
    };
    (function() {
        var qc = document.createElement('script'); qc.type = 'text/javascript'; qc.async = true;
        qc.src = ('https:' == document.location.protocol ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(qc, s);
    })();
    </script>
    <noscript>
        <img src="http://pixel.quantserve.com/pixel/p-edL3gsnUjJzw-.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
    </noscript>




<div id="page-options-bottom-tips" style="display: none;">
    <div id="edit-button-hovertip">
        Click here to edit contents of this page.    </div>
</div>
<div id="page-options-bottom-2-tips"  style="display: none;">
    <div id="edit-sections-button-hovertip">
        Click here to toggle editing of individual sections of the page (if possible).         Watch headings for an &quot;edit&quot; link when available.    </div>
    <div id="edit-append-button-hovertip">
        Append content without editing the whole page source.    </div>
    <div id="history-button-hovertip">
        Check out how this page has evolved in the past.    </div>
    <div id="discuss-button-hovertip">
        If you want to discuss contents of this page - this is the easiest way to do it.    </div>
    <div id="files-button-hovertip">
        View and manage file attachments for this page.    </div>
    <div id="site-tools-button-hovertip">
        A few useful tools to manage this Site.    </div>
    <div id="backlinks-button-hovertip">
        See pages that link to and include this page.    </div>
    <div id="rename-move-button-hovertip">
        Change the name (also URL address, possibly the category) of the page.    </div>
    <div id="view-source-button-hovertip">
        View wiki source for this page without editing.    </div>
    <div id="parent-page-button-hovertip">  
        View/set parent page (used for creating breadcrumbs and structured layout).    </div>
            <div id="abuse-report-button-hovertip">
            Notify administrators if there is objectionable content in this page.        </div>
        <div id="bug-report-button-hovertip">
            Something does not work as expected? Find out what you can do.        </div>
        <div id="wikidot-help-button-hovertip">
            General Wikidot.com documentation and help section.        </div>
        <div id="wikidot-tos-button-hovertip">
            Wikidot.com Terms of Service - what you can, what you should not etc.        </div>
        <div id="wikidot-privacy-button-hovertip">
            Wikidot.com Privacy Policy.          
        </div>
    </div>
</body>
</html>