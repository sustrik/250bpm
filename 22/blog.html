<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <title>TCP and heartbeats - 250bpm</title>
    
    	<script type="text/javascript" src="http://www.wikidot.com/default__flow/login__CustomDomainScript?site_id=148706"></script>

    
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--javascript/init.combined.js"></script>
    <script  type="text/javascript">
        var URL_HOST = 'www.wikidot.com';
        var URL_DOMAIN = 'wikidot.com';
        var USE_SSL =  true ;
        var URL_STATIC = 'http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9';
        // global request information
        
        var WIKIREQUEST = {};
        WIKIREQUEST.info = {};
        
        WIKIREQUEST.info.domain = "250bpm.com";
        WIKIREQUEST.info.siteId = 148706;
        WIKIREQUEST.info.siteUnixName = "250bpm";
        WIKIREQUEST.info.categoryId = 2550760;
        WIKIREQUEST.info.themeId = 18520;
        WIKIREQUEST.info.requestPageName = "blog:22";
        OZONE.request.timestamp = 1594263512;
        OZONE.request.date = new Date();
        WIKIREQUEST.info.lang = 'en';
                WIKIREQUEST.info.pageUnixName = "blog:22";
        WIKIREQUEST.info.pageId = 17622003;
                        WIKIREQUEST.info.lang = "en";
        OZONE.lang = "en";
        var isUAMobile = !!/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    </script>
    
    


    
        <script  type="text/javascript">
    
        require.config({
            baseUrl: URL_STATIC + '/common--javascript',
            paths: {
                'jquery.ui': 'jquery-ui.min',
                'jquery.form': 'jquery.form'
            }
        });
    
    </script>
    
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
            
    
    
    
    
    <meta http-equiv="content-language" content="en"/>
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--javascript/WIKIDOT.combined.js"></script>
        
    
    <style type="text/css" id="internal-style">
        
        /* modules */
        
                
        /* theme */
                    @import url(http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--theme/base/css/style.css);
                    @import url(http://250bpm.wdfiles.com/local--theme/250bpm/style.css);
            </style>
    
        
        
        
    <link rel="shortcut icon" href="/local--favicon/favicon.gif"/>
    <link rel="icon" type="image/gif" href="/local--favicon/favicon.gif"/>
    
            <link rel="apple-touch-icon" href="/common--images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="/common--images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="/common--images/apple-touch-icon-114x114.png" />
        
        
            <link rel="alternate" type="application/wiki" title="Edit this page" href="javascript:WIKIDOT.page.listeners.editClick()"/>
    
        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18234656-1']);
        _gaq.push(['_setDomainName', 'none']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);

        _gaq.push(['old._setAccount', 'UA-68540-5']);
        _gaq.push(['old._setDomainName', 'none']);
        _gaq.push(['old._setAllowLinker', true]);
        _gaq.push(['old._trackPageview']);

                _gaq.push(['userTracker._setAccount', 'UA-3207370-9']);
        _gaq.push(['userTracker._trackPageview']);
            </script>
    
    <script type="text/javascript">
        window.google_analytics_uacct = 'UA-18234656-1';
        window.google_analytics_domain_name = 'none';
    </script>
    
        <link rel="manifest" href="/onesignal/manifest.json" />
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" acync=""></script>
    <script>
        var OneSignal = window.OneSignal || [];
        OneSignal.push(function() {
          OneSignal.init({
            appId: null,
          });
        });
    </script>
        
<link rel="alternate" type="application/rss+xml" title="Comments for the page &quot;TCP and heartbeats&quot;" href="/feed/page/comments-17622003.xml"/><script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumCommentsModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumViewThreadModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumViewThreadPostsModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/sub/ForumNewPostFormModule.js"></script>
</head>
<body id="html-body">
<div id="skrollr-body">
<a name="page-top"></a>





<div id="container-wrap-wrap">
    <div id="container-wrap">
        <div id="container">
            <div id="header">
              <h1><a href="/"><span>250bpm</span></a></h1>
                
                
                <!-- google_ad_section_start(weight=ignore) -->
                
                <div id="search-top-box" class="form-search">
    <form id="search-top-box-form" action="dummy" class="input-append">
        <input id="search-top-box-input" class="text empty search-query" type="text" size="15" name="query" value="Search this site" onfocus="if(YAHOO.util.Dom.hasClass(this, 'empty')){YAHOO.util.Dom.removeClass(this,'empty'); this.value='';}"/><input class="button btn" type="submit" name="search" value="Search"/>
    </form>
</div>
                
                
                    <div id="top-bar">
                        

<ul>
<li><a href="/">Home</a></li>
<li><a href="https://github.com/sustrik/cartesian">Cartesian</a></li>
<li><a href="http://libdill.org">Libdill</a></li>
<li><a href="http://nanomsg.org">Nanomsg</a></li>
<li><a href="https://github.com/sustrik/tiles">Tiles</a></li>
<li><a href="http://zero.mq">ZeroMQ</a></li>
<li><a href="/contact">Contact</a></li>
</ul>

                    </div>
                
                <div id="login-status"><a href="javascript:;" onclick="WIKIDOT.page.listeners.createAccount(event)" class="login-status-create-account btn">Create account</a> <span>or</span> <a href="javascript:;" onclick="WIKIDOT.page.listeners.loginClick(event)" class="login-status-sign-in btn btn-primary">Sign in</a> </div>
                <div id="header-extra-div-1"><span></span></div><div id="header-extra-div-2"><span></span></div><div id="header-extra-div-3"><span></span></div>
            </div>
            
            <div id="content-wrap">
                
                    <div id="side-bar">
                        


                        


                        


                    </div>
                
                
                <!-- google_ad_section_end -->
                
                <div id="main-content">
                    <div id="action-area-top"></div>
                    
                    
                        <div id="page-title">
                            TCP and heartbeats
                        </div>
                    

                    

                    



                    <div id="page-content">
                        

<div style="width:50em"><div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Previous:</strong> <a href="/blog:21">How to Write a Language Binding for nanomsg</a></p>
</div>
    
    
    
    </div><div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Next:</strong> <a href="/blog:23">Getting Rid of ZeroMQ-style Contexts</a></p>
</div>
    
    
    
    </div>
<p>Heartbeating is a common technique to check whether network connection is alive. The idea is that each end of the connection sends small packet od data called &quot;hearetbeat&quot; once in a while. If the peer doesn't receive a heartbeat for some time (typically a multiply of the interval between the heartbeats), the connection is considered broken.</p>
<p>Interestingly, TCP protocol doesn't provide heartbeats (there are optional keep-alives that are operating on scale of hours, but these are not really useful for swift dectection of network disruption). In short, if network connection is broken, TCP endpoints are not notified about the fact.</p>
<p>The problem is mitigated by the fact that if the application at the endpoint terminates or crashes, the peer is notified via FIN or RST packet and is thus aware of the connection failure. Therefore, you are going to experience the problem of missing failure notification only if the network itself is broken, e.g. if your router crashes, cable is cut, your ISP experiences a failure etc. In such case the TCP endpoint will live on forever, trying to communicate with the inaccessible peer.</p>
<p>For many applications, e.g. web browsers, this kind of behaviour makes sense. If the user feels the browser is stuck he can just hit the &quot;reload&quot; button. The browser will then try to open a new TCP connection. The attempt at the initial TCP handshake fails and user gets notified about the fact.</p>
<p>For other kind of applications &#8212; specifically those with high-availability requirements &#8212; the missing failure notification is a big deal. Imagine a critical application that has redundant access points to the network, for example via two different ISPs. The idea is to use one of the providers and fall back to the other one only if the first one becomes unaccessible. The idea is nice, but there's a catch: If TCP implementation doesn't let you know that the peer is inaccessible you have no reason to switch to the fall-back provider. You will continue using the failed provider, possibly missing some critical data.</p>
<p>That's why critical applications as well as tools intended to build such critical applications (e.g. message queuing systems) re-implement heartbeating on top of TCP over and over again. This article tries to explain the problems encountered when doing so.</p>
<p>Typically, business data (messages) are mixed with heartbeats within a single TCP bytestream. The main concern is thus to prevent one messing with the other. In other words, heartbeats shouldn't disrupt data transfer and data transfer should not cause hertbeating to misbehave, for example by reporting false connection failures or, coversely, not reporting actual connection failures.</p>
<p>The problem hits once the application stops reading data from the TCP connection. The heartbeats may be arriving, however, they cannot be read, because there are messages stuck in TCP receive buffer in front of them. Given that TCP doesn't provide a way to read data from the middle of the receive buffer, the application has no idea whether the heartbeats are arriving or not.</p>
<div class="image-container aligncenter"><img src="http://www.250bpm.com/local--files/blog:22/heartbeats1.png" alt="heartbeats1.png" class="image" /></div>
<p>It's not immediately visible whether this is an actual problem or whether it can be solved by some clever trick. To get better understanding, consider the following questions and answers:</p>
<p>Q: Well, we can read those obnoxious business data, store it in a memory for a while and check whether heartbeats are still arriving, right?</p>
<p>A: The problem with that is that the application may be not reading data for a long time. For example, it may be processing some complex and lengthy task and ignore incoming messages while doing so. Or it may be waiting for user input and the user went out for luch. Whatever the reason, in the meantime all the data from the TCP connection have to be read to memory to be able to check whether heartbeats are arriving as expected. So, if there's a lot of incoming data, the application is ultimately going to exhaust all available memory and get killed by the operating system.</p>
<p>Q: A-ha! That's what we have message brokers for. They are supposed to have a big disk space available, and can store large amount of data without failing. Thus, if have a message broker in the middle, we are safe, no?</p>
<p>A: The problem is that heartbeats should flow in both ways. Even if message broker is able to deal with large amounts of data to store, the client application has to do the same thing to make sure that it receives heartbeats from the broker. And given that application is likely to run on a modest desktop, on a mobile phone or on a blade server with no local disk space, the memory is going to be exhausted pretty quickly.</p>
<p>Q: OK, but wait a second! If application is not receiving the data at the moment we don't care whether network failure is detected straight away. It should be sufficient to detect the failure once the application starts receiving data again and do all the failure handling, such as falling back to a different ISP, at that time.</p>
<p>A: Unfortunately, no. Imagine you want to send data instead of receiving them. In such case you won't detect the connection failure because you are not reading the data, including potential heartbeats, from the connection. Consequently, you will send the data to a broken connection. The data are not going to be delivered and &#8212; even worse &#8212; you are not going to be notified about the fact!</p>
<p>Taking the previous Q&amp;A into account, there's only one way to deal with the problem: Preallocate a buffer at the endpoint to store any outstanding inbound data and introduce some kind of flow control to make sure that the buffer is never over-flowed. For example:</p>
<ol>
<li>Preallocate 100 bytes of buffer.</li>
<li>Send a control message to the peer letting it know there are 100 free bytes that can be filled in.</li>
<li>Peer gets the control message and it knows it can send at most 100 bytes.</li>
<li>Say it has 30 bytes of data to send. So it sends them and it is aware of the fact that it can still send 70 more bytes, if needed.</li>
<li>User reads 20 of the 30 received bytes. That leaves 90 bytes in the buffer free to be used.</li>
<li>User sends a control message to the peer letting it know there are 20 more bytes avialable.</li>
<li>The peer gets the control message and adds the new bytes to its current credit. Now it knows it can send 90 bytes (70+20=90).</li>
<li>Etc.</li>
</ol>
<p>This kind of alorithm ensures that there are no intervening data in TCP buffers that would prevent heartbeats to be passed through the connection without being stuck in the middle.</p>
<p>Thus, when you are evaluating a solution that implements heartbeating on top of TCP here is a checklist to help you to find out whether it actually works:</p>
<ul>
<li>If there are heartbeats but there's no flow control, the solution won't work.</li>
<li>There must be a way to split larger messages into smaller units that will fit into the preallocated buffer. If there's no such mechanism, the solution won't work.</li>
<li>The credit in the flow-control mechanism must be expressed in terms of bytes, not messages. If it uses number of messages to control the flow, the solution won't work.</li>
<li>If the protocol allows to issue more credit than the space available in the receive buffer, the solution won't work.</li>
</ul>
<p>The above being said, there is one subtler aspect of the problem, an aspect that hints at a more general problem with Internet stack itself.</p>
<p>In the case of heartbeats on top of TCP as well as in the case of multiplexing on top of TCP (read the related article <a href="/blog:18">here</a>), one has to re-implement a big part of TCP (windowing and flow control) on top of TCP proper. It sounds almost like an engineering anti-pattern. The functionality should not be copy-pasted among the layers of the stack, rather, it should be localised at one well-defined layer. For example, routing is implemented by network layer. End-to-end relaibility is implemented by transport layer. And so on. However, what we are getting here is the same feature implemented redundantly at various layers of the stack.</p>
<p>Obviously, the right solution would be implement a new transport protocol directly on top of IP protocol, one that would provide desired functionality &#8212; failure detection and/or multiplexing &#8212; directly, without duplicating the features.</p>
<p>And, as a matter of fact, the above was already done. The protocol built directly on top of IP with both heartbeating and multiplexing is called <a href="https://en.wikipedia.org/wiki/SCTP">SCTP</a> and is available out of the box in most operating systems.</p>
<p>And here comes the problem: SCTP is not used, even for projects where those features are needed. Instead, they are lousily re-implemented on top of TCP over and over again.</p>
<p>What's going on here?</p>
<p>I mean, SCTP has all features necessary for networking business-critical applications. By now, 13 years since its standardisation, it should be used almost exclusively by banks and such.</p>
<p>Except that it's not.</p>
<p>What happens is that developers are not aware of SCTP. That admins are not fond of having non-TCP packets on the network. That firewalls are often configured to discard anything other than TCP or UDP. That NAT solutions sold by various vendors are not designed to work with SCTP. And so on, and so on.</p>
<p>In short, although designers of the Internet cleverly split the network layer (IP) from transport layer (TCP/UDP) to allow different transports for users with different QoS requirements, in reality &#8212; propelled by actions of multitude of a-bit-less-clever developers &#8212; the Internet stack have gradually fossilised, until, by now, there is no realistic chance of any new L4 protocol gaining considerable traction.</p>
<p>The process of fossilisation of the Internet stack seems to proceed even further. Gradually, HTTP traffic is becoming dominant (consider, for example, moving from traditional SMTP-based emailing to gmail) and at some point it can possibly turn any non-HTTP protocol into persona non grata in the Internet world.</p>
<p>Even further: With advance of WebSockets we now have a full-blown transport protocol, an equivalent to TCP, on top of HTTP!</p>
<p>And it's unlikely that that will be the end of the story.</p>
<p>So, while re-implementing TCP functionality on top of TCP may seem like a silly engineering solution when you look at it with narrow mindset, once you accept that Internet stack is formed by layers of gradually fossilising protocols, it may actually be the correct solution, one that takes political reality into consideration as well as technical details.</p>
<p>And hopefully, at some point, when everbody have already migrated to some future TCP-on-top-of-TCP-on-top-of-TCP-on-top-of-TCP-on-top-of-TCP protocol, we can create a shotcut and get rid of those good-for-nothing intermediate layers.</p>
<p><strong>Martin SÃºstrik, April 24th, 2013</strong></p>
<div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Previous:</strong> <a href="/blog:21">How to Write a Language Binding for nanomsg</a></p>
</div>
    
    
    
    </div><div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Next:</strong> <a href="/blog:23">Getting Rid of ZeroMQ-style Contexts</a></p>
</div>
    
    
    
    </div>
<div style="height:2em"></div>
<div class="comments-box">
		
	<div class="options" id="comments-options-hidden" style="display: none">
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumCommentsModule.listeners.showComments(event)">Show Comments</a> 
	</div>
		
	<div id="thread-container" class="thread-container" style="margin-top: 1em">
					


<script type="text/javascript">
	WIKIDOT.forumThreadId = 646909;
</script>


	<div class="options" id="comments-options-shown">
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumCommentsModule.listeners.hideComments(event)" class="btn btn-default btn-small btn-sm">Hide All Comments</a> 
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.unfoldAll(event)" class="btn btn-default btn-small btn-sm">Unfold All</a> 
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.foldAll(event)" class="btn btn-default btn-small btn-sm">Fold All</a>
	</div>

<div id="thread-container-posts" style="display: none">
    

<div class="pager"><span class="pager-no">page 1 of 2</span><span class="current">1</span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(2)">2</a></span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(2)">next &raquo;</a></span></div>

	
					
      
    <div class="post-container" id="fpc-1759265">
                      
		<div class="post" id="post-1759265">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759265)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759265">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=9f44ae43da3b5fa9b1ee7d9810bc17c5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Marcin Gozdalik (guest)</span> <span class="odate time_1366793187 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 08:46</span>
														</div>
			</div>
			<div class="content" id="post-content-1759265">
									

<p>&quot;Given that TCP doesn't provide a way to read data from the middle of the receive buffer, the application has no idea whether the heartbeats are arriving or not&quot; - isn't TCP feature of &quot;urgent data&quot; solving this problem exactly?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759265)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759265)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759265" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759265)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759265)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=9f44ae43da3b5fa9b1ee7d9810bc17c5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Marcin Gozdalik (guest)</span>, <span class="odate time_1366793187 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 08:46</span>
		</div>
	</div>
 
                
                	


        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1759266">
                      
		<div class="post" id="post-1759266">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759266)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759266">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1366793408 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 08:50</span>
														</div>
			</div>
			<div class="content" id="post-content-1759266">
									

<p>I've never used urgent data personally, but as far as I understand, how it works is that urgent bit is part of the bytestream. So, if data transfer is blocked by backpressure, even urgent data won't get through.</p>
<p>Feel free to correct me though.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759266)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759266)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759266" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759266)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759266)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1366793408 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 08:50</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1759271">
                      
		<div class="post" id="post-1759271">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759271)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759271">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=9f44ae43da3b5fa9b1ee7d9810bc17c5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Marcin Gozdalik (guest)</span> <span class="odate time_1366794350 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:05</span>
														</div>
			</div>
			<div class="content" id="post-content-1759271">
									

<p>Actually I have no idea if urgent data obeys TCP window or not. Seems like a good candidate for experiment :)<br />
Apparently (according to Wikipedia) there are incompatibilities between TCP implementations which effectively limit OOB data to 1 byte. For heartbeat though it is enough. More troubling are network devices (the presentation linked in Wikipedia mentions Cisco PIX) which clear urgent pointer.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759271)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759271)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759271" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759271)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759271)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=9f44ae43da3b5fa9b1ee7d9810bc17c5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Marcin Gozdalik (guest)</span>, <span class="odate time_1366794350 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:05</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1759274">
                      
		<div class="post" id="post-1759274">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759274)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759274">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1366794707 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:11</span>
														</div>
			</div>
			<div class="content" id="post-content-1759274">
									

<p>In any case, urgent byte was designed to send Ctrl+C over the network and is barely used anymore. I would be pretty concerned if I've seen a protocol using it for heartbeats.</p>

							</div>

								
							<div class="changes">
					Last edited on <span class="odate time_1366794766 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:12</span>
					by <span class="printuser"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>
					<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.showHistory(event,1759274)"><i class="icon-plus"></i> Show more</a>
				</div>
				<div class="revisions" style="display: none"></div>
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759274)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759274)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759274" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759274)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759274)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1366794707 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:11</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1759275">
                      
		<div class="post" id="post-1759275">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759275)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759275">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1366794750 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:12</span>
														</div>
			</div>
			<div class="content" id="post-content-1759275">
									

<p>Btw, I recall some horror stories from long ago about using urgent byte as message delimiter :)</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759275)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759275)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759275" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759275)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759275)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1366794750 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:12</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1759277">
                      
		<div class="post" id="post-1759277">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759277)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759277">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=9f44ae43da3b5fa9b1ee7d9810bc17c5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Marcin Gozdalik (guest)</span> <span class="odate time_1366794880 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:14</span>
														</div>
			</div>
			<div class="content" id="post-content-1759277">
									

<p>Apparently you're right - RFC 6093 contains a thorough discussion on TCP urgent data. I was mislead by SIGURG which indirectly implies that by sending some urgent data it is delivered out-of-band.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759277)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759277)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759277" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759277)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759277)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=9f44ae43da3b5fa9b1ee7d9810bc17c5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Marcin Gozdalik (guest)</span>, <span class="odate time_1366794880 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:14</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1759279">
                      
		<div class="post" id="post-1759279">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759279)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759279">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1366795081 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:18</span>
														</div>
			</div>
			<div class="content" id="post-content-1759279">
									

<p>Good to know! I had that impression for a long time but never really bothered to check.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759279)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759279)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759279" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759279)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759279)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1366795081 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:18</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1759280">
                      
		<div class="post" id="post-1759280">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759280)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759280">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=9f44ae43da3b5fa9b1ee7d9810bc17c5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Marcin Gozdalik (guest)</span> <span class="odate time_1366795148 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:19</span>
														</div>
			</div>
			<div class="content" id="post-content-1759280">
									

<p>As another try - you could decrease TCP keepalives timeouts (on Linux you could set them individually per socket, not globally) and use them as heartbeat mechanism? Don't know if it's portable though.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759280)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759280)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759280" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759280)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759280)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=9f44ae43da3b5fa9b1ee7d9810bc17c5&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Marcin Gozdalik (guest)</span>, <span class="odate time_1366795148 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:19</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1759283">
                      
		<div class="post" id="post-1759283">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759283)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759283">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1366795558 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:25</span>
														</div>
			</div>
			<div class="content" id="post-content-1759283">
									

<p>Nope, it's not. The keep-alive options are Linux-specific.</p>
<p>Also, there's another aspect that I've deliberately ommitted to keep the article easy to understand: If you want adaptable heartbeats that &quot;just work&quot; not depending on the link latency, you need something like SCTP's heartbeating algorithm. TCP keepalives won't do that for you. Even worse, you either need access to TCP's RTO value (no standard way to get it) or re-implement the RTO measurement on top of TCP.</p>
<p>It really gets messy once you start thinking about it in depth.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759283)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759283)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759283" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759283)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759283)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1366795558 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:25</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1759301">
                      
		<div class="post" id="post-1759301">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759301)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759301">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=38d2521ec9092c9b8243b7a0bc9bbe50&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Pierre Chapuis (guest)</span> <span class="odate time_1366797374 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:56</span>
														</div>
			</div>
			<div class="content" id="post-content-1759301">
									

<p>Apparently I cannot add links here so see gist catwell/5451026 ;)</p>
<p>This kind of problem is not limited to TCP, it's happening everywhere.</p>
<p>In networks, one of the most ridiculous examples IMO is L2TP. I mean, come on, a protocol explicitly designed to make loops in the hourglass model&#8230; Here the missing functionality (analogous to heartbeat in your example) is tunneling. The right solution to this problem would be something like MPLS, which despite a bad reputation has the right design: adding a layer (2.5). And the solution people use instead is&#8230; encapsulating layer 2 protocols inside IP!</p>
<p>Another example is mobile OSs. The problem is distribution, the Web solves it, so let's re-implement a whole OS in the browser, right? Encapsulate applications in a stack that was designed for online documents by twisting it as much as we can and pretend JavaScript is an assembly language. Mozilla criticized Microsoft because they could not implement a IE competitor efficiently on Windows 8. I wonder how efficient alternative browsers for Firefox OS will be without a way to write native code.</p>
<p>As you said all this happens because people who use a technology see its shortcomings and want to solve them, but they don't understand the technology and its design enough to change it, or they don't have enough leverage to make it happen. They know how to use it though, so they hack on top of it.</p>
<p>This is why we keep reinventing square wheels since the 70s. By layering stuff on top of flat tires instead of replacing them.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759301)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759301)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759301" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759301)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759301)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=38d2521ec9092c9b8243b7a0bc9bbe50&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Pierre Chapuis (guest)</span>, <span class="odate time_1366797374 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 09:56</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1759306">
                      
		<div class="post" id="post-1759306">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759306)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759306">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1366798170 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 10:09</span>
														</div>
			</div>
			<div class="content" id="post-content-1759306">
									

<p>The question is: Do we have an alternative?</p>
<p>If you stick to the right thing (TM) you'll go the way of SCTP &#8212; you'll create an obscure niche solution.</p>
<p>Not accepting the political reality is invariably turns out to be lousy solution in the end. So, what's needed IMO is hacking simultaneously on the technical and political level. It's not at all obvious how to do that, but it's definitely a challenge.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759306)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759306)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759306" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759306)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759306)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1366798170 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 10:09</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1759375">
                      
		<div class="post" id="post-1759375">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759375)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759375">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=38d2521ec9092c9b8243b7a0bc9bbe50&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Pierre Chapuis (guest)</span> <span class="odate time_1366806472 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 12:27</span>
														</div>
			</div>
			<div class="content" id="post-content-1759375">
									

<p>I agree. For instance, I criticize things like Firefox OS on a technical level, but I still think it is very interesting because it solves the distribution problem. In an ugly way, but it does.</p>
<p>Regarding SCTP, the problem is even worse than that: now for lots of things we can't use TCP either because incompetent system administrators (or rather their clueless bosses) decide to only leave port 80 open. So we end up with HTTP as a transport protocol and applicative firewalls.</p>
<p>How can we change that? I agree that not accepting the political reality is not the solution for us hackers, and we have to do with what we have. But I think large players could, if they were bold enough. For instance, how could we solve the IPv6 migration problem fast? Deprecate IPv4 for all Google services with a 3 months deadline. A.k.a. solution &quot;a dancing turtle is not enough incentive&quot;.</p>
<p>I am impatient to see what will happen with HTTP 2 / SPDY and maybe QUIC (Google's UDP replacement). Maybe they will turn to TCP next? :)</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1759375)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759375" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759375)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759375)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=38d2521ec9092c9b8243b7a0bc9bbe50&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Pierre Chapuis (guest)</span>, <span class="odate time_1366806472 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 12:27</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1759386">
                      
		<div class="post" id="post-1759386">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759386)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759386">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1366807680 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 12:48</span>
														</div>
			</div>
			<div class="content" id="post-content-1759386">
									

<p>My feeling about it is that we should simply accept the process of protocol fossilisation and gradual movement up the stack. It seems to be a fact of life and something you cannot really fight.</p>
<p>However, when you look at the process closer, as layers are added on top, the waist of the hourglass seems to move upwards as well. Once it was at IP level, now it's almost on TCP level and heading upward towards HTTP.</p>
<p>The nice side effect is that any technology that gets *below* the waist (and if we accept the movement-upward model, every technology will ultimately get there) can be relatively easily replaced. Once, replacing L2 layer was a complex problem. Today, nobody really worries about replacing 1GbE by 10GbE although the two are pretty different beasts. The reason is that L2 is below the waist of the hourglass. You just don't have to care.</p>
<p>One day, TCP, HTTP and WebSockets will get below the waist as well. Then we can replace them with something that fixes the problems.</p>
<p>Of course, the time horizon here is measured in decades rather than years.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1759386)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759386" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759386)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759386)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1366807680 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 12:48</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1759438">
                      
		<div class="post" id="post-1759438">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759438)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759438">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=38d2521ec9092c9b8243b7a0bc9bbe50&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Pierre Chapuis (guest)</span> <span class="odate time_1366813057 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 14:17</span>
														</div>
			</div>
			<div class="content" id="post-content-1759438">
									

<p>Interesting. Now the problem is that the upper layers have not been designed to do what they do, so it still makes the whole thing more complex. HTML5 is not a good application development platform and HTTP is not a good transport protocol.</p>
<p>But it's still nice to think we will be able to replace some of these things someday because people will standardize above them&#8230;</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1759438)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759438" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759438)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759438)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=38d2521ec9092c9b8243b7a0bc9bbe50&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Pierre Chapuis (guest)</span>, <span class="odate time_1366813057 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 14:17</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1784129">
                      
		<div class="post" id="post-1784129">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1784129)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1784129">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=38d2521ec9092c9b8243b7a0bc9bbe50&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Pierre Chapuis (guest)</span> <span class="odate time_1369645667 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">27 May 2013 09:07</span>
														</div>
			</div>
			<div class="content" id="post-content-1784129">
									

<p>And now apparently DJB is trying to replace TCP+TLS ;) <a href="http://cr.yp.to/tcpip/minimalt-20130522.pdf">http://cr.yp.to/tcpip/minimalt-20130522.pdf</a></p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1784129)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1784129" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1784129)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1784129)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=38d2521ec9092c9b8243b7a0bc9bbe50&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Pierre Chapuis (guest)</span>, <span class="odate time_1369645667 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">27 May 2013 09:07</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1784136">
                      
		<div class="post" id="post-1784136">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1784136)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1784136">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1369646497 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">27 May 2013 09:21</span>
														</div>
			</div>
			<div class="content" id="post-content-1784136">
									

<p>Thanks for the pointer. I'll give it a read.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1784136)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1784136)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1784136" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1784136)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1784136)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263511" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1369646497 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">27 May 2013 09:21</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1759314">
                      
		<div class="post" id="post-1759314">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759314)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759314">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=620734cfa78f4d78e4837cb0e56ccd32&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martyn Loughran (guest)</span> <span class="odate time_1366800074 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 10:41</span>
														</div>
			</div>
			<div class="content" id="post-content-1759314">
									

<p>Hi Martin, thanks for the great article.</p>
<p>I have used the heartbeating technique for some time over both WebSockets and ZeroMQ. While the technique works well in both cases, it's far more pleasant over WebSockets since that protocol includes frame types for ping and pong (as well as allowing control frames, e.g. ping, to be interleaved between the many data frames of a WebSocket message).</p>
<p>Are you considering adding better support for heartbeating to nanomsg? It always feels like a hack when I add this to protocols built on top of ZMQ.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759314)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759314)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759314" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759314)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759314)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=620734cfa78f4d78e4837cb0e56ccd32&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martyn Loughran (guest)</span>, <span class="odate time_1366800074 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 10:41</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1759336">
                      
		<div class="post" id="post-1759336">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759336)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759336">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1366802093 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 11:14</span>
														</div>
			</div>
			<div class="content" id="post-content-1759336">
									

<p>Hi Martyn,</p>
<p>The problem, as explained in the article, is that to implement *sane* heartbeats on top of TCP you have to re-implement a large part of TCP functionality. Which is a task that would require considerable amount of work.</p>
<p>Also, the system often used with ZeroMQ &#8212; passing heartbeats on a separate connection &#8212; seems to work quite well and makes investing in TCP re-implementation questionable.</p>
<p>One thing that's missing in ZeroMQ though, is the ability to funnel all the communication through a single open port. That's definitely on the roadmap for nanomsg.</p>
<p>As for websockets, I've tried to participate in the stadardisation with insights like those in this article, but I haven't had much time back then. My feeling at the time was that while the spec defined wire format for heartbeats and multiplexing, it was kind of short on specifying the actual semantics. Anyway, glad to hear it works for you.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759336)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759336)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759336" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759336)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759336)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1366802093 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 11:14</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1759542">
                      
		<div class="post" id="post-1759542">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759542)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759542">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/eternaleye" onclick="WIKIDOT.page.listeners.userInfo(1478754); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=1478754&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="eternaleye" style="background-image:url(http://www.wikidot.com/userkarma.php?u=1478754)"/></a><a href="http://www.wikidot.com/user:info/eternaleye" onclick="WIKIDOT.page.listeners.userInfo(1478754); return false;" >eternaleye</a></span> <span class="odate time_1366821657 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 16:40</span>
														</div>
			</div>
			<div class="content" id="post-content-1759542">
									

<p>I believe I mentioned this in #nanomsg, but this may be of interest to anyone who wants to learn more about the ossification of the transport layer: [Argh, it won't let me post links. Look up the DeDiS group at Yale, project 'Tng']</p>
<p>They suggest fixing what they term the 'transport logjam' by further subdividing the transport layer into:</p>
<p>Semantics (flow control, in-order vs out-of-order, e2e reliability) [&quot;I want TCP/SCTP/etc&quot;] over<br />
Isolation (encryption, datagram integrity) [DTLS or similar] over<br />
Flow (congestion control) [DCCP sans ports] over<br />
Endpoint (ports) [UDP or similar]</p>
<p>That lets NAT deal with the endpoint layer, flow middleboxes like wireless optimizers deal with the flow layer, and everybody stays out of your transport semantics.</p>

							</div>

								
							<div class="changes">
					Last edited on <span class="odate time_1366821704 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 16:41</span>
					by <span class="printuser"><a href="http://www.wikidot.com/user:info/eternaleye" onclick="WIKIDOT.page.listeners.userInfo(1478754); return false;" >eternaleye</a></span>
					<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.showHistory(event,1759542)"><i class="icon-plus"></i> Show more</a>
				</div>
				<div class="revisions" style="display: none"></div>
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759542)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759542)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759542" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759542)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759542)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/eternaleye" onclick="WIKIDOT.page.listeners.userInfo(1478754); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=1478754&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="eternaleye" style="background-image:url(http://www.wikidot.com/userkarma.php?u=1478754)"/></a><a href="http://www.wikidot.com/user:info/eternaleye" onclick="WIKIDOT.page.listeners.userInfo(1478754); return false;" >eternaleye</a></span>, <span class="odate time_1366821657 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Apr 2013 16:40</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1759967">
                      
		<div class="post" id="post-1759967">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759967)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759967">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1366866429 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">25 Apr 2013 05:07</span>
														</div>
			</div>
			<div class="content" id="post-content-1759967">
									

<p>Isn't it kind of a chicken-and-egg problem? To beat the transport logjam they would have to beat the transport logjam to introduce new fine-grained layering at L4.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759967)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759967)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759967" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759967)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759967)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1366866429 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">25 Apr 2013 05:07</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1761700">
                      
		<div class="post" id="post-1761700">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1761700)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1761700">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/eternaleye" onclick="WIKIDOT.page.listeners.userInfo(1478754); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=1478754&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="eternaleye" style="background-image:url(http://www.wikidot.com/userkarma.php?u=1478754)"/></a><a href="http://www.wikidot.com/user:info/eternaleye" onclick="WIKIDOT.page.listeners.userInfo(1478754); return false;" >eternaleye</a></span> <span class="odate time_1367128975 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">28 Apr 2013 06:02</span>
														</div>
			</div>
			<div class="content" id="post-content-1761700">
									

<p>Not really - they use a system they're calling 'minion' in order to bypass that, by using existing protocols where possible. For instance, using UDP as the endpoint layer (thus it looks like a normal UDP packet) and sticking a portless DCCP on top of it as the flow layer is the trivial example.</p>
<p>One of their more ambitious ones is using COBS (Constant-Overhead Byte Stuffing, a record separation format) and a new sockopt (TCP_UNORDERED) in order to add out-of-order delivery to the TCP *API* without changing the wire protocol. That lets them use it as the endpoint and flow layers.</p>
<p>They took the same tack with TLS, too, so you can have what the network thinks is a normal TLS session but the API for the user is out-of-order unreliable datagrams.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1761700)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1761700)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1761700" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1761700)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1761700)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/eternaleye" onclick="WIKIDOT.page.listeners.userInfo(1478754); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=1478754&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="eternaleye" style="background-image:url(http://www.wikidot.com/userkarma.php?u=1478754)"/></a><a href="http://www.wikidot.com/user:info/eternaleye" onclick="WIKIDOT.page.listeners.userInfo(1478754); return false;" >eternaleye</a></span>, <span class="odate time_1367128975 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">28 Apr 2013 06:02</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
                      
    <div class="post-container" id="fpc-1759970">
                      
		<div class="post" id="post-1759970">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1759970)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1759970">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1366866642 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">25 Apr 2013 05:10</span>
														</div>
			</div>
			<div class="content" id="post-content-1759970">
									

<p>Btw, I've allowed posting links in comments.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1759970)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1759970)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1759970" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1759970)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1759970)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1366866642 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">25 Apr 2013 05:10</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1798403">
                      
		<div class="post" id="post-1798403">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1798403)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1798403">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=0205f36cae862840e34b0a8d7d06cc6c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Jason (guest)</span> <span class="odate time_1371492763 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Jun 2013 18:12</span>
														</div>
			</div>
			<div class="content" id="post-content-1798403">
									

<p>Isn't there a userspace SCTP over UDP solution? That both plays well with firewalls and gives you the advantages of SCTP with just a small amount of extra overhead.</p>
<p>Oh, and as far as fossilization goes, don't forget SPDY which is basically the subset of SCTP that is useful for HTTP, plus an HTTP specific compression library implemented on top of TCP.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1798403)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1798403)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1798403" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1798403)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1798403)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=0205f36cae862840e34b0a8d7d06cc6c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Jason (guest)</span>, <span class="odate time_1371492763 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Jun 2013 18:12</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1798410">
                      
		<div class="post" id="post-1798410">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1798410)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1798410">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1371493200 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Jun 2013 18:20</span>
														</div>
			</div>
			<div class="content" id="post-content-1798410">
									

<p>As for SCTP over UDP I though about it myself, but I am not aware of such thing actually being out there. If you have any pointers, I would love to check it out.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1798410)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1798410)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1798410" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1798410)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1798410)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1371493200 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Jun 2013 18:20</span>
		</div>
	</div>
 
                
                	


        
                      
    <div class="post-container" id="fpc-1843574">
                      
		<div class="post" id="post-1843574">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1843574)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1843574">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=a17f0025641b4be419a6cd3845e55dd2&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Ilya Grigorik (guest)</span> <span class="odate time_1378013635 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">01 Sep 2013 05:33</span>
														</div>
			</div>
			<div class="content" id="post-content-1843574">
									

<p>WebRTC DataChannels are using SCTP over UDP+DTLS. FWIW, I have a writeup @ hpbn.co/webrtc. A couple of deep-links into the chapter:<br />
<a href="http://chimera.labs.oreilly.com/books/1230000000545/ch18.html#_real_time_network_transports">http://chimera.labs.oreilly.com/books/1230000000545/ch18.html#_real_time_network_transports</a><br />
<a href="http://chimera.labs.oreilly.com/books/1230000000545/ch18.html#_delivering_application_data_with_sctp">http://chimera.labs.oreilly.com/books/1230000000545/ch18.html#_delivering_application_data_with_sctp</a></p>
<p>Available in Chrome and Firefox today, which is pretty neat!</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1843574)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1843574)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1843574" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1843574)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1843574)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=a17f0025641b4be419a6cd3845e55dd2&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Ilya Grigorik (guest)</span>, <span class="odate time_1378013635 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">01 Sep 2013 05:33</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1844100">
                      
		<div class="post" id="post-1844100">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1844100)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1844100">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1378101407 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">02 Sep 2013 05:56</span>
														</div>
			</div>
			<div class="content" id="post-content-1844100">
									

<p>The generic SCTP-over-UDP thing would be extremely useful in business messaging scenarios. What's the actual availability of the solution? Is it an actual C library that can be used anywhere? Does it require a daemon to watch for incoming connections etc.?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1844100)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1844100)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1844100" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1844100)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1844100)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263512" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1378101407 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">02 Sep 2013 05:56</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 


<div class="pager"><span class="pager-no">page 1 of 2</span><span class="current">1</span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(2)">2</a></span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(2)">next &raquo;</a></span></div>
</div>

        <a href="javascript:;" id="new-post-button" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.newPost(event,null)"
      style="display:  none ; margin-bottom:1em"
    >Add a New Comment</a>


    <div id="new-post-form-container">
        <div id="new-post-preview-div" style="display: none">
            <h1>Post preview:</h1>
            <div class="post-container"></div>
            <div></div>
            <a href="javascript:;" onclick="WIKIDOT.modules.ForumNewPostFormModule.listeners.closePreview(event)" class="btn btn-danger">Close preview</a>
        </div>

        <div id="new-post-div" class="well">
            <form id="new-post-form" onkeypress="return OZONE.utils.disableEnterKey(event)">
                <input type="hidden" name="threadId" value="646909"/>
                <input type="hidden" name="parentId" value=""/>
                                    <table class="guest-commenting">
                        <tr>
                            <td><input class="text form-control" name="guestName" type="text" maxlength="30" value="" title="Name"/></td>
                            <td>or <a href="#action:login">Sign in as Wikidot user</a></td>
                        </tr>
                        <tr>
                            <td><input class="text form-control" name="guestEmail" type="text" maxlength="50" value="" title="E-mail address"/></td>
                            <td>(will not be published)</td>
                        </tr>
                    </table>
                                <div><textarea id="np-text" name="source" rows="10" cols="50" class="form-control"></textarea></div>
                <div class="change-textarea-size">
                    <a href="javascript:;" onclick="WIKIDOT.utils.changeTextareaRowNo('np-text',-5)">-</a>
                    <a href="javascript:;" onclick="WIKIDOT.utils.changeTextareaRowNo('np-text',5)">+</a>
                </div>
                <div class="edit-help-34">
                    Help: <a href="http://www.wikidot.com/doc:quick-reference" target="_blank">wiki text quick reference</a>                </div>
                                
                <div id="edit-post-captcha"></div>
                
                <div class="buttons alignleft">
                    <input class="btn btn-danger btn-small btn-sm" type="button" value="Cancel" id="np-cancel" onclick="WIKIDOT.modules.ForumNewPostFormModule.listeners.cancel(event)"/>
                    <input class="btn btn-default btn-small btn-sm" type="button" value="Preview" id="np-preview" onclick="WIKIDOT.modules.ForumNewPostFormModule.listeners.preview(event)"/>
                    <input class="btn btn-primary btn-small btn-sm" type="button" value="Post it" id="np-post" onclick="WIKIDOT.modules.ForumNewPostFormModule.listeners.save(event)"/>
                </div>
                    
            </form>
        </div>	

    </div> 
            <script type="text/javascript">
            
            $j(function() {
                WIKIDOT.Editor.init("np-text", "np-editor-panel");
            });
            
        </script>
    
 

<div style="display:none" id="post-options-template">
	<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.showPermalink(event,'%POST_ID%')" class="btn btn-default btn-small btn-sm">Permanent Link</a>
			<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.editPost(event,'%POST_ID%')" class="btn btn-default btn-small btn-sm">Edit</a>
			<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.deletePost(event,'%POST_ID%')" class="btn btn-danger btn-small btn-sm">Delete</a>
</div>
	
			</div>
	
	
	
</div></div>

                    </div>

                    


                    



                    

                    <div id="page-info-break"></div>
                    
                        <div id="page-options-container">
                            
                        </div>
                    
                    <div id="action-area" style="display: none;"></div>
                </div>
            </div>
            
            
            
            <div id="footer" style="display: block; visibility: visible;">
                <div class="options" style="display: block; visibility: visible;">
    <a href="http://www.wikidot.com/doc" id="wikidot-help-button">Help</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:terms-of-service" id="wikidot-tos-button">Terms of Service</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:privacy-policy" id="wikidot-privacy-button">Privacy</a>
    &nbsp;|
    <a href="javascript:;" id="bug-report-button" onclick="WIKIDOT.page.listeners.pageBugReport(event)">Report a bug</a>
    &nbsp;|
    <a href="javascript:;" id="abuse-report-button" onclick="WIKIDOT.page.listeners.flagPageObjectionable(event)">Flag as objectionable</a>
</div>
Powered by <a href="http://www.wikidot.com">Wikidot.com</a> 
            </div>
            
                <div id="license-area" class="license-area">
                    Unless otherwise stated, the content of this page is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 License</a>
                </div>
            
            
            



            <div id="extrac-div-1"><span></span></div><div id="extrac-div-2"><span></span></div><div id="extrac-div-3"><span></span></div>
            
            
            
            
                
            
        </div>
        
    </div>
<!-- These extra divs/spans may be used as catch-alls to add extra imagery. -->
<div id="extra-div-1"><span></span></div><div id="extra-div-2"><span></span></div><div id="extra-div-3"><span></span></div>
<div id="extra-div-4"><span></span></div><div id="extra-div-5"><span></span></div><div id="extra-div-6"><span></span></div>
</div>




</div>
<div id="dummy-ondomready-block" style="display: none;" ></div>
    <!-- Google Analytics load -->
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <!-- Quantcast -->
    <script type="text/javascript">
    _qoptions={
        qacct:"p-edL3gsnUjJzw-"
    };
    (function() {
        var qc = document.createElement('script'); qc.type = 'text/javascript'; qc.async = true;
        qc.src = ('https:' == document.location.protocol ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(qc, s);
    })();
    </script>
    <noscript>
        <img src="http://pixel.quantserve.com/pixel/p-edL3gsnUjJzw-.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
    </noscript>




<div id="page-options-bottom-tips" style="display: none;">
    <div id="edit-button-hovertip">
        Click here to edit contents of this page.    </div>
</div>
<div id="page-options-bottom-2-tips"  style="display: none;">
    <div id="edit-sections-button-hovertip">
        Click here to toggle editing of individual sections of the page (if possible).         Watch headings for an &quot;edit&quot; link when available.    </div>
    <div id="edit-append-button-hovertip">
        Append content without editing the whole page source.    </div>
    <div id="history-button-hovertip">
        Check out how this page has evolved in the past.    </div>
    <div id="discuss-button-hovertip">
        If you want to discuss contents of this page - this is the easiest way to do it.    </div>
    <div id="files-button-hovertip">
        View and manage file attachments for this page.    </div>
    <div id="site-tools-button-hovertip">
        A few useful tools to manage this Site.    </div>
    <div id="backlinks-button-hovertip">
        See pages that link to and include this page.    </div>
    <div id="rename-move-button-hovertip">
        Change the name (also URL address, possibly the category) of the page.    </div>
    <div id="view-source-button-hovertip">
        View wiki source for this page without editing.    </div>
    <div id="parent-page-button-hovertip">  
        View/set parent page (used for creating breadcrumbs and structured layout).    </div>
            <div id="abuse-report-button-hovertip">
            Notify administrators if there is objectionable content in this page.        </div>
        <div id="bug-report-button-hovertip">
            Something does not work as expected? Find out what you can do.        </div>
        <div id="wikidot-help-button-hovertip">
            General Wikidot.com documentation and help section.        </div>
        <div id="wikidot-tos-button-hovertip">
            Wikidot.com Terms of Service - what you can, what you should not etc.        </div>
        <div id="wikidot-privacy-button-hovertip">
            Wikidot.com Privacy Policy.          
        </div>
    </div>
</body>
</html>