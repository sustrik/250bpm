<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <title>Enclave Pattern - 250bpm</title>
    
    	<script type="text/javascript" src="http://www.wikidot.com/default__flow/login__CustomDomainScript?site_id=148706"></script>

    
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--javascript/init.combined.js"></script>
    <script  type="text/javascript">
        var URL_HOST = 'www.wikidot.com';
        var URL_DOMAIN = 'wikidot.com';
        var USE_SSL =  true ;
        var URL_STATIC = 'http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9';
        // global request information
        
        var WIKIREQUEST = {};
        WIKIREQUEST.info = {};
        
        WIKIREQUEST.info.domain = "250bpm.com";
        WIKIREQUEST.info.siteId = 148706;
        WIKIREQUEST.info.siteUnixName = "250bpm";
        WIKIREQUEST.info.categoryId = 2550760;
        WIKIREQUEST.info.themeId = 18520;
        WIKIREQUEST.info.requestPageName = "blog:9";
        OZONE.request.timestamp = 1594263447;
        OZONE.request.date = new Date();
        WIKIREQUEST.info.lang = 'en';
                WIKIREQUEST.info.pageUnixName = "blog:9";
        WIKIREQUEST.info.pageId = 14269916;
                        WIKIREQUEST.info.lang = "en";
        OZONE.lang = "en";
        var isUAMobile = !!/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    </script>
    
    


    
        <script  type="text/javascript">
    
        require.config({
            baseUrl: URL_STATIC + '/common--javascript',
            paths: {
                'jquery.ui': 'jquery-ui.min',
                'jquery.form': 'jquery.form'
            }
        });
    
    </script>
    
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
            
    
    
    
    
    <meta http-equiv="content-language" content="en"/>
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--javascript/WIKIDOT.combined.js"></script>
        
    
    <style type="text/css" id="internal-style">
        
        /* modules */
        
                
        /* theme */
                    @import url(http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--theme/base/css/style.css);
                    @import url(http://250bpm.wdfiles.com/local--theme/250bpm/style.css);
            </style>
    
        
        
        
    <link rel="shortcut icon" href="/local--favicon/favicon.gif"/>
    <link rel="icon" type="image/gif" href="/local--favicon/favicon.gif"/>
    
            <link rel="apple-touch-icon" href="/common--images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="/common--images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="/common--images/apple-touch-icon-114x114.png" />
        
        
            <link rel="alternate" type="application/wiki" title="Edit this page" href="javascript:WIKIDOT.page.listeners.editClick()"/>
    
        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18234656-1']);
        _gaq.push(['_setDomainName', 'none']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);

        _gaq.push(['old._setAccount', 'UA-68540-5']);
        _gaq.push(['old._setDomainName', 'none']);
        _gaq.push(['old._setAllowLinker', true]);
        _gaq.push(['old._trackPageview']);

                _gaq.push(['userTracker._setAccount', 'UA-3207370-9']);
        _gaq.push(['userTracker._trackPageview']);
            </script>
    
    <script type="text/javascript">
        window.google_analytics_uacct = 'UA-18234656-1';
        window.google_analytics_domain_name = 'none';
    </script>
    
        <link rel="manifest" href="/onesignal/manifest.json" />
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" acync=""></script>
    <script>
        var OneSignal = window.OneSignal || [];
        OneSignal.push(function() {
          OneSignal.init({
            appId: null,
          });
        });
    </script>
        
<link rel="alternate" type="application/rss+xml" title="Comments for the page &quot;Enclave Pattern&quot;" href="/feed/page/comments-14269916.xml"/><script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumCommentsModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumViewThreadModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumViewThreadPostsModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/sub/ForumNewPostFormModule.js"></script>
</head>
<body id="html-body">
<div id="skrollr-body">
<a name="page-top"></a>





<div id="container-wrap-wrap">
    <div id="container-wrap">
        <div id="container">
            <div id="header">
              <h1><a href="/"><span>250bpm</span></a></h1>
                
                
                <!-- google_ad_section_start(weight=ignore) -->
                
                <div id="search-top-box" class="form-search">
    <form id="search-top-box-form" action="dummy" class="input-append">
        <input id="search-top-box-input" class="text empty search-query" type="text" size="15" name="query" value="Search this site" onfocus="if(YAHOO.util.Dom.hasClass(this, 'empty')){YAHOO.util.Dom.removeClass(this,'empty'); this.value='';}"/><input class="button btn" type="submit" name="search" value="Search"/>
    </form>
</div>
                
                
                    <div id="top-bar">
                        

<ul>
<li><a href="/">Home</a></li>
<li><a href="https://github.com/sustrik/cartesian">Cartesian</a></li>
<li><a href="http://libdill.org">Libdill</a></li>
<li><a href="http://nanomsg.org">Nanomsg</a></li>
<li><a href="https://github.com/sustrik/tiles">Tiles</a></li>
<li><a href="http://zero.mq">ZeroMQ</a></li>
<li><a href="/contact">Contact</a></li>
</ul>

                    </div>
                
                <div id="login-status"><a href="javascript:;" onclick="WIKIDOT.page.listeners.createAccount(event)" class="login-status-create-account btn">Create account</a> <span>or</span> <a href="javascript:;" onclick="WIKIDOT.page.listeners.loginClick(event)" class="login-status-sign-in btn btn-primary">Sign in</a> </div>
                <div id="header-extra-div-1"><span></span></div><div id="header-extra-div-2"><span></span></div><div id="header-extra-div-3"><span></span></div>
            </div>
            
            <div id="content-wrap">
                
                    <div id="side-bar">
                        


                        


                        


                    </div>
                
                
                <!-- google_ad_section_end -->
                
                <div id="main-content">
                    <div id="action-area-top"></div>
                    
                    
                        <div id="page-title">
                            Enclave Pattern
                        </div>
                    

                    

                    



                    <div id="page-content">
                        

<div style="width:50em"><div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Previous:</strong> <a href="/blog:8">Why should I have written ZeroMQ in C, not C++ (part II)</a></p>
</div>
    
    
    
    </div><div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Next:</strong> <a href="/blog:10">Getting Rid of Domain Registrars Using Bitcoin Algorithm</a></p>
</div>
    
    
    
    </div>
<p>In my last <a href="/blog:8">blog post</a> I've ranted about problems with implementing <a href="http://www.boost.org/doc/libs/1_35_0/doc/html/intrusive/intrusive_vs_nontrusive.html">intrusive containers</a> in C++.</p>
<p>The main problem is that to allow an object to be included into an intrusive container you have to modify the object itself, for example, add 'prev' and 'next' member variables to it. That in turn breaks the encapsulation principle. In rigorous object-oriented design the item is owned by the container, and thus the container should be aware of the item but <strong>not vice versa</strong>.</p>
<p>There have been a lot of discussion about the blog post both on this site and elsewhere but, unfortunately, participants focused on unrelated issues like whether list is an efficient data structure or whether objects as such rather than pointers should be stored in the non-intrusive list. The encapsulation issue went almost unnoticed and nobody have proposed any solution for it.</p>
<p>While I believe the encapsulation issue is a problem of design of C++ language and thus cannot be solved in C++, there seems to be a way to mitigate it. You cannot avoid adding 'prev' and 'next' pointers to the contained item, however you can prohibit the item to access these members and you can make them visible only to the container. To do that you can use a strange technique that I haven't seen being used so far, so I am taking liberty to call it &quot;enclave pattern&quot;.</p>
<p>According to Wikipedia &quot;An enclave is a territory entirely surrounded by another territory.&quot;</p>
<div class="image-container aligncenter"><img src="http://250bpm.wdfiles.com/local--files/blog:9/enclave1.png" alt="enclave1.png" class="image" /></div>
<p>In the picture above, C is an eclave of A inside the teritory of B. Well-know real-world enclaves are, for example, <a href="https://en.wikipedia.org/wiki/Kaliningrad_Oblast">Kaliningrad</a> or <a href="https://en.wikipedia.org/wiki/Nagorno-Karabakh">Nagorno-Karabakh</a>.</p>
<p>In the programming context we can create an enclave C of class A inside class B. The idea is that while instance of C is embedded inside of instance of B, its members are not accessible by B, only by A:</p>
<div class="code">
<pre>
<code>class A
{
public:

    class C
    {
        friend class ::A;
    private:
        int i;
    };

    void fx ();
};

class B
{
public:

    A::C c;

    void fx ();
};</code>
</pre></div>
<p>The unusual thing about the code snippet above is that class C is entirely private. It has no public members nor methods. In theory, it should be unusable. However, we are using 'friend' keyword to grant class A access to it.</p>
<p>Now, let's test the encapsulation:</p>
<div class="code">
<pre>
<code>void A::fx ()
{
    B b;

    //  Following assignment compiles OK.
    b.c.i = 0;
}

void B::fx ()
{
    //  Following assignment fails to compile:
    //  error: ‘int A::C::i’ is private
    c.i = 0;
}</code>
</pre></div>
<p>As can be seen, enclave C exists inide of B, however, it can be accessed only from the methods of A.</p>
<p>And here's an example of implementing an intrusive list using the enclave pattern:</p>
<div class="code">
<pre>
<code>class list
{
public:

    class helper
    {
        friend class ::list;
    private:
        helper *prev;
        helper *next;
    };

    void push_back (node *item)
    {
        mtx.lock ();
        item-&gt;next = 0;
        item-&gt;prev = last;
        last = item;
        mtx.unlock ();
    }

private:

    mutex mtx;
    helper *first;
    helper *last;
};

//  This class can be contained in the list.
class person 
{
public:

    list::helper h;

    int age;
    int weight;
};</code>
</pre></div>
<p><em>EDIT: The following example was added to the article post facto.</em></p>
<p>I've deliberately made the list implementation thread-safe to make the value of enclave pattern more obvious. The 'list' object contains a mutex that guards all the data fields belonging to the list. That is 'first' and 'last' members of the 'list' itself as well as 'prev' and 'next' fields that are the enclave of 'list' class inside 'person' class.</p>
<p>Now, imagine that implementer of 'person' class would accidentally mess with the 'next' pointer. As 'person' class exists outside of the list's critical section, it would lead to race conditions and undefined behaviour:</p>
<div class="code">
<pre>
<code>class person 
{
public:

    list::helper h;

    int age;
    int weight;

    void be_evil ()
    {
        h.next = 0;
    }
};</code>
</pre></div>
<p>Fortunately, the 'enclave' pattern saves the day here. When trying to compile the above implementation of 'person' the compiler will report an error:</p>
<div class="code">
<pre>
<code>error: ‘list::node *list::node::next’ is private</code>
</pre></div>
<p>It is entirely possible that this pattern was already described elsewhere and I believe it is new only thanks to sheer ignorance. If so, let me know and I'll add the appropriate citation to this article.</p>
<p><strong>Martin Sústrik, September 11th, 2012</strong></p>
<div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Previous:</strong> <a href="/blog:8">Why should I have written ZeroMQ in C, not C++ (part II)</a></p>
</div>
    
    
    
    </div><div class="list-pages-box">    <div class="list-pages-item">


<p><strong>Next:</strong> <a href="/blog:10">Getting Rid of Domain Registrars Using Bitcoin Algorithm</a></p>
</div>
    
    
    
    </div>
<div style="height:2em"></div>
<div class="comments-box">
		
	<div class="options" id="comments-options-hidden" style="display: none">
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumCommentsModule.listeners.showComments(event)">Show Comments</a> 
	</div>
		
	<div id="thread-container" class="thread-container" style="margin-top: 1em">
					


<script type="text/javascript">
	WIKIDOT.forumThreadId = 563175;
</script>


	<div class="options" id="comments-options-shown">
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumCommentsModule.listeners.hideComments(event)" class="btn btn-default btn-small btn-sm">Hide All Comments</a> 
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.unfoldAll(event)" class="btn btn-default btn-small btn-sm">Unfold All</a> 
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.foldAll(event)" class="btn btn-default btn-small btn-sm">Fold All</a>
	</div>

<div id="thread-container-posts" style="display: none">
    

<div class="pager"><span class="pager-no">page 1 of 2</span><span class="current">1</span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(2)">2</a></span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(2)">next &raquo;</a></span></div>

	
					
      
    <div class="post-container" id="fpc-1562289">
                      
		<div class="post" id="post-1562289">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1562289)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1562289">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=2dc89a4896bb80d576d6846e9a797630&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>andrew (guest)</span> <span class="odate time_1347390611 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 19:10</span>
														</div>
			</div>
			<div class="content" id="post-content-1562289">
									

<p>Nested objects or builder pattern - thats a regular name fo rthis, and use extensively in OOP design, when you dont want to expose object but want still gives way to query it.<br />
In case you want also to modify (by aplying or modifying behaviour) in composoable and safe way you use Aplicative functors pattern (monoidal preferably).</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1562289)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1562289)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1562289" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1562289)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1562289)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=2dc89a4896bb80d576d6846e9a797630&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>andrew (guest)</span>, <span class="odate time_1347390611 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 19:10</span>
		</div>
	</div>
 
                
                	


        
                      
    <div class="post-container" id="fpc-1562301">
                      
		<div class="post" id="post-1562301">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1562301)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1562301">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1347391575 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 19:26</span>
														</div>
			</div>
			<div class="content" id="post-content-1562301">
									

<p>Wikipedia's description of builder pattern seems to be a completely different thing:<br />
<a href="https://en.wikipedia.org/wiki/Builder_pattern#C.2B.2B">https://en.wikipedia.org/wiki/Builder_pattern#C.2B.2B</a></p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1562301)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1562301)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1562301" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1562301)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1562301)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1347391575 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 19:26</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1562319">
                      
		<div class="post" id="post-1562319">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1562319)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1562319">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=5dd9c9bf3d5559ebb8a7e9f332209ea4&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>andrew (guest)</span> <span class="odate time_1347393242 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 19:54</span>
														</div>
			</div>
			<div class="content" id="post-content-1562319">
									

<p>well , depends how you apply it, and common ways to apply this pattern depends on type system. For example Java vs JS build pattern application.<br />
You can apply it in a way of creating nested object or in a way of creating new aggregated instance.<br />
For languages with monomorphic type system its common to apply builder pattern to create aggregated instances.</p>
<p>Otherwise common pattern is to create (using builder pattern or just simply return nested object) on request a contract for some underlying (polymorphic) data structure, without breaking encapsulation of that structure. This way you can return for specific request (in case of builder pattern) a contract - immutable, with possibly wired events to underlying storage and AP pattern to morph it functionality (and safely compose it), for example to dynamicly extend contract for new query type (this can also be hardwired into builer as well but with losses).<br />
Really its all common topics in any OOP CS.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1562319)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1562319)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1562319" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1562319)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1562319)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=5dd9c9bf3d5559ebb8a7e9f332209ea4&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>andrew (guest)</span>, <span class="odate time_1347393242 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 19:54</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1562353">
                      
		<div class="post" id="post-1562353">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1562353)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1562353">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1347395650 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 20:34</span>
														</div>
			</div>
			<div class="content" id="post-content-1562353">
									

<p>Hm. I still don't see where a data member of one class is exclusively owned by another class, which is what the blog post was about.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1562353)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1562353)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1562353" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1562353)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1562353)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1347395650 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 20:34</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1562374">
                      
		<div class="post" id="post-1562374">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1562374)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1562374">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=5dd9c9bf3d5559ebb8a7e9f332209ea4&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>andrew (guest)</span> <span class="odate time_1347398346 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 21:19</span>
														</div>
			</div>
			<div class="content" id="post-content-1562374">
									

<p>msdn.microsoft.com /en-US/library/8b1xzat2(v=vs.100)<br />
Simple iterator pattern.<br />
Based on nested class pattern. msdn.microsoft.com /en-US/library/ms173120(v=vs.110)<br />
Nested class used extensively in java as poor man closure.<br />
Gives you access to parent class members without exposing parent class innards to the world.</p>
<p>Builder pattern to return nested class or aggregate as a contract appropriately constructed with specific semantics.<br />
If you want exclusivity(?) i assume you mean here immutability of items - return nested class or ask builder to make you a contract with Enumerable(iterator) to underlying storage, which do new instance(copy) of each returned item.</p>
<p>In case you refer to exclusivity in a sense of immutability of underlying storage - i.e. after generating contract not to observe changes in underlying storage (new item added for example due to laziness of Iterator will be still observed) - copy underlying storage and evaluate it eagerly.</p>
<p>In case you refer to exclusivity in access semantics - that’s exactly why we want to have contract.<br />
The only purpose of builder pattern is to generate the contract with exact semantics caller requested. (access semantics, items semantics (mutability), lazy, etc)</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1562374)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1562374)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1562374" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1562374)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1562374)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=5dd9c9bf3d5559ebb8a7e9f332209ea4&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>andrew (guest)</span>, <span class="odate time_1347398346 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 21:19</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1562383">
                      
		<div class="post" id="post-1562383">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1562383)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1562383">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1347399282 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 21:34</span>
														</div>
			</div>
			<div class="content" id="post-content-1562383">
									

<p>I still don't follow.</p>
<p>According to wikipedia: &quot;The intent of the Builder design pattern is to separate the construction of a complex object from its representation. By doing so, the same construction process can create different representations.&quot;</p>
<p>However, the construction is not being discussed here.</p>
<p>What's discussed is a data member of class A, which cannot be accessed by methods of class A, only by methods of unrelated class B.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1562383)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1562383)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1562383" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1562383)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1562383)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1347399282 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 21:34</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1562391">
                      
		<div class="post" id="post-1562391">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1562391)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1562391">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=5dd9c9bf3d5559ebb8a7e9f332209ea4&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>andrew (guest)</span> <span class="odate time_1347400797 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 21:59</span>
														</div>
			</div>
			<div class="content" id="post-content-1562391">
									

<p>ok, no builder, though i fail to see how static and hardcoded direct access any usefull.</p>
<p>Take a look then on nested class and closure.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1562391)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1562391)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1562391" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1562391)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1562391)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=5dd9c9bf3d5559ebb8a7e9f332209ea4&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>andrew (guest)</span>, <span class="odate time_1347400797 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">11 Sep 2012 21:59</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1562733">
                      
		<div class="post" id="post-1562733">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1562733)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1562733">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1347431065 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 06:24</span>
														</div>
			</div>
			<div class="content" id="post-content-1562733">
									

<p>The article explicitly mentions the motivation: Implementing intrusive containers without breaking encapsulation.</p>
<p>Nested class is used in the example, but it's used only to make it nicer. Everything would work in the same way even in C was declared as a top-level class.</p>
<p>Closures deal with storing a snapshot of the environment, they don't seem to have much in common with the topic discussed here.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1562733)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1562733)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1562733" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1562733)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1562733)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1347431065 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 06:24</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1562782">
                      
		<div class="post" id="post-1562782">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1562782)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1562782">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=c7f608569bdeb8b970aab511f2609a25&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>jensa (guest)</span> <span class="odate time_1347438381 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 08:26</span>
														</div>
			</div>
			<div class="content" id="post-content-1562782">
									

<p>It seems that what you propose is a way to implement the listable functionality as a kind of mixin (or trait). This is usually done in C++ as a template class which inherits from the template parameter. If I remember correclty, user Helio has shown this as an example in the discussion of your last blog.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1562782)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1562782)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1562782" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1562782)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1562782)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=c7f608569bdeb8b970aab511f2609a25&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>jensa (guest)</span>, <span class="odate time_1347438381 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 08:26</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1562835">
                      
		<div class="post" id="post-1562835">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1562835)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1562835">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1347450826 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 11:53</span>
														</div>
			</div>
			<div class="content" id="post-content-1562835">
									

<p>Yup. Helio's solution is similar to the one above in that the contained class can't access the prev &amp; next members. However, there are two problems with it:</p>
<p>1. How to embed the object into multiple lists?<br />
2. How to ensure that prev &amp; next members are accessible only by list class and not by anyone holding pointer to the object.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1562835)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1562835)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1562835" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1562835)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1562835)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1347450826 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 11:53</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1889354">
                      
		<div class="post" id="post-1889354">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1889354)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1889354">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=db0ffc046fd218d4a2a0d7314e6c1d98&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>SasQ (guest)</span> <span class="odate time_1384063826 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 Nov 2013 06:10</span>
														</div>
			</div>
			<div class="content" id="post-content-1889354">
									

<p>Problem 1 is still present in your solution, since you have to modify the class &#8216;B` every time you want to add it to another list. Not that it were something bad. But you&#8217;ve mentioned this yourself in your previous blog post as an argument against C++'s way, and directed it upon other people's attempts at solution, so you should respect your own standards here too ;-) According to this standard, this solution is still not the ideal. And making it ideal by enforcing 0 modifications to the &#8216;B` class, or even no recompilation required, could be difficult to achieve, if not impossible. Because, as you&#8217;ve said yourselves, you need to put those &#8216;prev` and `next` somewhere this way or another. And every time it would have to be a part of `B`&#8217;s objects' layout in memory, whenever this layout will change, `B` and its users would have to recompile at the very least, I guess.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1889354)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1889354" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1889354)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1889354)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=db0ffc046fd218d4a2a0d7314e6c1d98&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>SasQ (guest)</span>, <span class="odate time_1384063826 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">10 Nov 2013 06:10</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1894319">
                      
		<div class="post" id="post-1894319">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1894319)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1894319">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ccbe7da9a44a8737ca2eda4462c42fe1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martin Sustrik (guest)</span> <span class="odate time_1384613189 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">16 Nov 2013 14:46</span>
														</div>
			</div>
			<div class="content" id="post-content-1894319">
									

<p>Yes, it's a pretty lame solution. I've posted the article only because I've never seen this pattern in the wild. I thought it would make for interesting reading and possibly make people think of limitations inherent in existing languages.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1894319)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1894319)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1894319" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1894319)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1894319)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ccbe7da9a44a8737ca2eda4462c42fe1&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Martin Sustrik (guest)</span>, <span class="odate time_1384613189 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">16 Nov 2013 14:46</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1562875">
                      
		<div class="post" id="post-1562875">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1562875)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1562875">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=c7f608569bdeb8b970aab511f2609a25&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>jensa (guest)</span> <span class="odate time_1347455647 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 13:14</span>
														</div>
			</div>
			<div class="content" id="post-content-1562875">
									

<p>Hi,</p>
<p>my main point was that the solution you propose is another way to implement a mixin (or a trait), so I don't think it is a new pattern.</p>
<p>1. I don't see a difference here to your solution. With template mixin, I need one mixin class for every list, while your solution needs a new helper class for every list. Both don't scale well, but the mixin have the advantage that I don't have to modify the person class every time. This is nice when it comes to testability and single responsibility.</p>
<p>For both solutions, you need a different list type for every list the object will be contained in.</p>
<p>2. Same solution as in your proposal: Make the members private and declare the list as friend of the mixin:</p>
<p>class Personlist;</p>
<p>template &lt;class contents, typename List&gt; class node: public contents<br />
{<br />
friend List;</p>
<p>node&lt;contents, List&gt; *prev;<br />
node&lt;contents, List&gt; *next;<br />
};</p>
<p>class person<br />
{<br />
int age;<br />
int weight;<br />
};</p>
<p>typedef node&lt;person, Personlist&gt; person_node;</p>
<p>class Personlist<br />
{<br />
public:<br />
void add(node&lt;person, Personlist&gt;&amp; n)<br />
{<br />
n.prev = &amp;last;<br />
n.next = nullptr;<br />
last.next = &amp;n;<br />
last = n;<br />
}</p>
<p>private:<br />
node&lt;person, Personlist&gt; first;<br />
node&lt;person, Personlist&gt; last;<br />
};</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1562875)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1562875)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1562875" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1562875)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1562875)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=c7f608569bdeb8b970aab511f2609a25&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>jensa (guest)</span>, <span class="odate time_1347455647 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 13:14</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1563041">
                      
		<div class="post" id="post-1563041">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1563041)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1563041">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1347474207 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 18:23</span>
														</div>
			</div>
			<div class="content" id="post-content-1563041">
									

<p>I am just a C/C++ programmer and I have no experience with mixins, so please bear with me&#8230;</p>
<p>Looking at the wikipedia article about mixins, it seems that mixins are bundles of functionality that you can add to your class.</p>
<p>However, in the example in the article there's no functionality involved. Making C a member of B has zero impact on the functionality of B. It adds no functionality that can be used from within B and no additional functionality for the owners of objects of class B.</p>
<p>What really happens is that memory for couple of member variables of unrelated class A is allocated with instance of B instead of with instance of A.</p>
<p>The 'enclave' pattern redefines how boundaries of objects are perceived. In plain C++ class is just a glorified struct. It's a continuous piece of memory with some functions attached.</p>
<p>That, however, doesn't fit well (at least mine) mental concept of objects. For example, I want the object to be &quot;atomic&quot; in the sense that if I enclose all of its members into a critical section, I won't get any data races and undefined behavior.</p>
<p>So, in the last example in the article. 'list' class contains members 'prev', 'next', 'first' and 'last'. The latter two are standard members, both in terms of visibility and memory location. The former two have the same visibility as normal members, however, memory-wise they happen to be located elsewhere (alongside the instances of class 'person').</p>
<p>I am not sure whether this kind of thing quialifies as a mixin. Wikipedia doesn't seem to suggest so.</p>

							</div>

								
							<div class="changes">
					Last edited on <span class="odate time_1347474279 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 18:24</span>
					by <span class="printuser"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>
					<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.showHistory(event,1563041)"><i class="icon-plus"></i> Show more</a>
				</div>
				<div class="revisions" style="display: none"></div>
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1563041)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1563041)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1563041" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1563041)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1563041)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1347474207 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 18:23</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1566710">
                      
		<div class="post" id="post-1566710">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1566710)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1566710">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=c7f608569bdeb8b970aab511f2609a25&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>jensa (guest)</span> <span class="odate time_1347885814 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Sep 2012 12:43</span>
														</div>
			</div>
			<div class="content" id="post-content-1566710">
									

<p>Well, it adds the functionality to be part of a list to B, so in that way it is a mixin. Of course, you chose to implement the functionality in a way which is kind of non-oop because it does not talk about behavior or actions but about some members of a &quot;glorified struct&quot;. In a real OOP design, I am not interested in data members (and surely not in data layout), but in the interface and behavior of objects. I think you should focus less on data layout and data modelling but on interfaces and behavior of things if you want to have an object-oriented design.</p>
<p>By the way, I don't understand &quot;That, however, doesn't fit well (at least mine) mental concept of objects. For example, I want the object to be &quot;atomic&quot; in the sense that if I enclose all of its members into a critical section, I won't get any data races and undefined behavior.&quot; What does it mean? Where do you enclose members into a critical section?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1566710)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1566710)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1566710" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1566710)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1566710)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=c7f608569bdeb8b970aab511f2609a25&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>jensa (guest)</span>, <span class="odate time_1347885814 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">17 Sep 2012 12:43</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-1567356">
                      
		<div class="post" id="post-1567356">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1567356)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1567356">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1347954841 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">18 Sep 2012 07:54</span>
														</div>
			</div>
			<div class="content" id="post-content-1567356">
									

<p>&quot;In a real OOP design, I am not interested in data members (and surely not in data layout)&quot;</p>
<p>The above is exactly the point of the article. The OO in a certian way isolates the developer from actual memory layout and thus can lead to sub-optimal solutions. Other way round, if you exercise full control over memory layout it leads to violations of OO paradigm.</p>
<p>&quot;Where do you enclose members into a critical section?&quot;</p>
<p>I've added an example into the article.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1567356)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1567356" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1567356)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1567356)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1347954841 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">18 Sep 2012 07:54</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1567550">
                      
		<div class="post" id="post-1567550">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1567550)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1567550">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=c7f608569bdeb8b970aab511f2609a25&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>jensa (guest)</span> <span class="odate time_1347981401 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">18 Sep 2012 15:16</span>
														</div>
			</div>
			<div class="content" id="post-content-1567550">
									

<p>&quot;The OO in a certian way isolates the developer from actual memory layout and thus can lead to sub-optimal solutions&quot;</p>
<p>IMHO getting away from the memory layout and working with abstractions is a benefit I am happily paying, if there is any. The mixin solution leads to a similar memory layout, though, and is more OO-style (with all OO-benefits), once one adds member functions instead of plain member variables to the mixin.</p>
<p>And the conception &quot;low level == efficient&quot; is not necessarily true, as Stroustrup points out in his presentation (google for Day 1 Keynote - Bjarne Stroustrup: C++11 Style) when comparing std::sort with qsort. Both implement a quicksort, but std::sort has more information for optimization because it knows the types and can inline function calls. I would only resort to low-level optimizations when profiling has shown that it is a hotspot and measure afterwards.</p>
<p>&quot;if you exercise full control over memory layout it leads to violations of OO paradigm.&quot;</p>
<p>I would generalize this to &quot;if you exercise full control over memory layout it leads to violations of many established design principles of any design methodology&quot; because basing your design on implementations instead of abstractions is never a good idea, being it OO or not.</p>

							</div>

								
					
						<div class="options">
				
																					<a href="javascript:;" onclick="togglePostOptions(event,1567550)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1567550" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1567550)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1567550)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=c7f608569bdeb8b970aab511f2609a25&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>jensa (guest)</span>, <span class="odate time_1347981401 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">18 Sep 2012 15:16</span>
		</div>
	</div>
 
                
        
            </div>
 
                      
    <div class="post-container" id="fpc-1575623">
                      
		<div class="post" id="post-1575623">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1575623)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1575623">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1348818257 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">28 Sep 2012 07:44</span>
														</div>
			</div>
			<div class="content" id="post-content-1575623">
									

<p>Yes. My claim was that using C++ for system-level programming (ZeroMQ) was not a very good idea. Once you get higher in the stack, C++ becomes more and more preferable. For rapid development where 100% reliability and utmost performance isn't that important it's almost perfect.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1575623)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1575623)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1575623" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1575623)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1575623)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263447" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1348818257 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">28 Sep 2012 07:44</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-1563122">
                      
		<div class="post" id="post-1563122">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,1563122)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-1563122">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=b0da8cc80151b3b3cff2335357597108&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Jan (guest)</span> <span class="odate time_1347483474 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 20:57</span>
														</div>
			</div>
			<div class="content" id="post-content-1563122">
									

<p>This looks interesting! Can you extend the example to show some list operations (for example how to add an element to the list)?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,1563122)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,1563122)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-1563122" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,1563122)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,1563122)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=b0da8cc80151b3b3cff2335357597108&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Jan (guest)</span>, <span class="odate time_1347483474 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">12 Sep 2012 20:57</span>
		</div>
	</div>
 
                
                	


        
            </div>
 


<div class="pager"><span class="pager-no">page 1 of 2</span><span class="current">1</span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(2)">2</a></span><span class="target"><a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadPostsModule.listeners.updateList(2)">next &raquo;</a></span></div>
</div>

        <a href="javascript:;" id="new-post-button" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.newPost(event,null)"
      style="display:  block ; margin-bottom:1em"
    >Add a New Comment</a>

 

<div style="display:none" id="post-options-template">
	<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.showPermalink(event,'%POST_ID%')" class="btn btn-default btn-small btn-sm">Permanent Link</a>
			<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.editPost(event,'%POST_ID%')" class="btn btn-default btn-small btn-sm">Edit</a>
			<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.deletePost(event,'%POST_ID%')" class="btn btn-danger btn-small btn-sm">Delete</a>
</div>
	
			</div>
	
	
	
</div></div>

                    </div>

                    


                    



                    

                    <div id="page-info-break"></div>
                    
                        <div id="page-options-container">
                            
                        </div>
                    
                    <div id="action-area" style="display: none;"></div>
                </div>
            </div>
            
            
            
            <div id="footer" style="display: block; visibility: visible;">
                <div class="options" style="display: block; visibility: visible;">
    <a href="http://www.wikidot.com/doc" id="wikidot-help-button">Help</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:terms-of-service" id="wikidot-tos-button">Terms of Service</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:privacy-policy" id="wikidot-privacy-button">Privacy</a>
    &nbsp;|
    <a href="javascript:;" id="bug-report-button" onclick="WIKIDOT.page.listeners.pageBugReport(event)">Report a bug</a>
    &nbsp;|
    <a href="javascript:;" id="abuse-report-button" onclick="WIKIDOT.page.listeners.flagPageObjectionable(event)">Flag as objectionable</a>
</div>
Powered by <a href="http://www.wikidot.com">Wikidot.com</a> 
            </div>
            
                <div id="license-area" class="license-area">
                    Unless otherwise stated, the content of this page is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 License</a>
                </div>
            
            
            



            <div id="extrac-div-1"><span></span></div><div id="extrac-div-2"><span></span></div><div id="extrac-div-3"><span></span></div>
            
            
            
            
                
            
        </div>
        
    </div>
<!-- These extra divs/spans may be used as catch-alls to add extra imagery. -->
<div id="extra-div-1"><span></span></div><div id="extra-div-2"><span></span></div><div id="extra-div-3"><span></span></div>
<div id="extra-div-4"><span></span></div><div id="extra-div-5"><span></span></div><div id="extra-div-6"><span></span></div>
</div>




</div>
<div id="dummy-ondomready-block" style="display: none;" ></div>
    <!-- Google Analytics load -->
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <!-- Quantcast -->
    <script type="text/javascript">
    _qoptions={
        qacct:"p-edL3gsnUjJzw-"
    };
    (function() {
        var qc = document.createElement('script'); qc.type = 'text/javascript'; qc.async = true;
        qc.src = ('https:' == document.location.protocol ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(qc, s);
    })();
    </script>
    <noscript>
        <img src="http://pixel.quantserve.com/pixel/p-edL3gsnUjJzw-.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
    </noscript>




<div id="page-options-bottom-tips" style="display: none;">
    <div id="edit-button-hovertip">
        Click here to edit contents of this page.    </div>
</div>
<div id="page-options-bottom-2-tips"  style="display: none;">
    <div id="edit-sections-button-hovertip">
        Click here to toggle editing of individual sections of the page (if possible).         Watch headings for an &quot;edit&quot; link when available.    </div>
    <div id="edit-append-button-hovertip">
        Append content without editing the whole page source.    </div>
    <div id="history-button-hovertip">
        Check out how this page has evolved in the past.    </div>
    <div id="discuss-button-hovertip">
        If you want to discuss contents of this page - this is the easiest way to do it.    </div>
    <div id="files-button-hovertip">
        View and manage file attachments for this page.    </div>
    <div id="site-tools-button-hovertip">
        A few useful tools to manage this Site.    </div>
    <div id="backlinks-button-hovertip">
        See pages that link to and include this page.    </div>
    <div id="rename-move-button-hovertip">
        Change the name (also URL address, possibly the category) of the page.    </div>
    <div id="view-source-button-hovertip">
        View wiki source for this page without editing.    </div>
    <div id="parent-page-button-hovertip">  
        View/set parent page (used for creating breadcrumbs and structured layout).    </div>
            <div id="abuse-report-button-hovertip">
            Notify administrators if there is objectionable content in this page.        </div>
        <div id="bug-report-button-hovertip">
            Something does not work as expected? Find out what you can do.        </div>
        <div id="wikidot-help-button-hovertip">
            General Wikidot.com documentation and help section.        </div>
        <div id="wikidot-tos-button-hovertip">
            Wikidot.com Terms of Service - what you can, what you should not etc.        </div>
        <div id="wikidot-privacy-button-hovertip">
            Wikidot.com Privacy Policy.          
        </div>
    </div>
</body>
</html>