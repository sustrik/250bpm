<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <title>The Cost of Abstraction - 250bpm</title>
    
    	<script type="text/javascript" src="http://www.wikidot.com/default__flow/login__CustomDomainScript?site_id=148706"></script>

    
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--javascript/init.combined.js"></script>
    <script  type="text/javascript">
        var URL_HOST = 'www.wikidot.com';
        var URL_DOMAIN = 'wikidot.com';
        var USE_SSL =  true ;
        var URL_STATIC = 'http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9';
        // global request information
        
        var WIKIREQUEST = {};
        WIKIREQUEST.info = {};
        
        WIKIREQUEST.info.domain = "250bpm.com";
        WIKIREQUEST.info.siteId = 148706;
        WIKIREQUEST.info.siteUnixName = "250bpm";
        WIKIREQUEST.info.categoryId = 2550760;
        WIKIREQUEST.info.themeId = 18520;
        WIKIREQUEST.info.requestPageName = "blog:86";
        OZONE.request.timestamp = 1594263566;
        OZONE.request.date = new Date();
        WIKIREQUEST.info.lang = 'en';
                WIKIREQUEST.info.pageUnixName = "blog:86";
        WIKIREQUEST.info.pageId = 45963560;
                        WIKIREQUEST.info.lang = "en";
        OZONE.lang = "en";
        var isUAMobile = !!/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    </script>
    
    


    
        <script  type="text/javascript">
    
        require.config({
            baseUrl: URL_STATIC + '/common--javascript',
            paths: {
                'jquery.ui': 'jquery-ui.min',
                'jquery.form': 'jquery.form'
            }
        });
    
    </script>
    
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
            
    
    
    
    
    <meta http-equiv="content-language" content="en"/>
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--javascript/WIKIDOT.combined.js"></script>
        
    
    <style type="text/css" id="internal-style">
        
        /* modules */
        
                
        /* theme */
                    @import url(http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--theme/base/css/style.css);
                    @import url(http://250bpm.wdfiles.com/local--theme/250bpm/style.css);
            </style>
    
        
        
        
    <link rel="shortcut icon" href="/local--favicon/favicon.gif"/>
    <link rel="icon" type="image/gif" href="/local--favicon/favicon.gif"/>
    
            <link rel="apple-touch-icon" href="/common--images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="/common--images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="/common--images/apple-touch-icon-114x114.png" />
        
        
            <link rel="alternate" type="application/wiki" title="Edit this page" href="javascript:WIKIDOT.page.listeners.editClick()"/>
    
        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18234656-1']);
        _gaq.push(['_setDomainName', 'none']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);

        _gaq.push(['old._setAccount', 'UA-68540-5']);
        _gaq.push(['old._setDomainName', 'none']);
        _gaq.push(['old._setAllowLinker', true]);
        _gaq.push(['old._trackPageview']);

                _gaq.push(['userTracker._setAccount', 'UA-3207370-9']);
        _gaq.push(['userTracker._trackPageview']);
            </script>
    
    <script type="text/javascript">
        window.google_analytics_uacct = 'UA-18234656-1';
        window.google_analytics_domain_name = 'none';
    </script>
    
        <link rel="manifest" href="/onesignal/manifest.json" />
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" acync=""></script>
    <script>
        var OneSignal = window.OneSignal || [];
        OneSignal.push(function() {
          OneSignal.init({
            appId: null,
          });
        });
    </script>
        
<link rel="alternate" type="application/rss+xml" title="Comments for the page &quot;The Cost of Abstraction&quot;" href="/feed/page/comments-45963560.xml"/><script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumCommentsModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumViewThreadModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/ForumViewThreadPostsModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--3e3a6f7dbcc9/common--modules/js/forum/sub/ForumNewPostFormModule.js"></script>
</head>
<body id="html-body">
<div id="skrollr-body">
<a name="page-top"></a>





<div id="container-wrap-wrap">
    <div id="container-wrap">
        <div id="container">
            <div id="header">
              <h1><a href="/"><span>250bpm</span></a></h1>
                
                
                <!-- google_ad_section_start(weight=ignore) -->
                
                <div id="search-top-box" class="form-search">
    <form id="search-top-box-form" action="dummy" class="input-append">
        <input id="search-top-box-input" class="text empty search-query" type="text" size="15" name="query" value="Search this site" onfocus="if(YAHOO.util.Dom.hasClass(this, 'empty')){YAHOO.util.Dom.removeClass(this,'empty'); this.value='';}"/><input class="button btn" type="submit" name="search" value="Search"/>
    </form>
</div>
                
                
                    <div id="top-bar">
                        

<ul>
<li><a href="/">Home</a></li>
<li><a href="https://github.com/sustrik/cartesian">Cartesian</a></li>
<li><a href="http://libdill.org">Libdill</a></li>
<li><a href="http://nanomsg.org">Nanomsg</a></li>
<li><a href="https://github.com/sustrik/tiles">Tiles</a></li>
<li><a href="http://zero.mq">ZeroMQ</a></li>
<li><a href="/contact">Contact</a></li>
</ul>

                    </div>
                
                <div id="login-status"><a href="javascript:;" onclick="WIKIDOT.page.listeners.createAccount(event)" class="login-status-create-account btn">Create account</a> <span>or</span> <a href="javascript:;" onclick="WIKIDOT.page.listeners.loginClick(event)" class="login-status-sign-in btn btn-primary">Sign in</a> </div>
                <div id="header-extra-div-1"><span></span></div><div id="header-extra-div-2"><span></span></div><div id="header-extra-div-3"><span></span></div>
            </div>
            
            <div id="content-wrap">
                
                    <div id="side-bar">
                        


                        


                        


                    </div>
                
                
                <!-- google_ad_section_end -->
                
                <div id="main-content">
                    <div id="action-area-top"></div>
                    
                    
                        <div id="page-title">
                            The Cost of Abstraction
                        </div>
                    

                    

                    



                    <div id="page-content">
                        

<div style="width:50em">
<p>The cost of duplicating code, of accumulating technical debt, of not having tests and so on is often discussed and written about. The cost of abstracting things is almost never mentioned though, despite it being a major factor in keeping any project maintainable.</p>
<p>As an example, imagine that your program often increases two variables in sequence:</p>
<div class="code">
<pre>
<code>i++;
j++;</code>
</pre></div>
<p>So you decide that the functionality deserves a dedicated function:</p>
<div class="code">
<pre>
<code>template&lt;typename T&gt; inc_pair(T &amp;i, T &amp;j) {
    i++;
    j++;
}</code>
</pre></div>
<p>By doing so you've removed some duplicated code but also &#8212; and that's a thing that's rarely mentioned &#8212; you've added a new abstraction called &quot;inc_pair&quot;.</p>
<p>In this particular case, almost everybody will agree that adding the abstraction was not worth it. But why? It was a tradeoff between code duplication and increased level of abstraction. But why would one decide that the well known cost of code duplication is lower than somewhat fuzzy &quot;cost of abstraction&quot;?</p>
<p>To answer that question we have to look at what &quot;cost of abstraction&quot; really means.</p>
<p>One obvious cost is that an abstraction is adding to the cognitive load of whoever works with the code: They will have to keep one more fact in mind, namely, that inc_pair is a function that increases both of its arguments by one.</p>
<p>However, the main cost of abstraction is in separating the implementation from the specification, or, to put it in a different way, the letter of the function from the spirit of the function. The former being what the function does, the latter being what everybody believes it should do.</p>
<p>The important word in the above sentence is &quot;everybody&quot;. Once you make an abstraction, it's not longer about what YOU believe it should do. You are entering the domain of social consensus. It's about what EVERYBODY involved thinks it does. And, as everybody knows, social consensus is hard.</p>
<p>Let's look at a practical example: What if type T for our inc_pair function is &quot;Duration&quot;? What will the function do? Will it increase the duration by one second? One day? One nanosecond? Individual users may disagree.</p>
<p>Another example: What if operator ++ on type T throws an exception while doing j++ ? Sould the function leave i and j in inconsistent state? Or should it try to keep the change atomic by doing i&#8212; ? And what if i&#8212; throws an exception while doing that? Maybe the function is supposed to copy the old values of the variables and set them back in case of an error? Nobody really knows.</p>
<p>In short, the decision about creating an abstraction should not be taken lightly. There's a large social cost to every abstraction and if you are churning them out without even thinking about it you are on the way towards making the project unmaintainable. If the abstractions leak to the user you are also making it unusable.</p>
<p>That being said, most of the projects out there are already so abstraction heavy that they are almost unmaintainable. Thus, the programmers are accustomed to the state of unmaintainability, consider it the normal state of affairs and they happily contribute to the mess by adding more and more abstraction.</p>
<p>I've already shown one example of adding a new abstraction for no particularly good reason: Programmer notices that two pieces of code are somewhat similar and creates a function to de-duplicate it. The cost of doing so is rarely taken into account.</p>
<p>Another example, a systemic one rather than an accidental one, is the use of mocking in tests. While tests are definitely useful, they often require certain piece of code to be abstracted so that it can be mocked &#8212; for example by creating an interface, then having both actual and mock implementation of the interface. Creation of an additional abstraction is just an collateral damage.</p>
<p>Yet another example are inheritance hierarchies. Say we want 4 classes: Egg laying fish, live bearing fish, egg laying mammals (echidna) and live-bearing mammals. The intuitive reaction is to create an inheritance hierarchy topped by class Animal, with intermediary nodes Fish and Mammal. It is often done that way even if there's no use case for directly working with Animal, Fish or Mammal class. Thus, future maintainers are left to scratch their heads about how should those abstract classes behave.</p>
<p>In the end I would like to look at what anti-abstraction tools we have at our disposal.</p>
<p>First of all, we have scoping. If a C function is declared as &quot;static&quot; it is visible only within that file. That limits the amount of damage it can cause. It is still an abstraction but it is prevented from leaking to the wider audience. Same can be said of Java's &quot;private&quot; modifier. Of course, it's not a panacea. If source file is 10,000 lines long the scope of a static function is greatly extended and it becomes almost as dangerous as a non-static function.</p>
<p>We also have unnamed objects (e.g. lambdas). It turns out it's hard to treat something with no name as an abstraction. (I wonder what Plato would say about that!) If the only way to refer to a function is by writing it down the letter and the spirit of the function become much more entangled.</p>
<p>It also seems that Go's implicit interfaces were designed to avoid unnecessary abstraction. Given that interfaces are not defined when object is implemented but rather they can be created on the fly as needed by the user, their scope can be significantly limited thus keeping the number of people affected by the abstraction lower.</p>
<p>My final question is whether we are doing enough to limit the amount of abstraction we have to deal with. And do we have sufficient tools to do such limiting? While in many cases it seems that it's only a question of programmer's attitude, at least in the case of mocking it's the tooling itself that contributes to the problem.</p>
<p><strong>Martin Sústrik, Nov 7th, 2016</strong></p>
<div class="comments-box">
		
	<div class="options" id="comments-options-hidden" style="display: none">
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumCommentsModule.listeners.showComments(event)">Show Comments</a> 
	</div>
		
	<div id="thread-container" class="thread-container" style="margin-top: 1em">
					


<script type="text/javascript">
	WIKIDOT.forumThreadId = 1983640;
</script>


	<div class="options" id="comments-options-shown">
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumCommentsModule.listeners.hideComments(event)" class="btn btn-default btn-small btn-sm">Hide All Comments</a> 
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.unfoldAll(event)" class="btn btn-default btn-small btn-sm">Unfold All</a> 
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.foldAll(event)" class="btn btn-default btn-small btn-sm">Fold All</a>
	</div>

<div id="thread-container-posts" style="display: none">
    



	
					
      
    <div class="post-container" id="fpc-2687347">
                      
		<div class="post" id="post-2687347">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2687347)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2687347">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=fe8e4742bbc96687699d22ead39cb05c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Apostolis (guest)</span> <span class="odate time_1478606381 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">08 Nov 2016 11:59</span>
														</div>
			</div>
			<div class="content" id="post-content-2687347">
									

<p>Social consensus can ,though, be enabled with technical means.<br />
Consider Bitcoin. Their social consensus is mediated with the use of the blockchain and mining.</p>
<p>In dependently typed programming languages like Coq or Idris or Agda, the Type of the function is its specification. Here again the typechecker reduces the cost of Social consensus on abstractions.</p>
<p>Since you work on network libraries, it is worth mentioning that session types do the same thing for network protocol specifications and their implementations.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2687347)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2687347)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2687347" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2687347)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2687347)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=fe8e4742bbc96687699d22ead39cb05c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Apostolis (guest)</span>, <span class="odate time_1478606381 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">08 Nov 2016 11:59</span>
		</div>
	</div>
 
                
                	


        
                      
    <div class="post-container" id="fpc-2687361">
                      
		<div class="post" id="post-2687361">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2687361)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2687361">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263566" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1478608862 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">08 Nov 2016 12:41</span>
														</div>
			</div>
			<div class="content" id="post-content-2687361">
									

<p>Yes, true.</p>
<p>I guess the thing here is that widely-accepted abstraction like bitcoin, TCP or socket API are &quot;worth it&quot; meaning that cost of seeking the consensus is lower than not having consensus. As for my_hacky_helper_foo() function, it's the other way round.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2687361)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2687361)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2687361" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2687361)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2687361)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1594263566" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1478608862 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">08 Nov 2016 12:41</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-2687381">
                      
		<div class="post" id="post-2687381">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2687381)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2687381">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=fe8e4742bbc96687699d22ead39cb05c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Apostolis (guest)</span> <span class="odate time_1478613477 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">08 Nov 2016 13:57</span>
														</div>
			</div>
			<div class="content" id="post-content-2687381">
									

<p>Dependently typed languages trade the reduction of the cost of social consensus with the cost of creating a very strict specification and proving that your implementation abides by it.</p>
<p>So even in these languages, you can decide to be sloppy as in any other language because you do not want to pay the upfront cost.</p>
<p>On the other hand, in these languages, the specification acts as an input when you program. In every step, you know whether you are doing something wrong or not. It can even generate part of the code.</p>
<p>In general, I think that the ability to avoid the social consensus and its cost if you define a good specification outweighs the cost of defining the specification.</p>
<p>(Keep in mind that the (for ex. TCP) specification is a document that is interpreted by the human brain. In Idris, the interpretation happens by the typechecker. )</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2687381)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2687381)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2687381" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2687381)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2687381)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=fe8e4742bbc96687699d22ead39cb05c&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Apostolis (guest)</span>, <span class="odate time_1478613477 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">08 Nov 2016 13:57</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-2687447">
                      
		<div class="post" id="post-2687447">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2687447)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2687447">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=0a0bfd7678c30e086bc965d540bddadf&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>gleber (guest)</span> <span class="odate time_1478621028 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">08 Nov 2016 16:03</span>
														</div>
			</div>
			<div class="content" id="post-content-2687447">
									

<p>Agreed with Apostolis. Costs of abstractions depend a lot on the context.</p>
<p>In my opinion, social consensus is necessary only due to insufficiently good tooling - mostly type systems and compilers for them. If function specification is completely defined with it's type and validated by a compiler, then this cost of abstractions goes away. Coq, Idris, Agda and, to a bit smaller degree, Haskell have strong enough type systems to avoid this cost in majority of cases.</p>
<p>Another aspect of abstractions is their reusability and composability. If an abstraction can be learn once and reused over and over again, their benefit overweight their cost. If an abstraction composes well into existing abstractions (i.e. it fits well into existing ecosystem), their benefits are much higher than of ad-hoc abstractions.</p>
<p>In my experience, the only abstractions which satisfy all these properties and in majority of cases are net positive, are abstractions based on mathematics and when used in a strongly typed language functional languages. Such abstractions are general and apply to many areas (semigroups, monoids, foldables, monads, arrows are used by almost all software developers without even knowing them) - i.e. they are reusable. These abstractions are all about composition (e.g. pure total functions, monoids, monads, arrows, categories) between their instances and also between different abstractions (e.g. it is well understood how to lift a pure function into a monadic function, or how to fold over values which form a monoid, etc.).</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2687447)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2687447)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2687447" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2687447)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2687447)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=0a0bfd7678c30e086bc965d540bddadf&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>gleber (guest)</span>, <span class="odate time_1478621028 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">08 Nov 2016 16:03</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-4163866">
                      
		<div class="post" id="post-4163866">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,4163866)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-4163866">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ead7b308acd3d53998cec70deafadf15&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>coldtea (guest)</span> <span class="odate time_1551009298 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Feb 2019 11:54</span>
														</div>
			</div>
			<div class="content" id="post-content-4163866">
									

<blockquote>
<p>If function specification is completely defined with it's type and validated by a compiler, then this cost of abstractions goes away. Coq, Idris, Agda and, to a bit smaller degree, Haskell have strong enough type systems to avoid this cost in majority of cases.</p>
</blockquote>
<p>So, the cost of abstractions goes away for languages almost nobody uses, and the 99% of programmers wont ever touch.</p>
<p>Isn't that like saying, &quot;the inner city violence problem can be solved by moving to Tokyo which has almost no violent crime&quot;? Sure, but how's that a solution that the average person can apply?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,4163866)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,4163866)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-4163866" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,4163866)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,4163866)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ead7b308acd3d53998cec70deafadf15&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>coldtea (guest)</span>, <span class="odate time_1551009298 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Feb 2019 11:54</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-2687531">
                      
		<div class="post" id="post-2687531">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2687531)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2687531">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=0f111faf58d9c1b6b59d4bfdf0eb23fa&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Gerard Toonstra (guest)</span> <span class="odate time_1478628037 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">08 Nov 2016 18:00</span>
														</div>
			</div>
			<div class="content" id="post-content-2687531">
									

<p>Very insightful. I like thinking about software complexity and one of the concerns there to deal with complex software is that the design and intentions should be communicated (which means either documentation or exist as a common understanding of purpose and function).</p>
<p>From your perspective, it means that there is also a need to establish agreements on the levels, depth and ways abstractions in the code are formed. Indeed, I worked with software where the functions and operations weren't implemented in a messy way per sé, but the many levels of indirection, abstraction (and obscurement) made things just really difficult to read and a real tail-chaser when it came to maintenance.</p>
<p>Those levels can also make it much more difficult to understand the flow and the operations that are happening, because in many languages you pass references to data objects, so data gets changed in many ways.</p>
<p>Nice article, puts me into thinking mode again! :)</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2687531)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2687531)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2687531" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2687531)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2687531)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=0f111faf58d9c1b6b59d4bfdf0eb23fa&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Gerard Toonstra (guest)</span>, <span class="odate time_1478628037 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">08 Nov 2016 18:00</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-2698171">
                      
		<div class="post" id="post-2698171">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2698171)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2698171">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ddc2335dd586a08c82af197b84804c75&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Keith (guest)</span> <span class="odate time_1480195000 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">26 Nov 2016 21:16</span>
														</div>
			</div>
			<div class="content" id="post-content-2698171">
									

<p>I think the cost/benefit is primarily determined by your group EVERYONE. Unlike yourself, I haven't worked on OSS projects, so haven't encountered the social and political project issues at that scale. In such contexts, where folk turn up from everywhere, with wildly different levels of skill, competence, experience &#8230; more formalism is what's required to keep the motley group together. But because we get enough of that in our day jobs and just want to get things done, I expect that's the last thing people want.</p>
<p>It's human to use abstractions. But abstractions are cultural. English in England uses the word Binge. But that word has no real meaning or use outside of British English.</p>
<p>Similarly, some C++ cultures clearly know what they expect to happen in the face of an exception, while others know and expect a different model, while some never really think too much about it up front.</p>
<p>Culture. Abstractions without culture. I think that's where things begin to breakdown. I think abstractions are defined within a culture.</p>
<p>Your inheritance hierarchy, for me, demonstrates a different problem. Using the wrong tools, abstractions included, create problems of their own.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2698171)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2698171)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2698171" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2698171)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2698171)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=ddc2335dd586a08c82af197b84804c75&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Keith (guest)</span>, <span class="odate time_1480195000 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">26 Nov 2016 21:16</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-2729657">
                      
		<div class="post" id="post-2729657">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2729657)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2729657">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=753dcb78b3a3651127665da4bed3c782&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Brian (guest)</span> <span class="odate time_1484832780 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Jan 2017 13:33</span>
														</div>
			</div>
			<div class="content" id="post-content-2729657">
									

<p>A common unhelpful abstraction is the implicit polymorphism in dynamically-typed OOP languages - when in the majority of cases it's not even needed.</p>
<p>Consider a function like this pseudocode:</p>
<p>func foo(s):<br />
&#8230;<br />
do something with s.length()<br />
&#8230;</p>
<p>This is polymorphic: which length() method is called depends on the type of 's' at runtime. You may have a lot of trouble locating the correct length() method in the source, especially if this code calling point is deeply nested and you have to work backwards to try to infer the type of 's'.</p>
<p>But in many cases, func foo may be written only to make use of objects of class Bar. It could have called the one possible function explicitly:</p>
<p>func foo(s):<br />
&#8230;<br />
do something with Bar.length(s)<br />
&#8230;</p>
<p>Bar.length is exactly one function and can be quickly located in the source code. (Its implementation *might* even do different things depending on the type of s, but this would be localised)</p>
<p>In statically-typed languages you write func foo(Bar s) of course, restricting the type of s. What I'm saying is, you *could* have made the intent clear even in the dynamically-typed language as well; but most people don't, relying on dynamic method dispatch to save a few characters of typing.</p>
<p>The OOP approach also leads to unnecessary design quandries. If you have code which acts on an instance of a and b, should it be a.foo(b) or b.foo(a)? I would rather just write foo(a,b) and the problem goes away. foo is still an abstraction, but at least its implementation (and hopefully documentation) can be easily located.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2729657)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2729657)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2729657" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2729657)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2729657)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=753dcb78b3a3651127665da4bed3c782&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Brian (guest)</span>, <span class="odate time_1484832780 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">19 Jan 2017 13:33</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-4164081">
                      
		<div class="post" id="post-4164081">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,4164081)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-4164081">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=c9b295c1711da8d1be93c81165130c19&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Henk (guest)</span> <span class="odate time_1551026386 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Feb 2019 16:39</span>
														</div>
			</div>
			<div class="content" id="post-content-4164081">
									

<p>I think it should be the other way around actually. If there's social consensus about something, this warrants an abstraction. Even if this makes code technically more complicated. Maintainers then know where to start analysis when there's a bug, and new features tie in more easily. I wish they had done that with sql, html, javascript, etc. rather than putting everything into a string. I cannot even imagine the cost of all the injection vulnerabilities resulting from -not- creating an abstraction for all those things.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,4164081)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,4164081)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-4164081" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,4164081)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,4164081)"></a> by <span class="printuser avatarhover"><a href="javascript:;"><img class="small" src="http://www.gravatar.com/avatar.php?gravatar_id=c9b295c1711da8d1be93c81165130c19&amp;default=http://www.wikidot.com/common--images/avatars/default/a16.png&amp;size=16" alt=""/></a>Henk (guest)</span>, <span class="odate time_1551026386 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">24 Feb 2019 16:39</span>
		</div>
	</div>
 
                
        
            </div>
 



</div>

        <a href="javascript:;" id="new-post-button" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.newPost(event,null)"
      style="display:  none ; margin-bottom:1em"
    >Add a New Comment</a>


    <div id="new-post-form-container">
        <div id="new-post-preview-div" style="display: none">
            <h1>Post preview:</h1>
            <div class="post-container"></div>
            <div></div>
            <a href="javascript:;" onclick="WIKIDOT.modules.ForumNewPostFormModule.listeners.closePreview(event)" class="btn btn-danger">Close preview</a>
        </div>

        <div id="new-post-div" class="well">
            <form id="new-post-form" onkeypress="return OZONE.utils.disableEnterKey(event)">
                <input type="hidden" name="threadId" value="1983640"/>
                <input type="hidden" name="parentId" value=""/>
                                    <table class="guest-commenting">
                        <tr>
                            <td><input class="text form-control" name="guestName" type="text" maxlength="30" value="" title="Name"/></td>
                            <td>or <a href="#action:login">Sign in as Wikidot user</a></td>
                        </tr>
                        <tr>
                            <td><input class="text form-control" name="guestEmail" type="text" maxlength="50" value="" title="E-mail address"/></td>
                            <td>(will not be published)</td>
                        </tr>
                    </table>
                                <div><textarea id="np-text" name="source" rows="10" cols="50" class="form-control"></textarea></div>
                <div class="change-textarea-size">
                    <a href="javascript:;" onclick="WIKIDOT.utils.changeTextareaRowNo('np-text',-5)">-</a>
                    <a href="javascript:;" onclick="WIKIDOT.utils.changeTextareaRowNo('np-text',5)">+</a>
                </div>
                <div class="edit-help-34">
                    Help: <a href="http://www.wikidot.com/doc:quick-reference" target="_blank">wiki text quick reference</a>                </div>
                                
                <div id="edit-post-captcha"></div>
                
                <div class="buttons alignleft">
                    <input class="btn btn-danger btn-small btn-sm" type="button" value="Cancel" id="np-cancel" onclick="WIKIDOT.modules.ForumNewPostFormModule.listeners.cancel(event)"/>
                    <input class="btn btn-default btn-small btn-sm" type="button" value="Preview" id="np-preview" onclick="WIKIDOT.modules.ForumNewPostFormModule.listeners.preview(event)"/>
                    <input class="btn btn-primary btn-small btn-sm" type="button" value="Post it" id="np-post" onclick="WIKIDOT.modules.ForumNewPostFormModule.listeners.save(event)"/>
                </div>
                    
            </form>
        </div>	

    </div> 
            <script type="text/javascript">
            
            $j(function() {
                WIKIDOT.Editor.init("np-text", "np-editor-panel");
            });
            
        </script>
    
 

<div style="display:none" id="post-options-template">
	<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.showPermalink(event,'%POST_ID%')" class="btn btn-default btn-small btn-sm">Permanent Link</a>
			<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.editPost(event,'%POST_ID%')" class="btn btn-default btn-small btn-sm">Edit</a>
			<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.deletePost(event,'%POST_ID%')" class="btn btn-danger btn-small btn-sm">Delete</a>
</div>
	
			</div>
	
	
	
</div></div>

                    </div>

                    


                    



                    

                    <div id="page-info-break"></div>
                    
                        <div id="page-options-container">
                            
                        </div>
                    
                    <div id="action-area" style="display: none;"></div>
                </div>
            </div>
            
            
            
            <div id="footer" style="display: block; visibility: visible;">
                <div class="options" style="display: block; visibility: visible;">
    <a href="http://www.wikidot.com/doc" id="wikidot-help-button">Help</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:terms-of-service" id="wikidot-tos-button">Terms of Service</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:privacy-policy" id="wikidot-privacy-button">Privacy</a>
    &nbsp;|
    <a href="javascript:;" id="bug-report-button" onclick="WIKIDOT.page.listeners.pageBugReport(event)">Report a bug</a>
    &nbsp;|
    <a href="javascript:;" id="abuse-report-button" onclick="WIKIDOT.page.listeners.flagPageObjectionable(event)">Flag as objectionable</a>
</div>
Powered by <a href="http://www.wikidot.com">Wikidot.com</a> 
            </div>
            
                <div id="license-area" class="license-area">
                    Unless otherwise stated, the content of this page is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 License</a>
                </div>
            
            
            



            <div id="extrac-div-1"><span></span></div><div id="extrac-div-2"><span></span></div><div id="extrac-div-3"><span></span></div>
            
            
            
            
                
            
        </div>
        
    </div>
<!-- These extra divs/spans may be used as catch-alls to add extra imagery. -->
<div id="extra-div-1"><span></span></div><div id="extra-div-2"><span></span></div><div id="extra-div-3"><span></span></div>
<div id="extra-div-4"><span></span></div><div id="extra-div-5"><span></span></div><div id="extra-div-6"><span></span></div>
</div>




</div>
<div id="dummy-ondomready-block" style="display: none;" ></div>
    <!-- Google Analytics load -->
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <!-- Quantcast -->
    <script type="text/javascript">
    _qoptions={
        qacct:"p-edL3gsnUjJzw-"
    };
    (function() {
        var qc = document.createElement('script'); qc.type = 'text/javascript'; qc.async = true;
        qc.src = ('https:' == document.location.protocol ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(qc, s);
    })();
    </script>
    <noscript>
        <img src="http://pixel.quantserve.com/pixel/p-edL3gsnUjJzw-.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
    </noscript>




<div id="page-options-bottom-tips" style="display: none;">
    <div id="edit-button-hovertip">
        Click here to edit contents of this page.    </div>
</div>
<div id="page-options-bottom-2-tips"  style="display: none;">
    <div id="edit-sections-button-hovertip">
        Click here to toggle editing of individual sections of the page (if possible).         Watch headings for an &quot;edit&quot; link when available.    </div>
    <div id="edit-append-button-hovertip">
        Append content without editing the whole page source.    </div>
    <div id="history-button-hovertip">
        Check out how this page has evolved in the past.    </div>
    <div id="discuss-button-hovertip">
        If you want to discuss contents of this page - this is the easiest way to do it.    </div>
    <div id="files-button-hovertip">
        View and manage file attachments for this page.    </div>
    <div id="site-tools-button-hovertip">
        A few useful tools to manage this Site.    </div>
    <div id="backlinks-button-hovertip">
        See pages that link to and include this page.    </div>
    <div id="rename-move-button-hovertip">
        Change the name (also URL address, possibly the category) of the page.    </div>
    <div id="view-source-button-hovertip">
        View wiki source for this page without editing.    </div>
    <div id="parent-page-button-hovertip">  
        View/set parent page (used for creating breadcrumbs and structured layout).    </div>
            <div id="abuse-report-button-hovertip">
            Notify administrators if there is objectionable content in this page.        </div>
        <div id="bug-report-button-hovertip">
            Something does not work as expected? Find out what you can do.        </div>
        <div id="wikidot-help-button-hovertip">
            General Wikidot.com documentation and help section.        </div>
        <div id="wikidot-tos-button-hovertip">
            Wikidot.com Terms of Service - what you can, what you should not etc.        </div>
        <div id="wikidot-privacy-button-hovertip">
            Wikidot.com Privacy Policy.          
        </div>
    </div>
</body>
</html>